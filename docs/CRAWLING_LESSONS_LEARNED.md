# ë„¤ì´ë²„ ì‡¼í•‘ í¬ë¡¤ë§ ì‹œí–‰ì°©ì˜¤ ë¬¸ì„œ

> ì´ ë¬¸ì„œëŠ” ë„¤ì´ë²„ ì‡¼í•‘ í¬ë¡¤ë§ ê°œë°œ ê³¼ì •ì—ì„œ ê²ªì€ ëª¨ë“  ì‹œí–‰ì°©ì˜¤ì™€ í•´ê²°ì±…ì„ ê¸°ë¡í•©ë‹ˆë‹¤.
> **ì ˆëŒ€ ê°™ì€ ì‹¤ìˆ˜ë¥¼ ë°˜ë³µí•˜ì§€ ì•Šê¸° ìœ„í•œ í•„ìˆ˜ ì°¸ê³  ë¬¸ì„œì…ë‹ˆë‹¤.**

## ğŸ“… ìµœì¢… ì—…ë°ì´íŠ¸: 2025-11-03 15:35

---

## ğŸš¨ ì¤‘ìš” ì—…ë°ì´íŠ¸ (2025-11-03)

### âœ… ë´‡ ì°¨ë‹¨ ì—†ëŠ” ì•ˆì •ì ì¸ í´ë¦­ ë°©ì‹ í™•ë¦½ (2025-11-03 14:40)

**ì„±ê³µ ìš”ì¸**:
1. **ì‹¤ì œ í´ë¦­ ë°©ì‹**: `await product.click()` (window.open() ëŒ€ì‹ )
2. **ì˜¬ë°”ë¥¸ ì…€ë ‰í„°**: ìƒí’ˆ ë§í¬ë§Œ ì„ íƒ, íŒë§¤ì ë§í¬ ì œì™¸
3. **ìì—°ìŠ¤ëŸ¬ìš´ ëŒ€ê¸°**: í´ë¦­ ê°„ ëœë¤ ëŒ€ê¸° (2~4ì´ˆ)

**ê²€ì¦ ê²°ê³¼** (2025-11-03 14:34):
- âœ… 13ë²ˆì§¸ë¶€í„° 10ê°œ ìƒí’ˆ ì—°ì† í´ë¦­ ì„±ê³µ
- âœ… ë´‡ ì°¨ë‹¨ 0ê±´
- âœ… ëª¨ë“  ìƒí’ˆ ìƒì„¸ í˜ì´ì§€ ì •ìƒ ì ‘ê·¼
- âœ… ê´‘ê³  12ê°œ ì •í™•íˆ ìŠ¤í‚µ

---

### âœ… ìƒí’ˆ ì…€ë ‰í„° - ìµœì¢… í™•ì • (2025-11-03)

#### âŒ ì‘ë™í•˜ì§€ ì•ŠëŠ” ì…€ë ‰í„°ë“¤
```python
# 0ê°œ ë°œê²¬
'a[href*="/products/"]:has(img)'

# íŒë§¤ì í˜ì´ì§€ê¹Œì§€ í¬í•¨ (ì˜ëª»ëœ í´ë¦­)
'div[class*="product"] a'  # 110ê°œ ë°œê²¬í•˜ì§€ë§Œ íŒë§¤ì ë§í¬ í¬í•¨!
```

#### âœ… ìµœì¢… í™•ì • ì…€ë ‰í„°
```python
# ìƒí’ˆ ë§í¬ë§Œ ì •í™•íˆ ì„ íƒ (59ê°œ ë°œê²¬)
products = await page.query_selector_all('a[class*="ProductCard_link"]')

# íŒë§¤ì ë§í¬ëŠ” ìë™ ì œì™¸ë¨
# - ìƒí’ˆ: miniProductCard_link, basicProductCard_link
# - íŒë§¤ì: productCardMallLink_mall_link (mall í¬í•¨)
```

**URL íŒ¨í„´**:
- `smartstore.naver.com/main/products/ìˆ«ì`
- ê´‘ê³  URL í•„í„°ë§: `ader.naver.com` ì œì™¸

**ì¤‘ìš”**: `div[class*="product"] a`ëŠ” íŒë§¤ì ìŠ¤í† ì–´ ë§í¬ê¹Œì§€ í¬í•¨í•˜ë¯€ë¡œ ì‚¬ìš© ê¸ˆì§€!

---

### âœ… ìƒí’ˆ ìƒì„¸ í˜ì´ì§€ ì •ë³´ ìˆ˜ì§‘ ì…€ë ‰í„° (2025-11-03 15:00)

**ì§ì ‘ ì ‘ê·¼ í…ŒìŠ¤íŠ¸ ê²°ê³¼**: 13/14 í•„ë“œ ì„±ê³µ (92.9%)

#### ğŸ“Š ì…€ë ‰í„° ìƒì„¸ ì •ë³´

| í•„ë“œ | ì…€ë ‰í„°/ë°©ë²• | íƒ€ì… | ì„±ê³µë¥  | ë¹„ê³  |
|------|------------|------|--------|------|
| product_id | URLì—ì„œ ì¶”ì¶œ `/products/(\d+)` | Regex | 100% | URL íŒŒì‹± |
| category_name | í•˜ë“œì½”ë”© | String | 100% | ë„¤ë¹„ê²Œì´ì…˜ ê²½ë¡œì—ì„œ ê°€ì ¸ì˜´ |
| product_name | `h3.DCVBehA8ZB` | CSS | 100% | ì²« ë²ˆì§¸ h3 |
| brand_name | JavaScript evaluate (í…Œì´ë¸”) | JS | 100% | ìƒí’ˆì •ë³´ í…Œì´ë¸”ì˜ "ë¸Œëœë“œ" í–‰ |
| price | `strong.Izp3Con8h8` | CSS | 100% | í˜„ì¬ íŒë§¤ê°€ |
| discount_rate | JavaScript evaluate | JS | 100% | "40%" íŒ¨í„´ + "í• ì¸" í…ìŠ¤íŠ¸ |
| review_count | JavaScript evaluate | JS | 100% | "ë¦¬ë·° \d+" íŒ¨í„´ |
| rating | JavaScript evaluate | JS | 100% | "í‰ì \|ë³„ì " + ì†Œìˆ˜ì  ìˆ«ì |
| search_tags | `a` íƒœê·¸ (# ì‹œì‘) | CSS+ìŠ¤í¬ë¡¤ | 100% | 10%-100% ìŠ¤í¬ë¡¤ í•„ìš” |
| product_url | í˜„ì¬ URL | String | 100% | ê·¸ëŒ€ë¡œ ì‚¬ìš© |
| thumbnail_url | `img[class*="image"]` | CSS | 100% | ì²« ë²ˆì§¸ ì´ë¯¸ì§€ |
| is_sold_out | JavaScript evaluate | JS | ? | "í’ˆì ˆ" í…ìŠ¤íŠ¸ ê²€ìƒ‰ (ê²€ì¦ í•„ìš”) |
| crawled_at | `datetime.now()` | Timestamp | 100% | - |
| updated_at | `datetime.now()` | Timestamp | 100% | - |

#### ğŸ’» ì‹¤ì œ ì‘ë™ ì½”ë“œ

**CSS ì…€ë ‰í„° ë°©ì‹** (ê°„ë‹¨í•œ ìš”ì†Œ):
```python
# ìƒí’ˆëª…
elem = await page.query_selector('h3.DCVBehA8ZB')
product_name = await elem.inner_text() if elem else None

# ë¸Œëœë“œëª… (ìƒí’ˆì •ë³´ í…Œì´ë¸”ì—ì„œ)
# ìŠ¤í¬ë¡¤ í•„ìš” (ìƒí’ˆì •ë³´ëŠ” í˜ì´ì§€ í•˜ë‹¨)
await page.evaluate('window.scrollTo(0, document.body.scrollHeight * 0.3)')
await asyncio.sleep(1)

brand_name = await page.evaluate('''() => {
    const allElements = document.querySelectorAll('td, th');
    for (let elem of allElements) {
        if (elem.textContent.trim() === 'ë¸Œëœë“œ') {
            const nextTd = elem.nextElementSibling;
            if (nextTd) {
                const brandValue = nextTd.textContent.trim();
                if (brandValue && brandValue.length < 50) {
                    return brandValue;
                }
            }
        }
    }
    return null;
}''')

# ê°€ê²© (ìˆ«ìë§Œ ì¶”ì¶œ)
elem = await page.query_selector('strong.Izp3Con8h8')
if elem:
    price_text = await elem.inner_text()
    price = int(re.sub(r'[^\d]', '', price_text))

# ì¸ë„¤ì¼
elem = await page.query_selector('img[class*="image"]')
thumbnail_url = await elem.get_attribute('src') if elem else None
```

**JavaScript evaluate ë°©ì‹** (ë³µì¡í•œ ìš”ì†Œ):
```python
# í• ì¸ìœ¨ (40% ì°¾ê¸°)
discount_rate = await page.evaluate('''() => {
    const allElements = document.querySelectorAll('*');
    for (let elem of allElements) {
        const text = elem.textContent || '';
        if (text.includes('%') && text.length < 20) {
            const match = text.match(/(\\d+)%/);
            if (match && elem.children.length <= 1) {
                const parent = elem.parentElement;
                if (parent && parent.textContent.includes('í• ì¸')) {
                    return match[1];
                }
            }
        }
    }
    return null;
}''')

# ë¦¬ë·° ìˆ˜ (ë¦¬ë·° 10 íŒ¨í„´)
review_count = await page.evaluate('''() => {
    const allElements = document.querySelectorAll('*');
    for (let elem of allElements) {
        const text = elem.textContent || '';
        if (text.includes('ë¦¬ë·°') && text.length < 20) {
            const match = text.match(/ë¦¬ë·°\\s*(\\d+)/);
            if (match) return match[1];
        }
    }
    return null;
}''')

# í‰ì  (í‰ì  4.3 íŒ¨í„´)
rating = await page.evaluate('''() => {
    const allElements = document.querySelectorAll('*');
    for (let elem of allElements) {
        const text = elem.textContent || '';
        if ((text.includes('í‰ì ') || text.includes('ë³„ì ')) && text.length < 30) {
            const match = text.match(/(\\d+\\.\\d+)/);
            if (match) return parseFloat(match[1]);
        }
    }
    return null;
}''')

# í’ˆì ˆ ì—¬ë¶€
is_sold_out = await page.evaluate('''() => {
    const allElements = document.querySelectorAll('button, span');
    for (let elem of allElements) {
        const text = elem.textContent || '';
        if (text.trim() === 'í’ˆì ˆ' || (text.includes('í’ˆì ˆ') && text.length < 10)) {
            return true;
        }
    }
    return false;
}''')
```

**ê²€ìƒ‰ íƒœê·¸ ìˆ˜ì§‘** (ìŠ¤í¬ë¡¤ í•„ìš”):
```python
all_tags_found = set()

# 10%ë¶€í„° 100%ê¹Œì§€ ì „ì²´ ìŠ¤í¬ë¡¤
for scroll_pos in range(10, 101, 10):
    await page.evaluate(f'window.scrollTo(0, document.body.scrollHeight * {scroll_pos/100})')
    await asyncio.sleep(1.5)

    all_links = await page.query_selector_all('a')
    for link in all_links:
        try:
            text = await link.inner_text()
            if text and text.strip().startswith('#'):
                clean_tag = text.strip().replace('#', '').strip()
                if 1 < len(clean_tag) < 30:
                    all_tags_found.add(clean_tag)
        except:
            pass

search_tags = list(all_tags_found)
```

#### ğŸ“ˆ ìˆ˜ì§‘ ì„±ê³µë¥  ë¶„ì„

**100% ìˆ˜ì§‘ ê°€ëŠ¥** (12ê°œ):
- product_id, category_name, product_name, brand_name
- price, discount_rate, review_count, rating
- search_tags, product_url, thumbnail_url
- crawled_at, updated_at

**ê²€ì¦ í•„ìš”** (1ê°œ):
- is_sold_out: í’ˆì ˆ ìƒí’ˆìœ¼ë¡œ í…ŒìŠ¤íŠ¸ í•„ìš”

**ì¶”ê°€ ìˆ˜ì§‘ ê°€ëŠ¥ ì •ë³´** (ì„ íƒì‚¬í•­):
- ì›ê°€ (í• ì¸ ì „ ê°€ê²©): 115,000ì› íŒ¨í„´ ì°¾ê¸°
- ë°°ì†¡ë¹„: "ë°°ì†¡" + "ì›" í…ìŠ¤íŠ¸ ê²€ìƒ‰
- ì œì¡°ì‚¬: ìƒí’ˆì •ë³´ í…Œì´ë¸”ì—ì„œ "ì œì¡°ì‚¬" í–‰ ì°¾ê¸°

#### ğŸ” HTML êµ¬ì¡° ì˜ˆì‹œ

```html
<!-- ìƒí’ˆëª… -->
<h3 class="DCVBehA8ZB">ë‚˜ì´í‚¤ ì—¬ì ëŸ°ë‹ë³µ...</h3>

<!-- ë¸Œëœë“œ/ìŠ¤í† ì–´ëª… -->
<h1>ë ˆë²¤ í”Œë ˆì´ìŠ¤</h1>

<!-- ê°€ê²© -->
<strong class="Izp3Con8h8">78,800ì›</strong>

<!-- í• ì¸ìœ¨ (JavaScript í•„ìš”) -->
<span>40% í• ì¸</span>

<!-- ë¦¬ë·° (JavaScript í•„ìš”) -->
<button>ë¦¬ë·° 10</button>

<!-- í‰ì  (JavaScript í•„ìš”) -->
<span>í‰ì  4.3</span>

<!-- ê²€ìƒ‰ íƒœê·¸ -->
<a href="#">#ë“œë¼ì´í•</a>
<a href="#">#ë“œë¼ì´í•í‹°ì…”ì¸ </a>

<!-- ì¸ë„¤ì¼ -->
<img class="image_..." src="https://shop-phinf.pstatic.net/...">
```

#### âš ï¸ ì£¼ì˜ì‚¬í•­

1. **JavaScript evaluate í•„ìˆ˜ ìš”ì†Œ**:
   - discount_rate, review_count, rating, is_sold_out
   - CSS ì…€ë ‰í„°ë¡œ ì§ì ‘ ì„ íƒ ë¶ˆê°€ëŠ¥
   - textContent íŒ¨í„´ ë§¤ì¹­ ë°©ì‹ ì‚¬ìš©

2. **ìŠ¤í¬ë¡¤ í•„ìˆ˜ ìš”ì†Œ**:
   - search_tags: í˜ì´ì§€ í•˜ë‹¨ì— ìœ„ì¹˜
   - 10%-100% ì „ì²´ ìŠ¤í¬ë¡¤ ê¶Œì¥
   - Set ì‚¬ìš©ìœ¼ë¡œ ì¤‘ë³µ ì œê±° í•„ìˆ˜

3. **ê²€ì¦ í•„ìš”**:
   - is_sold_out: í’ˆì ˆ ìƒí’ˆìœ¼ë¡œ ì¬í…ŒìŠ¤íŠ¸
   - ë‹¤ì–‘í•œ ìƒí’ˆìœ¼ë¡œ ì…€ë ‰í„° ì•ˆì •ì„± í™•ì¸

#### ğŸ“ í…ŒìŠ¤íŠ¸ íŒŒì¼
- `/tests/test_direct_product.py`: ì§ì ‘ ì ‘ê·¼ ì „ì²´ ìˆ˜ì§‘
- `/tests/test_13th_product_full.py`: ì¹´í…Œê³ ë¦¬ ê²½ìœ  13ë²ˆì§¸ ìƒí’ˆ
- `/tests/test_find_exact_selectors.py`: JavaScript ì…€ë ‰í„° ë¶„ì„
- `/tests/test_14th_product.py`: ì¼ê´€ì„± ê²€ì¦ (14ë²ˆì§¸ ìƒí’ˆ)

---

### âœ… ì…€ë ‰í„° ì¼ê´€ì„± ê²€ì¦ ê²°ê³¼ (2025-11-03 15:05)

**í…ŒìŠ¤íŠ¸ ìƒí’ˆ**: 13ë²ˆì§¸, 14ë²ˆì§¸ ìƒí’ˆìœ¼ë¡œ êµì°¨ ê²€ì¦

#### ğŸ¯ ì¼ê´€ì„± í™•ì¸ëœ ì…€ë ‰í„° (14ê°œ/14ê°œ = 100%) âœ…

| í•„ë“œ | 13ë²ˆì§¸ | 14ë²ˆì§¸ | ìƒíƒœ |
|------|--------|--------|------|
| product_id | âœ… | âœ… | ì™„ë²½ |
| category_name | âœ… | âœ… | ì™„ë²½ |
| product_name | âœ… | âœ… | ì™„ë²½ |
| brand_name | "ë‚˜ì´í‚¤" | "ì•¨ë¦¬í˜‘ë ¥ì‚¬" | ì™„ë²½ âœ… (ìˆ˜ì •ë¨) |
| price | 78,800ì› | 20,800ì› | ì™„ë²½ |
| discount_rate | 40% | 30% | ì™„ë²½ |
| review_count | 10ê°œ | 3ê°œ | ì™„ë²½ |
| rating | 4.3 | 4.73 | ì™„ë²½ |
| search_tags | 10ê°œ | 10ê°œ | ì™„ë²½ |
| product_url | âœ… | âœ… | ì™„ë²½ |
| thumbnail_url | âœ… | âœ… | ì™„ë²½ |
| is_sold_out | False | False | ì™„ë²½ |
| crawled_at | âœ… | âœ… | ì™„ë²½ |
| updated_at | âœ… | âœ… | ì™„ë²½ |

#### âœ… brand_name ë¬¸ì œ í•´ê²° (2025-11-03 15:20)

**ë¬¸ì œ**:
- ì´ˆê¸° ì…€ë ‰í„°: `h1` (ì²« ë²ˆì§¸)
- ì¼ë¶€ ìŠ¤í† ì–´ëŠ” h1ì´ ë¹„ì–´ìˆìŒ

**í•´ê²°ì±…**:
- ìƒí’ˆì •ë³´ í…Œì´ë¸”ì—ì„œ "ë¸Œëœë“œ" í–‰ ì°¾ê¸°
- JavaScript evaluateë¡œ td/th êµ¬ì¡° íƒìƒ‰
- 30% ìŠ¤í¬ë¡¤ í›„ ì¶”ì¶œ (ìƒí’ˆì •ë³´ëŠ” í˜ì´ì§€ í•˜ë‹¨)

**ê²°ê³¼**:
- 13ë²ˆì§¸: "ë‚˜ì´í‚¤" âœ…
- 14ë²ˆì§¸: "ì•¨ë¦¬í˜‘ë ¥ì‚¬" âœ…
- 100% ì„±ê³µ!

#### ğŸ“Š ìµœì¢… í‰ê°€

**ì „ì²´ ì„±ê³µë¥ **: 100% (14/14 í•„ë“œ)
- 13ë²ˆì§¸ ìƒí’ˆ: 100% (14/14)
- 14ë²ˆì§¸ ìƒí’ˆ: 100% (14/14)

**í”„ë¡œë•ì…˜ ì¤€ë¹„ë„**:
- âœ… 14ê°œ í•„ë“œ ëª¨ë‘: í”„ë¡œë•ì…˜ ìˆ˜ì¤€ ì‹ ë¢°ì„±
- âœ… ëª¨ë“  ì…€ë ‰í„° ì¼ê´€ì„± ê²€ì¦ ì™„ë£Œ
- âœ… ìµœì¢… í¬ë¡¤ë§ ì½”ë“œ ì ìš© ì¤€ë¹„ ì™„ë£Œ

---

### âœ… ìµœì¢… ìˆ˜ì§‘ í•„ë“œ ê²°ì • (2025-11-03 15:35)

**ì´ 13ê°œ í•„ë“œ ìˆ˜ì§‘** (is_sold_out ì œê±°)

#### ì œê±° ì‚¬ìœ 
- `is_sold_out`: í˜„ì¬ íŒë§¤ ì¤‘ì¸ ìƒí’ˆë§Œ í¬ë¡¤ë§í•˜ë¯€ë¡œ í•­ìƒ false â†’ ë¶ˆí•„ìš”

#### ìš°ì„ ìˆœìœ„ë³„ í•„ë“œ

**ğŸ¥‡ 1ìˆœìœ„ - í•µì‹¬ ê²€ìƒ‰/ë¶„ë¥˜ (3ê°œ)**:
- `category_name` - ì¹´í…Œê³ ë¦¬
- `product_name` - ìƒí’ˆëª…
- `search_tags` - ê²€ìƒ‰ íƒœê·¸ (ë°°ì—´)

**ğŸ¥ˆ 2ìˆœìœ„ - í•„ìˆ˜ í‘œì‹œ (4ê°œ)**:
- `price` - ê°€ê²©
- `rating` - í‰ì 
- `product_url` - ìƒí’ˆ ë§í¬
- `thumbnail_url` - ì¸ë„¤ì¼

**ğŸ¥‰ 3ìˆœìœ„ - ë¶€ê°€ ì •ë³´ (5ê°œ)**:
- `brand_name` - ë¸Œëœë“œëª…
- `discount_rate` - í• ì¸ìœ¨
- `review_count` - ë¦¬ë·° ìˆ˜
- `crawled_at` - ìˆ˜ì§‘ ì‹œê°„
- `updated_at` - ì—…ë°ì´íŠ¸ ì‹œê°„

**â• ìë™ ìƒì„± (1ê°œ)**:
- `product_id` - ìƒí’ˆ ê³ ìœ  ID (URLì—ì„œ ì¶”ì¶œ)

#### DB ìŠ¤í‚¤ë§ˆ ì—…ë°ì´íŠ¸
- ë²„ì „: 1.1.0
- íŒŒì¼: `database/create_tables.sql`
- ë³€ê²½: is_sold_out ì»¬ëŸ¼ ì œê±°, í•„ë“œ ìˆœì„œ ìš°ì„ ìˆœìœ„ ë°˜ì˜

---

## â›” ë„¤ì´ë²„ ì‡¼í•‘ API ê´€ë ¨ (ì ˆëŒ€ ì‚¬ìš© ê¸ˆì§€)

### ë„¤ì´ë²„ ì‡¼í•‘ APIë¥¼ ì‚¬ìš©í•˜ë©´ ì•ˆ ë˜ëŠ” ì´ìœ  (2025-09-26)
**ì¤‘ìš”**: ë„¤ì´ë²„ ì‡¼í•‘ APIëŠ” **ì ˆëŒ€ ì‚¬ìš© ê¸ˆì§€!**

### APIê°€ ì œê³µí•˜ëŠ” ë°ì´í„° (ë§¤ìš° ì œí•œì )
ë„¤ì´ë²„ ì‡¼í•‘ ê²€ìƒ‰ APIëŠ” ë‹¤ìŒ í•„ë“œë§Œ ì œê³µ:
- `title`: ìƒí’ˆëª… (HTML íƒœê·¸ í¬í•¨ëœ ê°„ë‹¨í•œ ì œëª©)
- `link`: ë„¤ì´ë²„ ì‡¼í•‘ ìƒí’ˆ ë§í¬
- `image`: ì¸ë„¤ì¼ ì´ë¯¸ì§€ URL (1ê°œ)
- `lprice`: ìµœì €ê°€
- `hprice`: ìµœê³ ê°€
- `mallName`: íŒë§¤ ì‡¼í•‘ëª°ëª…
- `productId`: ìƒí’ˆ ID
- `productType`: ìƒí’ˆ íƒ€ì… ë²ˆí˜¸
- `brand`: ë¸Œëœë“œëª…
- `maker`: ì œì¡°ì‚¬
- `category1~4`: ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜

### í¬ë¡¤ë§ìœ¼ë¡œë§Œ ì–»ì„ ìˆ˜ ìˆëŠ” ì¤‘ìš” ì •ë³´
APIë¡œëŠ” ì ˆëŒ€ ì–»ì„ ìˆ˜ ì—†ëŠ” í•„ìˆ˜ ì •ë³´ë“¤:
- âŒ **ë¦¬ë·° ê°œìˆ˜ì™€ í‰ì ** (êµ¬ë§¤ ê²°ì • í•µì‹¬ ìš”ì†Œ)
- âŒ **ì‹¤ì œ í• ì¸ìœ¨** (%)
- âŒ **ë°°ì†¡ ì •ë³´** (ë¬´ë£Œë°°ì†¡, ë¡œì¼“ë°°ì†¡ ë“±)
- âŒ **ì¿ í° ë° í˜œíƒ ì •ë³´**
- âŒ **íŒë§¤ìë³„ ê°€ê²© ë¹„êµ**
- âŒ **ì¬ê³  ìƒíƒœ** (í’ˆì ˆ, í•œì •ìˆ˜ëŸ‰)
- âŒ **ì¸ê¸°ë„/íŒë§¤ëŸ‰ ìˆœìœ„**
- âŒ **ìƒí’ˆ ì˜µì…˜** (ìƒ‰ìƒ, ì‚¬ì´ì¦ˆ ë“±)
- âŒ **ìƒì„¸ ì´ë¯¸ì§€ë“¤** (ì—¬ëŸ¬ ì¥)
- âŒ **ìƒí’ˆ ìƒì„¸ ì„¤ëª…**
- âŒ **ì°œ ê°œìˆ˜**
- âŒ **êµ¬ë§¤ ë¬¸ì˜ ë‚´ìš©**
- âŒ **ìƒì„¸ ìŠ¤í™ ì •ë³´**
- âŒ **ì—°ê´€/ì¶”ì²œ ìƒí’ˆ**
- âŒ **ë² ìŠ¤íŠ¸ ìƒí’ˆ ìˆœìœ„**
- âŒ **ì‹œê°„ë³„ ê°€ê²© ë³€ë™**
- âŒ **í”„ë¡œëª¨ì…˜ ë°°ì§€** (ë² ìŠ¤íŠ¸, ì‹ ìƒí’ˆ ë“±)

### ê²€ì¦ ê²°ê³¼ (2025-09-26)
- í…ŒìŠ¤íŠ¸ íŒŒì¼: `/tests/test_naver_api.py`
- APIëŠ” ë‹¨ìˆœ ê²€ìƒ‰ ê²°ê³¼ë§Œ ì œê³µ
- ì‹¤ì œ ì‡¼í•‘ëª° ìš´ì˜ì— í•„ìš”í•œ ë°ì´í„° 90% ì´ìƒ ëˆ„ë½

**ê²°ë¡ **:
- âŒ ë„¤ì´ë²„ ì‡¼í•‘ API ì‚¬ìš© ê¸ˆì§€ (ë°ì´í„° ë¶€ì¡±)
- âœ… ë°˜ë“œì‹œ ì›¹ í¬ë¡¤ë§ìœ¼ë¡œ ì™„ì „í•œ ë°ì´í„° ìˆ˜ì§‘

---

## ğŸš« ë´‡ ì°¨ë‹¨ ê´€ë ¨

### ë©”ì¸ í˜ì´ì§€ ì ‘ì† í…ŒìŠ¤íŠ¸ ê²°ê³¼ (2025-09-26)
**í…ŒìŠ¤íŠ¸ íŒŒì¼**: `/tests/test_main_page_access.py`

**í…ŒìŠ¤íŠ¸í•œ 4ê°€ì§€ ë°©ë²•**:
1. **ê¸°ë³¸ ì ‘ì†** â†’ âŒ ë³´ì•ˆ ê²€ì¦ í˜ì´ì§€
2. **User-Agent ì„¤ì •** â†’ âŒ ì—¬ì „íˆ ë³´ì•ˆ ê²€ì¦
3. **Stealth ëª¨ë“œ** â†’ âŒ ê°ì§€ë¨
4. **ë‹¨ê³„ì  ì ‘ê·¼ (ë„¤ì´ë²„ ë©”ì¸ â†’ ì‡¼í•‘)** â†’ âŒ íƒ€ì„ì•„ì›ƒ

**ì‹¤íŒ¨ ì›ì¸ ë¶„ì„**:
- ë„¤ì´ë²„ì˜ ë´‡ ê°ì§€ ì‹œìŠ¤í…œì´ ë§¤ìš° ê°•ë ¥í•¨
- ê¸°ë³¸ì ì¸ Stealth ì„¤ì •ìœ¼ë¡œëŠ” ìš°íšŒ ë¶ˆê°€ëŠ¥
- User-Agent ë³€ê²½ë§Œìœ¼ë¡œëŠ” ë¶€ì¡±
- ë„¤ì´ë²„ ë©”ì¸ì—ì„œ í´ë¦­ ë°©ì‹ë„ ì°¨ë‹¨ë¨

**ë‹¤ìŒ ì‹œë„í•  ë°©ë²•ë“¤**:
- ì‹¤ì œ Chrome í”„ë¡œí•„ ì‚¬ìš© (ì¿ í‚¤, íˆìŠ¤í† ë¦¬ í¬í•¨)
- ë” ì •êµí•œ Stealth ì„¤ì • (í”ŒëŸ¬ê·¸ì¸, ì–¸ì–´, ì‹œê°„ëŒ€ ë“±)
- ì‹¤ì œ ì‚¬ìš©ì í–‰ë™ ëª¨ë°© (ë§ˆìš°ìŠ¤ ì›€ì§ì„, ëœë¤ ë”œë ˆì´)
- Firefoxë‚˜ WebKit ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸

### ğŸ‰ ì„±ê³µí•œ ì ‘ì† ë°©ë²•! (2025-09-26)
**í…ŒìŠ¤íŠ¸ íŒŒì¼**: `/tests/test_advanced_access.py`

**ì„±ê³µí•œ 2ê°€ì§€ ë°©ë²•**:
1. âœ… **ì™„ì „í•œ Stealth ì„¤ì • (Chromium)**
   - ëª¨ë“  ë´‡ ê°ì§€ ì†ì„± ì œê±°
   - WebGL, Canvas Fingerprint ë°©ì§€
   - Chrome ê°ì²´, í”ŒëŸ¬ê·¸ì¸ ì¶”ê°€
   - ì„±ê³µ ìŠ¤í¬ë¦°ìƒ·: `tests/advanced_success.png`

2. âœ… **Firefox ë¸Œë¼ìš°ì €**
   - ê¸°ë³¸ Firefoxë¡œ ì ‘ì† ì„±ê³µ
   - ë³„ë„ Stealth ì„¤ì • ë¶ˆí•„ìš”

**í•µì‹¬ Stealth ìŠ¤í¬ë¦½íŠ¸** (ë°˜ë“œì‹œ í¬í•¨):
```javascript
// webdriver ì œê±°
Object.defineProperty(navigator, 'webdriver', {
    get: () => undefined
});

// chrome ê°ì²´ ì¶”ê°€
window.chrome = {
    runtime: {},
    loadTimes: function() {},
    csi: function() {},
    app: {}
};

// plugins ì¶”ê°€
Object.defineProperty(navigator, 'plugins', {
    get: () => [/* í”ŒëŸ¬ê·¸ì¸ ë°°ì—´ */]
});

// languages ì„¤ì •
Object.defineProperty(navigator, 'languages', {
    get: () => ['ko-KR', 'ko', 'en-US', 'en']
});

// platform ì„¤ì •
Object.defineProperty(navigator, 'platform', {
    get: () => 'Win32'
});
```

**ì ìš© ë°©ë²•**:
- Chromium: ì™„ì „í•œ Stealth ìŠ¤í¬ë¦½íŠ¸ í•„ìˆ˜
- Firefox: ê·¸ëƒ¥ ì‚¬ìš©í•´ë„ ë¨!

### ë„¤ì´ë²„ ë©”ì¸ vs ì‡¼í•‘ ì ‘ì† ì°¨ì´ (2025-09-26)
**ì¤‘ìš” ë°œê²¬**:
- âœ… `naver.com` â†’ ì •ìƒ ì ‘ì† (ìº¡ì°¨ ì—†ìŒ)
- âŒ `shopping.naver.com/ns/home` â†’ ìº¡ì°¨ ë°œìƒ

**ì›ì¸ ë¶„ì„**:
- ë„¤ì´ë²„ ì‡¼í•‘ì€ ì§ì ‘ ì ‘ì† ì‹œ ë´‡ ê°ì§€ê°€ ë” ì—„ê²©í•¨
- ë„¤ì´ë²„ ë©”ì¸ì—ì„œ ì‹œì‘í•˜ë©´ ì •ìƒ ì‚¬ìš©ìë¡œ ì¸ì‹

**í•´ê²° ë°©ë²•**:
1. ë„¤ì´ë²„ ë©”ì¸(`naver.com`) ë¨¼ì € ì ‘ì†
2. ì‡¼í•‘ íƒ­ í´ë¦­ìœ¼ë¡œ ì´ë™
3. ë˜ëŠ” ìº¡ì°¨ ìë™ í•´ê²° ê¸°ëŠ¥ êµ¬í˜„

### âš ï¸ ì ˆëŒ€ ê·œì¹™: í´ë¦­ìœ¼ë¡œë§Œ ì´ë™! (2025-09-26)
**ì¤‘ìš”**:
- âŒ **ì ˆëŒ€ ì§ì ‘ URL ì ‘ì† ê¸ˆì§€**: `await page.goto("shopping.naver.com")` â†’ ìº¡ì°¨!
- âœ… **ë°˜ë“œì‹œ í´ë¦­ìœ¼ë¡œ ì´ë™**: ë„¤ì´ë²„ ë©”ì¸ â†’ ì‡¼í•‘ í´ë¦­
- âš ï¸ **ë¸Œë¼ìš°ì € ì¤‘ë³µ ì‹¤í–‰ ê¸ˆì§€**: ì´ë¯¸ ì—´ë ¤ìˆìœ¼ë©´ ê·¸ê³³ì—ì„œ ì‘ì—…

**ì˜¬ë°”ë¥¸ ì ‘ê·¼ ìˆœì„œ**:
```python
# 1. ë¸Œë¼ìš°ì €ê°€ ì´ë¯¸ ì—´ë ¤ìˆëŠ”ì§€ í™•ì¸
# - í˜„ì¬ URLì´ https://www.naver.com/ ì¸ì§€ ì²´í¬
# - ì—´ë ¤ìˆìœ¼ë©´ ê·¸ ë¸Œë¼ìš°ì €ì—ì„œ ê³„ì† ì‘ì—…

# 2. ì—†ì„ ë•Œë§Œ ìƒˆ ë¸Œë¼ìš°ì € ì‹¤í–‰
if not browser_exists:
    browser = await p.chromium.launch(headless=False)
    await page.goto("https://www.naver.com")

# 3. ì‡¼í•‘ ì•„ì´ì½˜ í´ë¦­ (selector ì‚¬ìš©)
shopping_link = await page.query_selector("#shortcutArea > ul > li:nth-child(4) > a")
await shopping_link.click()
```

**ì ˆëŒ€ í•˜ì§€ ë§ ê²ƒ**:
```python
# âŒ ì´ë ‡ê²Œ í•˜ë©´ ìº¡ì°¨ ë°œìƒ!
await page.goto("https://shopping.naver.com/ns/home")

# âŒ ë¸Œë¼ìš°ì €ê°€ ì´ë¯¸ ì—´ë ¤ìˆëŠ”ë° ë˜ ìƒˆë¡œ ì‹¤í–‰
browser = await p.chromium.launch()  # ì¤‘ë³µ ì‹¤í–‰ ê¸ˆì§€!
```

---

## ğŸš« ë´‡ ì°¨ë‹¨ ê´€ë ¨

### 1. Headless ëª¨ë“œ ì°¨ë‹¨ (2025-09-26)
**ë¬¸ì œ**:
- Headless ëª¨ë“œ(ë¸Œë¼ìš°ì € ìˆ¨ê¹€)ë¡œ ì‹¤í–‰ ì‹œ ë„¤ì´ë²„ê°€ ì¦‰ì‹œ ì°¨ë‹¨
- HTTP 405 ì—ëŸ¬ ë˜ëŠ” "ì ê²€ ì¤‘" í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸

**í…ŒìŠ¤íŠ¸ ê²°ê³¼**:
```python
# headless=True â†’ 405 ì—ëŸ¬, ì°¨ë‹¨ë¨
# headless=False â†’ 405 ì—ëŸ¬ (ìë™í™” ê°ì§€)
```

**ê²°ë¡ **:
- âŒ **ì ˆëŒ€ Headless ëª¨ë“œ ì‚¬ìš© ê¸ˆì§€**
- âŒ ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰ ì˜µì…˜ ì œê±°ë¨
- âœ… í•­ìƒ ë¸Œë¼ìš°ì € ì°½ì´ ë³´ì´ëŠ” ìƒíƒœë¡œë§Œ ì‹¤í–‰

**ì¦ê±°**:
- í…ŒìŠ¤íŠ¸ íŒŒì¼: `/tests/test_headless.py`
- 405 ì—ëŸ¬ = ë„¤ì´ë²„ê°€ ìë™í™” ë¸Œë¼ìš°ì € ê°ì§€
- "ì ê²€ ì¤‘" í˜ì´ì§€ = ì°¨ë‹¨ëœ ê²ƒ

---

### 2. URL ì ‘ê·¼ ë°©ì‹ (2025-09-26)
**ë¬¸ì œ**:
- ì˜ëª»ëœ URL ì‚¬ìš© ì‹œ ì°¨ë‹¨
- ì§ì ‘ ì¹´í…Œê³ ë¦¬ URL ì ‘ê·¼ ì‹œ ì°¨ë‹¨

**ì˜¬ë°”ë¥¸ ì ‘ê·¼**:
```python
# âœ… ì •í™•í•œ URL (ë°˜ë“œì‹œ ì´ê²ƒë§Œ ì‚¬ìš©)
base_url = 'https://shopping.naver.com/ns/home'

# âŒ ì˜ëª»ëœ URLë“¤ (ì°¨ë‹¨ë¨)
# 'https://shopping.naver.com/'  â†’ 302 ë¦¬ë‹¤ì´ë ‰íŠ¸ â†’ ì°¨ë‹¨
# 'https://shopping.naver.com/home'  â†’ 405 ì—ëŸ¬
```

**ê·œì¹™**:
1. ë°˜ë“œì‹œ ë©”ì¸ í˜ì´ì§€(`/ns/home`)ì—ì„œ ì‹œì‘
2. ì¹´í…Œê³ ë¦¬ëŠ” í´ë¦­ìœ¼ë¡œë§Œ ì´ë™
3. ì ˆëŒ€ ì¹´í…Œê³ ë¦¬ URL ì§ì ‘ ì ‘ê·¼ ê¸ˆì§€

---

### 3. ì¤‘ë³µ ì²´í¬ ì†ë„ë¡œ ì¸í•œ ë´‡ ì°¨ë‹¨ (2025-10-31)
**ë¬¸ì œ**:
- DB ì¤‘ë³µ ì²´í¬ ì‹œ **ëŒ€ê¸° ì‹œê°„ ì—†ì´ ì´ˆê³ ì† ìŠ¤ìº”** â†’ ë´‡ìœ¼ë¡œ ê°ì§€
- 235ê°œ ì¤‘ë³µ ìƒí’ˆì„ ë°€ë¦¬ì´ˆ ë‹¨ìœ„ë¡œ ì²´í¬ â†’ ìƒˆ ìƒí’ˆ í´ë¦­ â†’ ì°¨ë‹¨
- ì¦ìƒ: "ìƒí’ˆì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤" ì—ëŸ¬ í˜ì´ì§€

**ë¡œê·¸ ì¦ê±°**:
```
[17:37:54] [SKIP-ì¤‘ë³µ] ID:5843536955
[17:37:54] [SKIP-ì¤‘ë³µ] ID:12374881479
[17:37:54] [SKIP-ì¤‘ë³µ] ID:12374882210
...
(20ê°œì˜ ì¤‘ë³µì„ ê°™ì€ ì´ˆì— ì´ˆê³ ì† ì²´í¬!)
```

**ì›ì¸ ë¶„ì„**:
```python
# âŒ ê¸°ì¡´ ì½”ë“œ (product_crawler_v2.py:134-142)
if await self._is_duplicate(product_id):
    print(f" [SKIP-ì¤‘ë³µ] ID:{product_id}")
    return None  # ëŒ€ê¸° ì‹œê°„ 0ì´ˆ - ì¦‰ì‹œ return!

# ì¤‘ë³µì´ ì•„ë‹ ë•Œë§Œ ëŒ€ê¸°
await asyncio.sleep(random.uniform(2.0, 7.0))
```

**í•´ê²°ì±…**:
1. **ì¤‘ë³µ ì²´í¬ í›„ì—ë„ ì§§ì€ ëŒ€ê¸°** (0.3-0.6ì´ˆ)
   - ìì—°ìŠ¤ëŸ¬ìš´ ìŠ¤ìº” íŒ¨í„´ ëª¨ë°©
2. **5ê°œ ì—°ì† ì¤‘ë³µë§ˆë‹¤ ë” ê¸´ ëŒ€ê¸°** (1.5-2.5ì´ˆ)
   - ì¸ê°„ì ì¸ í˜ì´ì§€ ìŠ¤ìº” íŒ¨í„´
3. **ìƒˆ ìƒí’ˆ í´ë¦­ ì „ ì¶”ê°€ ëŒ€ê¸°** (1.5-2.5ì´ˆ)
   - ì¤‘ë³µ ì²´í¬ ì§í›„ ë°”ë¡œ í´ë¦­í•˜ë©´ ì˜ì‹¬ìŠ¤ëŸ¬ì›€

**ìˆ˜ì •ëœ ì½”ë“œ**:
```python
# âœ… ê°œì„  ì½”ë“œ (product_crawler_v2.py:139-148)
if await self._is_duplicate(product_id):
    print(f" [SKIP-ì¤‘ë³µ] ID:{product_id}")
    # ì¤‘ë³µ ì²´í¬ì—ë„ ì§§ì€ ëŒ€ê¸° (ë´‡ ì°¨ë‹¨ ë°©ì§€)
    await asyncio.sleep(random.uniform(0.3, 0.6))
    return None

# ìƒˆ ìƒí’ˆ ë°œê²¬ ì‹œ ì¶”ê°€ ëŒ€ê¸°
await asyncio.sleep(random.uniform(1.5, 2.5))
await asyncio.sleep(random.uniform(2.0, 5.0))

# 5ê°œ ì—°ì† ì¤‘ë³µë§ˆë‹¤ ë” ê¸´ ëŒ€ê¸° (for ë£¨í”„ ë‚´)
if is_dup_flag[0] and consecutive_duplicates % 5 == 0:
    await asyncio.sleep(random.uniform(1.5, 2.5))
```

**í•µì‹¬ ê·œì¹™**:
- âŒ **ì ˆëŒ€ ëŒ€ê¸° ì‹œê°„ ì—†ì´ ì—°ì† ìŠ¤ìº” ê¸ˆì§€**
- âœ… **ëª¨ë“  ìƒí’ˆ í™•ì¸ í›„ ìµœì†Œ 0.3ì´ˆ ëŒ€ê¸°**
- âœ… **ì—°ì† ì¤‘ë³µ ì‹œ ëŒ€ê¸° ì‹œê°„ ì¦ê°€**
- âœ… **ìƒˆ ìƒí’ˆ í´ë¦­ ì „ ì¶©ë¶„í•œ ëŒ€ê¸°**

**ê²€ì¦ ë°©ë²•**:
```bash
# ë¡œê·¸ì—ì„œ ì‹œê°„ í™•ì¸
# ì¤‘ë³µ ì²´í¬ ê°„ ìµœì†Œ 0.3ì´ˆ ì´ìƒ ê°„ê²© í™•ì¸
grep "SKIP-ì¤‘ë³µ" logs/*.log | tail -20
```

---

### 4. ì—ëŸ¬ ì²´í¬ íƒ€ì´ë°ìœ¼ë¡œ ì¸í•œ ë´‡ ì°¨ë‹¨ (2025-10-31 **ìµœì¢… í•´ê²°**)
**ë¬¸ì œ**:
- ìƒí’ˆ í´ë¦­ í›„ "ìƒí’ˆì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤" ì—ëŸ¬ í˜ì´ì§€ ì§€ì† ë°œìƒ
- **ì‚¬ìš©ì ê´€ì°°**: "1ë²ˆ ìƒí’ˆ í´ë¦­ í›„ ì¶©ë¶„íˆ ë¡œë”© ë˜ì§€ ì•Šì•˜ëŠ”ë° ì¡°ê¸ˆìˆë‹¤ê°€ ë°”ë¡œ ìƒí’ˆ ì •ë³´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ê³  ë‚˜ì™€. ë„ˆë¬´ ë¹ ë¥´ê²Œ ë­”ê°€ ì‘ì—…ì„ í•˜ëŠ”ê±°ì•¼?"

**ê·¼ë³¸ ì›ì¸**:
1. **Stealth ìŠ¤í¬ë¦½íŠ¸ ëˆ„ë½** - `navigator.webdriver` ì œê±° ì•ˆë¨
2. **ì—ëŸ¬ ì²´í¬ íƒ€ì´ë°ì´ ë„ˆë¬´ ë¹ ë¦„** - ì¸ê°„ í–‰ë™ ì‹œë®¬ë ˆì´ì…˜ **ì „ì—** ì—ëŸ¬ ì²´í¬
3. **ğŸ”´ í˜ì´ì§€ ë¡œë”© ëŒ€ê¸° ì‹œê°„ ë¶€ì¡±** - networkidle íƒ€ì„ì•„ì›ƒ 8ì´ˆ, ì˜ˆì™¸ ì²˜ë¦¬ 2ì´ˆ (ë¸Œëœë“œ í˜ì´ì§€ëŠ” ì´ë¯¸ì§€ ë§ì•„ì„œ ë” ì˜¤ë˜ ê±¸ë¦¼)

```python
# âŒ ê¸°ì¡´ ì½”ë“œ ìˆœì„œ (product_crawler_v2.py:216-277)
await detail_page.wait_for_load_state('domcontentloaded', timeout=15000)
await asyncio.sleep(random.uniform(2.0, 3.0))

# âŒ ë¬¸ì œ: ì—¬ê¸°ì„œ ì—ëŸ¬ ì²´í¬ (í´ë¦­ í›„ 6-9ì´ˆë§Œ!)
for selector in error_selectors:
    if await detail_page.query_selector(selector):
        print(f"\n[ê²½ê³ ] ë´‡ ì°¨ë‹¨ ê°ì§€")
        return None

# ì´í›„ì— ì¸ê°„ í–‰ë™ ì‹œë®¬ë ˆì´ì…˜
await detail_page.wait_for_load_state('networkidle', timeout=8000)
await asyncio.sleep(random.uniform(3.0, 5.0))  # ì½ê¸° ì‹œê°„
await detail_page.mouse.move(...)  # ë§ˆìš°ìŠ¤ ì›€ì§ì„
await detail_page.evaluate('window.scrollBy(0, 300)')  # ìŠ¤í¬ë¡¤
```

**ë¬¸ì œì **:
- í´ë¦­ í›„ **6-9ì´ˆë§Œ**ì— ì—ëŸ¬ ì²´í¬ â†’ ë´‡ì´ ë„ˆë¬´ ë¹ ë¥´ê²Œ ì²´í¬í•˜ëŠ” íŒ¨í„´
- networkidle ëŒ€ê¸°, ì½ê¸° ì‹œê°„, ë§ˆìš°ìŠ¤ ì›€ì§ì„, ìŠ¤í¬ë¡¤ì´ **ì—ëŸ¬ ì²´í¬ ì´í›„**
- ë„¤ì´ë²„ê°€ "ì¸ê°„ì€ í˜ì´ì§€ ë¡œë“œ ì§í›„ ë°”ë¡œ ì—ëŸ¬ í™•ì¸ ì•ˆí•¨"ì„ ê°ì§€

**âœ… í•´ê²°ì±… 1: Stealth ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€**
```python
# âœ… ë¸Œë¼ìš°ì € ì»¨í…ìŠ¤íŠ¸ ìƒì„± í›„ (product_crawler_v2.py:444-457)
await context.add_init_script("""
    Object.defineProperty(navigator, 'webdriver', {
        get: () => undefined
    });

    Object.defineProperty(navigator, 'plugins', {
        get: () => [1, 2, 3]
    });

    Object.defineProperty(navigator, 'languages', {
        get: () => ['ko-KR', 'ko', 'en-US', 'en']
    });
""")
```

**âœ… í•´ê²°ì±… 2: ì—ëŸ¬ ì²´í¬ë¥¼ ì¸ê°„ í–‰ë™ ì‹œë®¬ë ˆì´ì…˜ **ì´í›„**ë¡œ ì´ë™**
```python
# âœ… ìˆ˜ì •ëœ ì½”ë“œ ìˆœì„œ (product_crawler_v2.py:216-277)
# 1. í˜ì´ì§€ ë¡œë“œ ëŒ€ê¸°
await detail_page.wait_for_load_state('domcontentloaded', timeout=15000)
await asyncio.sleep(random.uniform(2.0, 3.0))

# 2. URL ê²€ì¦ (ë¹ ë¥¸ ì²´í¬ëŠ” ê´œì°®ìŒ)
current_url = detail_page.url
if not re.search(r'/products/\d+', current_url):
    return None

# 3. ì™„ì „ ë¡œë“œ ëŒ€ê¸° (ğŸ”´ ë¸Œëœë“œ í˜ì´ì§€ëŠ” ì´ë¯¸ì§€ ë§ì•„ì„œ ë” ì˜¤ë˜ ê±¸ë¦¼!)
# âŒ timeout=8000 â†’ ë„ˆë¬´ ì§§ìŒ! ë¸Œëœë“œ í˜ì´ì§€ëŠ” 15ì´ˆ í•„ìš”
# âœ… timeout=15000
await detail_page.wait_for_load_state('networkidle', timeout=15000)
except:
    # âŒ await asyncio.sleep(2.0) â†’ ë„ˆë¬´ ì§§ìŒ!
    # âœ… await asyncio.sleep(5.0) â†’ ë¸Œëœë“œ í˜ì´ì§€ ë¡œë”© ì¤‘ì—ë„ ì¶©ë¶„íˆ ëŒ€ê¸°
    await asyncio.sleep(5.0)

# 4. ì¸ê°„ì²˜ëŸ¼ í–‰ë™: í˜ì´ì§€ ì½ê¸° ì‹œê°„
await asyncio.sleep(random.uniform(3.0, 5.0))

# 5. ë§ˆìš°ìŠ¤ ì›€ì§ì„ ì‹œë®¬ë ˆì´ì…˜
await detail_page.mouse.move(
    random.randint(200, 800),
    random.randint(100, 400)
)
await asyncio.sleep(random.uniform(0.5, 1.0))

# 6. ë¶€ë“œëŸ¬ìš´ ë‹¤ë‹¨ê³„ ìŠ¤í¬ë¡¤ (3ë‹¨ê³„)
await detail_page.evaluate('window.scrollBy(0, 300)')
await asyncio.sleep(random.uniform(1.5, 2.5))
await detail_page.evaluate('window.scrollBy(0, 400)')
await asyncio.sleep(random.uniform(1.5, 2.5))
await detail_page.evaluate('window.scrollBy(0, 500)')
await asyncio.sleep(random.uniform(1.0, 2.0))

# âœ… 7. ì´ì œ ì—ëŸ¬ ì²´í¬ (í´ë¦­ í›„ ì•½ 15-20ì´ˆ í›„)
for selector in error_selectors:
    if await detail_page.query_selector(selector):
        print(f"\n[ê²½ê³ ] ë´‡ ì°¨ë‹¨ ê°ì§€: {selector}")
        return None

# 8. ìƒí’ˆ ì •ë³´ ìˆ˜ì§‘
detail_info = await self._collect_detail_info(detail_page)
```

**íƒ€ì´ë° ë¹„êµ**:
- âŒ **ì´ì „**: í´ë¦­ â†’ 6-9ì´ˆ â†’ ì—ëŸ¬ ì²´í¬ (ë„ˆë¬´ ë¹ ë¦„!)
- âœ… **ìˆ˜ì •**: í´ë¦­ â†’ 15-20ì´ˆ â†’ ìŠ¤í¬ë¡¤ ì™„ë£Œ â†’ ì—ëŸ¬ ì²´í¬ (ì¸ê°„ì²˜ëŸ¼!)

**í…ŒìŠ¤íŠ¸ ê²°ê³¼ (2025-10-31)**:
```
[1ë²ˆì§¸] ìˆ˜ì§‘ ì‹œë„... [ìš¸ ë¸”ë Œë””ë“œ ìŠ¤íƒ ì¹´ë¼ í•˜í”„ ì½”íŠ¸_MIWJHFV0PG] íƒœê·¸ 0ê°œ (ì´ 1ê°œ)
[2ë²ˆì§¸] ìˆ˜ì§‘ ì‹œë„... [Ankle Blouson Zuri Pants_Burgundy] íƒœê·¸ 0ê°œ (ì´ 2ê°œ)
[ì™„ë£Œ] ëª©í‘œ ê°œìˆ˜ ë„ë‹¬ (2ê°œ)
```
- ë´‡ ì°¨ë‹¨ ì—ëŸ¬: **0ê±´**
- ì„±ê³µë¥ : **100%** (2/2)

**í•µì‹¬ êµí›ˆ**:
- ğŸ”´ **ë¹ ë¥´ê²Œ ë­”ê°€ í•˜ë ¤ê³  í•˜ë©´ 100% ë´‡ìœ¼ë¡œ ê°ì§€ë¨!**
- âŒ **ì¸ê°„ í–‰ë™ ì‹œë®¬ë ˆì´ì…˜ ì „ì— ì—ëŸ¬ ì²´í¬ ê¸ˆì§€**
- âœ… **ëª¨ë“  ì¸ê°„ í–‰ë™(ì½ê¸°, ë§ˆìš°ìŠ¤, ìŠ¤í¬ë¡¤) ì™„ë£Œ í›„ ì—ëŸ¬ ì²´í¬**
- âœ… **Stealth ìŠ¤í¬ë¦½íŠ¸ í•„ìˆ˜** (navigator.webdriver ì œê±°)
- âœ… **í˜ì´ì§€ ë¡œë”© ëŒ€ê¸° ì‹œê°„ ì¶©ë¶„íˆ!** networkidle 15ì´ˆ + ì˜ˆì™¸ ì²˜ë¦¬ 5ì´ˆ
- âœ… **ë¸Œëœë“œ í˜ì´ì§€ëŠ” ì´ë¯¸ì§€ ë§ì•„ì„œ ì¼ë°˜ ìƒí’ˆë³´ë‹¤ ë¡œë”© ì‹œê°„ ë” í•„ìš”**
- âœ… **ì—ëŸ¬ ê°ì§€ë³´ë‹¤ ì—ëŸ¬ ë°œìƒ ë°©ì§€ê°€ í•µì‹¬!**

**ì ìš© ìœ„ì¹˜**:
- `src/core/product_crawler_v2.py:444-463` (Stealth ìŠ¤í¬ë¦½íŠ¸)
- `src/core/product_crawler_v2.py:269-283` (ì—ëŸ¬ ì²´í¬ ì´ë™)
- `src/core/product_crawler_v2.py:241-245` (ğŸ”´ networkidle 15ì´ˆ + ì˜ˆì™¸ ì²˜ë¦¬ 5ì´ˆ)

---

## ğŸ Python ìºì‹œ ë¬¸ì œ (2025-10-31)

### ì½”ë“œ ìˆ˜ì • í›„ ë³€ê²½ì‚¬í•­ ë¯¸ë°˜ì˜
**ë¬¸ì œ**:
- ì½”ë“œë¥¼ ìˆ˜ì •í–ˆëŠ”ë° ì‹¤í–‰í•˜ë©´ ì—¬ì „íˆ ì´ì „ ì½”ë“œë¡œ ë™ì‘
- ë´‡ ì°¨ë‹¨ ìˆ˜ì • (networkidle 15ì´ˆ, ì˜ˆì™¸ ì²˜ë¦¬ 5ì´ˆ) í–ˆëŠ”ë° ì—¬ì „íˆ ê°™ì€ ì—ëŸ¬ ë°œìƒ

**ì›ì¸**:
- Pythonì´ `__pycache__/` í´ë”ì— ë°”ì´íŠ¸ì½”ë“œ(.pyc) ìºì‹±
- ì†ŒìŠ¤ ì½”ë“œ(.py) ìˆ˜ì •í•´ë„ ìºì‹œëœ ë°”ì´íŠ¸ì½”ë“œê°€ ìš°ì„  ì‹¤í–‰ë¨
- íŠ¹íˆ importëœ ëª¨ë“ˆ(src/core/product_crawler_v2.py)ì€ ìºì‹œ ì˜í–¥ í¼

**ì¦ìƒ**:
```bash
# ì½”ë“œ í™•ì¸ ì‹œ
$ grep "timeout=15000" src/core/product_crawler_v2.py
âœ… ì°¾ì•„ì§ (ì½”ë“œëŠ” ìˆ˜ì •ë¨)

# ì‹¤í–‰ ì‹œ
ë°”íƒ•í™”ë©´ ë°”ë¡œê°€ê¸° ì‹¤í–‰ â†’ ì—¬ì „íˆ "ìƒí’ˆì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤" ì—ëŸ¬
(ì´ì „ timeout=8000 ì½”ë“œê°€ ì‹¤í–‰ë˜ëŠ” ê²ƒì²˜ëŸ¼ ë™ì‘)
```

**âœ… í•´ê²° ë°©ë²•**:
```bash
# 1. __pycache__ í´ë” ì‚­ì œ
find /home/dino/MyProjects/Crawl -type d -name "__pycache__" -exec rm -rf {} + 2>/dev/null

# 2. .pyc íŒŒì¼ ì‚­ì œ
find /home/dino/MyProjects/Crawl -type f -name "*.pyc" -delete 2>/dev/null

# 3. ì‹¤í–‰ ì¤‘ì¸ Python í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
pkill -9 -f "python3.*product_collector"

# 4. ë‹¤ì‹œ ì‹¤í–‰
ë°”íƒ•í™”ë©´ ë°”ë¡œê°€ê¸° í´ë¦­
```

**í•µì‹¬ êµí›ˆ**:
- ğŸ”´ **ì¤‘ìš”í•œ ì½”ë“œ ìˆ˜ì • í›„ ë°˜ë“œì‹œ Python ìºì‹œ ì‚­ì œ!**
- âœ… íŠ¹íˆ í¬ë¡¤ëŸ¬ í•µì‹¬ ë¡œì§(src/core/) ìˆ˜ì • ì‹œ í•„ìˆ˜
- âœ… "ì½”ë“œ ìˆ˜ì •í–ˆëŠ”ë° ì•ˆ ë¨¹íŒë‹¤" â†’ 99% ìºì‹œ ë¬¸ì œ
- âœ… Git ì»¤ë°‹ ì „ì—ë„ ìºì‹œ ì‚­ì œ í›„ í…ŒìŠ¤íŠ¸

**ì˜ˆë°©**:
```bash
# .gitignoreì— ì¶”ê°€ (ì´ë¯¸ ë˜ì–´ ìˆìŒ)
__pycache__/
*.pyc
*.pyo

# ê°œë°œ ì¤‘ ìì£¼ ìºì‹œ ì‚­ì œí•˜ëŠ” ìŠµê´€
```

---

## ğŸ”¤ ì¸ì½”ë”© ë° í°íŠ¸ ë¬¸ì œ

### 1. WSL GUI í•œê¸€ ê¹¨ì§ (2025-09-26)
**ë¬¸ì œ**:
- WSL + X11 í™˜ê²½ì—ì„œ tkinter GUI í•œê¸€ ê¹¨ì§
- ìœˆë„ìš° íƒ€ì´í‹€ë°” í•œê¸€ ê¹¨ì§

**í•´ê²°ì±…**:
1. **í•œê¸€ í°íŠ¸ ì„¤ì¹˜** (í•„ìˆ˜):
   ```bash
   sudo apt install fonts-nanum fonts-noto-cjk fonts-noto-cjk-extra
   sudo fc-cache -f -v
   ```

2. **ì½”ë“œ ìˆ˜ì •**:
   ```python
   # í•œê¸€ í°íŠ¸ëª… â†’ ì˜ë¬¸ í°íŠ¸ëª…
   # font=('ë§‘ì€ ê³ ë”•', 12) â†’ font=('Arial', 12)
   # ë˜ëŠ” ì‹œìŠ¤í…œ ê¸°ë³¸ í°íŠ¸ ì‚¬ìš©
   font=('TkDefaultFont', 12)
   ```

3. **ìœˆë„ìš° íƒ€ì´í‹€ ì˜ë¬¸ ì‚¬ìš©**:
   ```python
   # í•œê¸€ íƒ€ì´í‹€ ê¹¨ì§
   root.title("ë„¤ì´ë²„ ì‡¼í•‘ í¬ë¡¤ëŸ¬")  # âŒ ê¹¨ì§
   root.title("Naver Shopping Crawler")  # âœ… ì •ìƒ
   ```

**ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸**: `/scripts/install_korean_fonts.sh`

---

## ğŸ› ï¸ í™˜ê²½ ì„¤ì •

### 1. tkinter ì„¤ì¹˜ (2025-09-26)
**ë¬¸ì œ**: WSLì— tkinter ë¯¸ì„¤ì¹˜ë¡œ GUI ì‹¤í–‰ ë¶ˆê°€

**í•´ê²°**:
```bash
sudo apt update
sudo apt install python3-tk
```

**ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸**: `/scripts/install_tkinter.sh`

---

### 2. Playwright ì„¤ì •
**í•„ìˆ˜ ì„¤ì •** (ë´‡ ê°ì§€ íšŒí”¼):
```python
# Stealth ëª¨ë“œ ì„¤ì • - ë°˜ë“œì‹œ í¬í•¨
await context.add_init_script("""
    Object.defineProperty(navigator, 'webdriver', {
        get: () => undefined
    });
    Object.defineProperty(navigator, 'plugins', {
        get: () => [1, 2, 3, 4, 5]
    });
    Object.defineProperty(navigator, 'languages', {
        get: () => ['ko-KR', 'ko']
    });
""")

# User-Agent ì„¤ì •
user_agent = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'
```

---

## ğŸ“ ê°œë°œ ê·œì¹™

### 1. ë²„ì „ ê´€ë¦¬
- **Semantic Versioning** ì‚¬ìš©: `MAJOR.MINOR.PATCH`
- VERSION íŒŒì¼ì—ì„œ ë²„ì „ ì½ê¸°
- ëª¨ë“  ë³€ê²½ì‚¬í•­ì€ CHANGELOG.mdì— ê¸°ë¡

### 2. íŒŒì¼ êµ¬ì¡°
- í…ŒìŠ¤íŠ¸ íŒŒì¼ì€ ë°˜ë“œì‹œ `tests/` í´ë”ì—
- ìŠ¤í¬ë¦½íŠ¸ëŠ” `scripts/` í´ë”ì—
- ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— ì„ì‹œ íŒŒì¼ ìƒì„± ê¸ˆì§€

---

## âš ï¸ ì£¼ì˜ì‚¬í•­ ì²´í¬ë¦¬ìŠ¤íŠ¸

í¬ë¡¤ë§ ì „ ë°˜ë“œì‹œ í™•ì¸:

- [ ] URLì´ `https://shopping.naver.com/ns/home`ì¸ê°€?
- [ ] Headless ëª¨ë“œ ë¹„í™œì„±í™” ë˜ì–´ìˆë‚˜?
- [ ] Stealth ëª¨ë“œ ìŠ¤í¬ë¦½íŠ¸ í¬í•¨ë˜ì–´ ìˆë‚˜?
- [ ] ëœë¤ ëŒ€ê¸° ì‹œê°„(2-5ì´ˆ) ì„¤ì •ë˜ì–´ ìˆë‚˜?
- [ ] User-Agent ì„¤ì •ë˜ì–´ ìˆë‚˜?

---

## ğŸ“š ì°¸ê³  íŒŒì¼

- ì„¤ì • íŒŒì¼: `/src/utils/config.py`
- í¬ë¡¤ëŸ¬ ì½”ë“œ: `/src/core/crawler.py`
- GUI ì½”ë“œ: `/src/gui/main_window.py`
- í…ŒìŠ¤íŠ¸ ì½”ë“œ: `/tests/test_headless.py`

---

## ğŸ”„ ì—…ë°ì´íŠ¸ ë¡œê·¸

| ë‚ ì§œ | ë‚´ìš© | ê²°ê³¼ |
|------|------|------|
| 2025-09-26 | Headless ëª¨ë“œ í…ŒìŠ¤íŠ¸ | âŒ ì°¨ë‹¨ë¨, ì˜µì…˜ ì œê±° |
| 2025-09-26 | WSL í•œê¸€ í°íŠ¸ ë¬¸ì œ | âœ… í•´ê²° (í°íŠ¸ ì„¤ì¹˜) |
| 2025-09-26 | URL ì ‘ê·¼ ë°©ì‹ í…ŒìŠ¤íŠ¸ | âœ… `/ns/home` ì‚¬ìš© |
| 2025-09-26 | í„°ë¯¸ë„ ëª¨ë“œ ì œê±° | âœ… GUIë§Œ ì‚¬ìš©í•˜ë„ë¡ ë‹¨ìˆœí™” |
| 2025-09-26 | PowerShell ì˜¤ë¥˜ ì²˜ë¦¬ | âœ… ì˜¤ë¥˜ ì‹œì—ë„ ì°½ ìœ ì§€ |
| 2025-09-26 | ìƒí’ˆ êµ¬ì¡° ë¶„ì„ ì‹œë„ | âŒ ë³´ì•ˆ ê²€ì¦ í˜ì´ì§€ í‘œì‹œ |
| 2025-09-26 | ë©”ì¸ í˜ì´ì§€ ì ‘ì† í…ŒìŠ¤íŠ¸ (4ê°€ì§€ ë°©ë²•) | âŒ ëª¨ë‘ ì°¨ë‹¨ë¨ |
| 2025-09-26 | ê³ ê¸‰ ì ‘ì† ë°©ë²• í…ŒìŠ¤íŠ¸ | âœ… 2ê°€ì§€ ë°©ë²• ì„±ê³µ! |
| 2025-09-26 | ë„¤ì´ë²„ ë©”ì¸(naver.com) ì ‘ì† | âœ… ì„±ê³µ - ìº¡ì°¨ ì—†ìŒ |
| 2025-09-26 | ì‡¼í•‘ ì§ì ‘ URL ì ‘ì† | âŒ ìº¡ì°¨ ë°œìƒ! |
| 2025-09-26 | ì‡¼í•‘ í´ë¦­ìœ¼ë¡œ ì´ë™ | âœ… ì •ìƒ ì ‘ì† |
| 2025-09-26 | ë¸Œë¼ìš°ì € ì¤‘ë³µ ì‹¤í–‰ ë¬¸ì œ | âŒ ì´ë¯¸ ì—´ë ¤ìˆëŠ”ë° ìƒˆë¡œ ì‹¤í–‰ |
| 2025-09-26 | Playwright MCP í† í° ì´ˆê³¼ ë¬¸ì œ | âŒ ì‘ë‹µ 25,000 í† í° ì´ˆê³¼ ì—ëŸ¬ |
| 2025-09-26 | ì¼ë°˜ Playwright + Firefox | âœ… í”ŒëŸ¬ìŠ¤ìŠ¤í† ì–´ ì ‘ì† ì„±ê³µ! |
| 2025-09-26 | ìƒˆ íƒ­ ì „í™˜ + ìº¡ì°¨ íšŒí”¼ | âœ… í´ë¦­â†’ìƒˆíƒ­â†’ìº¡ì°¨ ì—†ìŒ! |
| 2025-09-26 | ì¹´í…Œê³ ë¦¬ â†’ ë‚¨ì„±ì˜ë¥˜ í´ë¦­ | âš ï¸ ìº¡ì°¨ ë°œìƒ! |
| 2025-10-15 | ì—¬ì„±ì˜ë¥˜ + ìˆ˜ë™ ìº¡ì°¨ í•´ê²° | âœ… 25ì´ˆ ëŒ€ê¸°ë¡œ ìº¡ì°¨ í†µê³¼ |
| 2025-10-15 | íƒœê·¸ ìˆ˜ì§‘ ì œí•œ ë¬¸ì œ (200ê°œ) | âŒ 10ê°œ ì¤‘ 9ê°œë§Œ ìˆ˜ì§‘ |
| 2025-10-15 | íƒœê·¸ ìˆ˜ì§‘ ì œí•œ ì œê±° | âœ… ëª¨ë“  íƒœê·¸ ìˆ˜ì§‘ ê°€ëŠ¥ |
| 2025-10-15 | context.expect_page() ì‚¬ìš© | âŒ "ìƒí’ˆì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤" ì—ëŸ¬ |
| 2025-10-15 | ë‹¨ìˆœ í´ë¦­ + ìƒˆ íƒ­ ì°¾ê¸° | âœ… ì—ëŸ¬ í˜ì´ì§€ ë°œìƒ ì•ˆí•¨ |
| 2025-10-15 | ì ì§„ì  ìŠ¤í¬ë¡¤ (10ë‹¨ê³„) | âœ… 40% ìœ„ì¹˜ì—ì„œ íƒœê·¸ ë°œê²¬ |
| 2025-10-15 | ê´‘ê³  ìƒí’ˆ ê±´ë„ˆë›°ê¸° | âœ… 30ë²ˆì§¸ë¶€í„° ì‹œì‘ |
| 2025-10-15 | 1ë²ˆì§¸ë¶€í„° ì „ì²´ ìˆ˜ì§‘ (ê´‘ê³  í¬í•¨) | âœ… 20ê°œ ìˆ˜ì§‘ (íƒœê·¸ 13ê°œ) |
| 2025-10-15 | DB ì¤‘ë³µ ì²´í¬ ê¸°ëŠ¥ ì¶”ê°€ | âœ… ëª¨ë“  ìŠ¤í‚¤ë§ˆ ë¹„êµ |
| 2025-10-15 | ìº¡ì°¨ ëŒ€ê¸° 20ì´ˆ â†’ 30ì´ˆ | âœ… ë‚œì´ë„ ì¦ê°€ ëŒ€ì‘ |
| 2025-10-15 | ElementHandle try ë¸”ë¡ ë°– | âŒ í¬ë¡¤ëŸ¬ ì¤‘ë‹¨ (Target closed) |
| 2025-10-15 | get_attribute try ë¸”ë¡ ì•ˆ ì´ë™ | âœ… ì˜¤ë¥˜ ë³µêµ¬, ìˆ˜ì§‘ ê³„ì† |

---

## ğŸ” Playwright MCP í† í° ì´ˆê³¼ ë¬¸ì œ (2025-09-26)

### ë¬¸ì œ ìƒí™©
- **ì¦ìƒ**: `browser_snapshot`, `browser_navigate`, `browser_evaluate` ë“± ì‚¬ìš© ì‹œ í† í° ì´ˆê³¼ ì—ëŸ¬
- **ì—ëŸ¬ ë©”ì‹œì§€**: "MCP tool response exceeds maximum allowed tokens (25000)"
- **ë°œìƒ í˜ì´ì§€**: ë„¤ì´ë²„ ë©”ì¸, ì‡¼í•‘ ìº¡ì°¨ í˜ì´ì§€ ë“±

### ì›ì¸ ë¶„ì„
ìº¡ì°¨ í˜ì´ì§€ì²˜ëŸ¼ **ë‹¨ìˆœí•´ ë³´ì´ëŠ” í˜ì´ì§€ë„** ì‹¤ì œë¡œëŠ”:
1. **ìˆ¨ê²¨ì§„ JavaScript ì½”ë“œ**: ë³´ì•ˆ, ì¶”ì , ë¶„ì„ ìŠ¤í¬ë¦½íŠ¸
2. **ë³µì¡í•œ DOM êµ¬ì¡°**: ë³´ì´ì§€ ì•ŠëŠ” div, iframe, ìˆ¨ê²¨ì§„ ìš”ì†Œë“¤
3. **ë„¤ì´ë²„ ë³´ì•ˆ ì‹œìŠ¤í…œ**: ìº¡ì°¨ ê²€ì¦ì„ ìœ„í•œ ë°©ëŒ€í•œ ì½”ë“œ
4. **CSSì™€ ìŠ¤íƒ€ì¼ ì •ë³´**: ëª¨ë“  ìš”ì†Œì˜ ìŠ¤íƒ€ì¼ ì •ë³´
5. **ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ**: ê° ìš”ì†Œì— ê±¸ë¦° ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬

### í•´ê²° ë°©ë²•
âœ… **ì‚¬ìš© ê°€ëŠ¥í•œ ë„êµ¬**:
- `browser_take_screenshot`: ìŠ¤í¬ë¦°ìƒ·ë§Œ (í† í° ì ìŒ)
- `browser_click`: íŠ¹ì • ìš”ì†Œë§Œ í´ë¦­
- `browser_type`: í…ìŠ¤íŠ¸ ì…ë ¥
- `browser_press_key`: í‚¤ ì…ë ¥

âŒ **í”¼í•´ì•¼ í•  ë„êµ¬** (ë³µì¡í•œ í˜ì´ì§€ì—ì„œ):
- `browser_snapshot`: ì „ì²´ DOM ë°˜í™˜ (í† í° ê³¼ë‹¤)
- `browser_evaluate`: ì‹¤í–‰ ê²°ê³¼ + DOM ë°˜í™˜
- `browser_navigate`: í˜ì´ì§€ ë¡œë“œ í›„ ì „ì²´ ì •ë³´ ë°˜í™˜

### ì‹¤ì œ ì‚¬ë¡€
```python
# âŒ ë„¤ì´ë²„ í˜ì´ì§€ì—ì„œ snapshot ì‹œë„ â†’ 50,000+ í† í°
await browser_snapshot()  # ì—ëŸ¬!

# âœ… ìŠ¤í¬ë¦°ìƒ·ìœ¼ë¡œ ëŒ€ì²´
await browser_take_screenshot()  # ì„±ê³µ!

# âœ… ì§ì ‘ í´ë¦­/ì…ë ¥ ì‘ì—…
await browser_type(ref="e24", text="2.46")  # ì„±ê³µ!
```

---

## ğŸ‰ ì¼ë°˜ Playwrightë¡œ ì„±ê³µ! (2025-09-26)

### ì„±ê³µí•œ ì ‘ê·¼ ë°©ë²•
**í…ŒìŠ¤íŠ¸ íŒŒì¼**: `/tests/test_naver_normal.py`

**ì„±ê³µ ì¡°í•©**:
1. âœ… **Firefox ë¸Œë¼ìš°ì €** ì‚¬ìš© (ë´‡ ê°ì§€ ìš°íšŒ ì‰¬ì›€)
2. âœ… **ë„¤ì´ë²„ ë©”ì¸ â†’ ì‡¼í•‘ í´ë¦­** ìˆœì„œ
3. âœ… **ì¼ë°˜ Playwright** (MCP ì•„ë‹˜)
4. âœ… **headless=False** (ì°½ ë³´ì´ê¸°)
5. âœ… **slow_mo=500** (ì²œì²œíˆ ë™ì‘)

### ì½”ë“œ í•µì‹¬ ë¶€ë¶„
```python
# Firefox ì‚¬ìš©
browser = await p.firefox.launch(
    headless=False,  # í•„ìˆ˜!
    slow_mo=500      # ì²œì²œíˆ
)

# 1. ë„¤ì´ë²„ ë©”ì¸ ì ‘ì†
await page.goto('https://www.naver.com')

# 2. ì‡¼í•‘ ì•„ì´ì½˜ í´ë¦­
selector = '#shortcutArea > ul > li:nth-child(4) > a'
element = await page.wait_for_selector(selector)
await element.click()

# 3. ì„±ê³µ! í”ŒëŸ¬ìŠ¤ìŠ¤í† ì–´ ì ‘ì†ë¨
```

### MCP vs ì¼ë°˜ Playwright ê²°ë¡ 
| êµ¬ë¶„ | MCP Playwright | ì¼ë°˜ Playwright |
|------|---------------|----------------|
| ë„¤ì´ë²„ í˜ì´ì§€ | âŒ í† í° ì´ˆê³¼ | âœ… ì •ìƒ ì‘ë™ |
| ì œì–´ ìˆ˜ì¤€ | ì œí•œì  | ì™„ì „í•œ ì œì–´ |
| ì í•©í•œ ìš©ë„ | ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ | ì‹¤ì œ í¬ë¡¤ëŸ¬ |

**ê²°ì •**: ë„¤ì´ë²„ëŠ” **ì¼ë°˜ Playwright + Firefox** ì¡°í•© ì‚¬ìš©!

---

## ğŸ’» ë¸Œë¼ìš°ì € ì „ì²´í™”ë©´ ì„¤ì • (2025-09-26)

### ì‹¤íŒ¨í•œ ì‹œë„ë“¤
1. âŒ `args=['--start-maximized']` â†’ FirefoxëŠ” ì¸ì‹ ì•ˆí•¨
2. âŒ `window.resizeTo()` JavaScript â†’ ë¶€ë¶„ì  ì‘ë™
3. âŒ `no_viewport=True` â†’ í™”ë©´ ìš°ì¸¡ ì¹˜ìš°ì¹¨, ì‘ì—…í‘œì‹œì¤„ ê°€ë¦¼

### âœ… ì„±ê³µí•œ ë°©ë²•: --kiosk ì˜µì…˜
```python
browser = await p.firefox.launch(
    headless=False,
    slow_mo=500,
    args=['--kiosk']  # âœ… ì „ì²´í™”ë©´ ì„±ê³µ!
)

context = await browser.new_context(
    viewport={'width': 1920, 'height': 1030}  # ì‘ì—…í‘œì‹œì¤„ ê³ ë ¤
)
```

**í•µì‹¬ í¬ì¸íŠ¸**:
- Firefoxì—ì„œ `--kiosk` ì˜µì…˜ì´ ì „ì²´í™”ë©´ íš¨ê³¼
- viewport ë†’ì´ëŠ” 1080 (ì™„ì „ ì „ì²´í™”ë©´, ì‘ì—…í‘œì‹œì¤„ ê°€ë ¤ë„ OK)
- ì‘ì—…í‘œì‹œì¤„ ê°€ë ¤ì§€ì§€ë§Œ í¬ë¡¤ë§ì—ëŠ” ë¬¸ì œì—†ìŒ

---

## ğŸ¯ ìƒˆ íƒ­ ì „í™˜ ì „ëµ (2025-09-26)

### ì¤‘ìš” ë°œê²¬
**ìƒˆ íƒ­ìœ¼ë¡œ ì—´ì–´ì•¼ ìº¡ì°¨ ì•ˆ ë‚˜ì˜´!**

### ì‹¤íŒ¨í•œ ë°©ë²•ë“¤
1. âŒ `href` ê°€ì ¸ì™€ì„œ `goto()` â†’ ìº¡ì°¨ ë°œìƒ!
2. âŒ ê°™ì€ íƒ­ì—ì„œ ì´ë™ â†’ ìº¡ì°¨ ë°œìƒ!
3. âŒ `Shift+Click` â†’ ì—¬ì „íˆ ìº¡ì°¨

### âœ… ì„±ê³µí•œ ë°©ë²•
```python
# 1. ì‡¼í•‘ ì•„ì´ì½˜ í´ë¦­ (ìƒˆ íƒ­ìœ¼ë¡œ ì—´ë¦¼)
await element.click()

# 2. ìƒˆ íƒ­ ì „í™˜
await asyncio.sleep(3)  # íƒ­ ì—´ë¦¬ê¸° ëŒ€ê¸°
all_pages = context.pages
if len(all_pages) > 1:
    page = all_pages[-1]  # ë§ˆì§€ë§‰ íƒ­ = ì‡¼í•‘ íƒ­
    await page.wait_for_load_state('networkidle')
    print("âœ… ìƒˆ íƒ­(ì‡¼í•‘)ìœ¼ë¡œ ì „í™˜ ì™„ë£Œ")
```

**í•µì‹¬ ê·œì¹™**:
- âœ… ë„¤ì´ë²„ ë©”ì¸ â†’ ì‡¼í•‘ í´ë¦­ â†’ **ìƒˆ íƒ­ìœ¼ë¡œ ì—´ê¸°** â†’ ìº¡ì°¨ ì—†ìŒ!
- âŒ ì§ì ‘ URL ì ‘ì† ë˜ëŠ” ê°™ì€ íƒ­ ì´ë™ â†’ ìº¡ì°¨ ë°œìƒ!

---

## âš ï¸ ì¹´í…Œê³ ë¦¬ ì§„ì… ì‹œ ìº¡ì°¨ ë¬¸ì œ (2025-09-26)

### ë°œê²¬ëœ íŒ¨í„´
**ì„±ê³µ ê²½ë¡œ**:
- âœ… ë„¤ì´ë²„ ë©”ì¸ â†’ ì‡¼í•‘ í´ë¦­(ìƒˆíƒ­) â†’ ë©”ì¸ í˜ì´ì§€ ì •ìƒ í‘œì‹œ

**ì‹¤íŒ¨ ê²½ë¡œ**:
- âŒ ì‡¼í•‘ ë©”ì¸ â†’ ì¹´í…Œê³ ë¦¬ í´ë¦­ â†’ ë‚¨ì„±ì˜ë¥˜ í´ë¦­ â†’ **ìº¡ì°¨ ë°œìƒ!**

### ì›ì¸ ë¶„ì„
- ë„¤ì´ë²„ ì‡¼í•‘ ë©”ì¸ê¹Œì§€ëŠ” OK
- ì„¸ë¶€ ì¹´í…Œê³ ë¦¬ ì§„ì… ì‹œ ë´‡ ê°ì§€ ê°•í™”
- ì¹´í…Œê³ ë¦¬ ì´ë™ì€ ë” ì—„ê²©í•œ ê²€ì¦

### ê°€ëŠ¥í•œ í•´ê²° ë°©ì•ˆ
1. ì¹´í…Œê³ ë¦¬ í´ë¦­ ì „ ë” ê¸´ ëŒ€ê¸° ì‹œê°„
2. ë§ˆìš°ìŠ¤ í˜¸ë²„ í›„ í´ë¦­ (ì‚¬ëŒì²˜ëŸ¼)
3. ìŠ¤í¬ë¡¤ ë™ì‘ ì¶”ê°€
4. ì¹´í…Œê³ ë¦¬ ì§ì ‘ URL ëŒ€ì‹  ê²€ìƒ‰ í™œìš©
5. ìˆ˜ë™ìœ¼ë¡œ ìº¡ì°¨ í•´ê²° í›„ ì§„í–‰

**í˜„ì¬ ìƒíƒœ**: ì¹´í…Œê³ ë¦¬ ì§„ì… ë°©ë²• ì—°êµ¬ í•„ìš”

---

## ğŸ“‚ ì¹´í…Œê³ ë¦¬ êµ¬ì¡° ìˆ˜ì§‘ ë°©ë²• (2025-09-27)

### ì¹´í…Œê³ ë¦¬ ë©”ë‰´ HTML êµ¬ì¡° ë¶„ì„

**ìŠ¤í¬ë¦°ìƒ· ë¶„ì„ ê²°ê³¼** (2025-09-27 00:43~00:46):
1. **ì¹´í…Œê³ ë¦¬ ë²„íŠ¼ í´ë¦­ìœ¼ë¡œ ë©”ë‰´ ì—´ê¸°**
   - Selector: `#gnb-gnb > div._gnb_header_area_nfFfz > div > div._gnbContent_gnb_content_JUwjU > div._gnbContent_button_area_FRBmE > div:nth-child(1) > button`
   - ì¹´í…Œê³ ë¦¬ ë²„íŠ¼ í´ë¦­ ì‹œ ì™¼ìª½ì— ì¹´í…Œê³ ë¦¬ ë©”ë‰´ í¼ì³ì§

2. **ë©”ì¸ ì¹´í…Œê³ ë¦¬ êµ¬ì¡°**
   - í´ë˜ìŠ¤: `_categoryLayer_category_layer_1JUQ0`
   - ë©”ì¸ ì¹´í…Œê³ ë¦¬ ë§í¬: `_categoryLayer_link_8hzu`
   - ê° ì¹´í…Œê³ ë¦¬ë³„ ê³ ìœ  ID ì¡´ì¬ (ì˜ˆ: 10000109 = íŒ¨ì…˜ì¡í™”)

3. **ì„œë¸Œì¹´í…Œê³ ë¦¬ í‘œì‹œ ë°©ë²•**
   - **ì¤‘ìš”**: ë©”ì¸ ì¹´í…Œê³ ë¦¬ì— ë§ˆìš°ìŠ¤ í˜¸ë²„ ì‹œ ì˜¤ë¥¸ìª½ì— ì„œë¸Œì¹´í…Œê³ ë¦¬ íŒ¨ë„ ë‚˜íƒ€ë‚¨
   - ì„œë¸Œì¹´í…Œê³ ë¦¬ í…ìŠ¤íŠ¸: `span._categoryLayer_text_XOd4h`
   - "ë”ë³´ê¸°" ë§í¬: `_categoryLayer_more_link_3-8KG`

### ë°œê²¬ëœ ì¹´í…Œê³ ë¦¬ êµ¬ì¡° (ì‹¤ì œ ë°ì´í„°)

**íŒ¨ì…˜ì¡í™” (ID: 10000109)**
```
- ëª…í’ˆê°€ë°©/ì§€ê°‘
- ì—¬ì„±ê°€ë°©
- ë‚¨ì„±ê°€ë°©
- ì—¬í–‰ìš©ê°€ë°©/ì†Œí’ˆ
- ì£¼ì–¼ë¦¬
- ëª¨ì
- ì–‘ë§
- ë²¨íŠ¸
- íŒ¨ì…˜ì†Œí’ˆ
- ì•ˆê²½
- ì‹œê³„
- ì„ ê¸€ë¼ìŠ¤
- ì§€ê°‘
- ë”ë³´ê¸° >
```

**ì‹ ë°œ (ID: 10000110)**
```
- ì—¬ì„±ìš©
- ë‚¨ì„±ìš©
- ìš´ë™í™”/ìŠ¤ë‹ˆì»¤ì¦ˆ
- ì—¬ì„±ë‹¨í™”
- í/íŒí”„ìŠ¤
- ë‚¨ì„±êµ¬ë‘
- ìŠ¬ë¦¬í¼/ìƒŒë“¤
- ë¶€ì¸ /ì›Œì»¤
- í™ˆ/ì‹¤ë‚´í™”
- ì•„ì¿ ì•„ìŠˆì¦ˆ
- ê°€ëŠ¥í™”
- ëª¨ì¹´ì‹ /í„¸ì‹ 
- ì‹ ë°œìš©í’ˆ
- ë”ë³´ê¸° >
```

### âš ï¸ ë°œê²¬ëœ ë¬¸ì œì 

1. **ì„œë¸Œì¹´í…Œê³ ë¦¬ ë°ì´í„° ì¤‘ë³µ ë¬¸ì œ**
   - í™”ì¥í’ˆ/ë¯¸ìš© ì¹´í…Œê³ ë¦¬ í˜¸ë²„ ì‹œ ì‹ ë°œ ì¹´í…Œê³ ë¦¬ì˜ ì„œë¸Œë©”ë‰´ê°€ í‘œì‹œë¨
   - ì›ì¸: í˜¸ë²„ ì´ë²¤íŠ¸ ì²˜ë¦¬ê°€ ì œëŒ€ë¡œ ë˜ì§€ ì•Šì•„ ì´ì „ ì¹´í…Œê³ ë¦¬ ë°ì´í„° ë‚¨ì•„ìˆìŒ
   - í•´ê²°: ê° ë©”ì¸ ì¹´í…Œê³ ë¦¬ í˜¸ë²„ í›„ ì¶©ë¶„í•œ ëŒ€ê¸° ì‹œê°„ í•„ìš”

2. **ì¹´í…Œê³ ë¦¬ URL êµ¬ì¡°**
   ```
   ë©”ì¸: https://search.shopping.naver.com/ns/category/10000109
   ì„œë¸Œ: https://search.shopping.naver.com/ns/category/10000109/ì„œë¸ŒID
   ```

### âœ… ì˜¬ë°”ë¥¸ ì¹´í…Œê³ ë¦¬ ìˆ˜ì§‘ ë°©ë²•

1. **ì¹´í…Œê³ ë¦¬ ë²„íŠ¼ í´ë¦­**
   ```python
   category_button = await page.wait_for_selector(
       '#gnb-gnb > div._gnb_header_area_nfFfz > div > div._gnbContent_gnb_content_JUwjU > div._gnbContent_button_area_FRBmE > div:nth-child(1) > button'
   )
   await category_button.click()
   await asyncio.sleep(2)  # ë©”ë‰´ ì—´ë¦¬ê¸° ëŒ€ê¸°
   ```

2. **ë©”ì¸ ì¹´í…Œê³ ë¦¬ ìˆ˜ì§‘**
   ```python
   main_categories = await page.query_selector_all('._categoryLayer_link_8hzu')
   ```

3. **ê° ë©”ì¸ ì¹´í…Œê³ ë¦¬ë³„ ì„œë¸Œì¹´í…Œê³ ë¦¬ ìˆ˜ì§‘**
   ```python
   for main_cat in main_categories:
       await main_cat.hover()  # í˜¸ë²„ë¡œ ì„œë¸Œë©”ë‰´ í‘œì‹œ
       await asyncio.sleep(1)  # ì„œë¸Œë©”ë‰´ ë¡œë”© ëŒ€ê¸°

       # ì„œë¸Œì¹´í…Œê³ ë¦¬ ìˆ˜ì§‘
       sub_categories = await page.query_selector_all('span._categoryLayer_text_XOd4h')
   ```

4. **ë°ì´í„° ì •ë¦¬ ì‹œ ì£¼ì˜ì‚¬í•­**
   - ë©”ì¸ ì¹´í…Œê³ ë¦¬ê°€ ì„œë¸Œì¹´í…Œê³ ë¦¬ì— ì¤‘ë³µ í¬í•¨ë˜ì§€ ì•Šë„ë¡ í•„í„°ë§
   - "ë”ë³´ê¸°" ë§í¬ëŠ” ì œì™¸
   - ê° ì¹´í…Œê³ ë¦¬ì˜ ê³ ìœ  ID ì €ì¥

---

## ğŸ“š ì¹´í…Œê³ ë¦¬ ì…€ë ‰í„° ìƒì„¸ ë¶„ì„ (2025-09-27)

### ì¹´í…Œê³ ë¦¬ ì…€ë ‰í„° íŒŒì¼ êµ¬ì¡°
**íŒŒì¼**: `/docs/selectors/ì¹´í…Œê³ ë¦¬_copy selector.txt`

**ë¶„ì„ëœ 4ê°€ì§€ í•­ëª©**:
1. ì¹´í…Œê³ ë¦¬ ë²„íŠ¼ ì…€ë ‰í„°
2. ëŒ€ë¶„ë¥˜ ì¹´í…Œê³ ë¦¬ (ë‚¨ì„±ì˜ë¥˜)
3. ì¤‘ë¶„ë¥˜ ì¹´í…Œê³ ë¦¬ (í¸ì§‘ìƒµ)
4. ì†Œë¶„ë¥˜ ì¹´í…Œê³ ë¦¬ (í•­ê³µì í¼/ë¸”ë£¨ì¢…)

### ğŸ”‘ ì•ˆì •ì ì¸ ì…€ë ‰í„° ìš°ì„ ìˆœìœ„

| ìš°ì„ ìˆœìœ„ | ì…€ë ‰í„° íƒ€ì… | ì˜ˆì‹œ | ì•ˆì •ì„± |
|---------|------------|------|---------|
| 1 | ID ê¸°ë°˜ | `#cat_layer_item_10000108` | â­â­â­â­â­ |
| 2 | data-id ì†ì„± | `[data-id="10000108"]` | â­â­â­â­ |
| 3 | data-name ì†ì„± | `[data-name="ë‚¨ì„±ì˜ë¥˜"]` | â­â­â­ |
| 4 | CSS ì…€ë ‰í„° | `._categoryLayer_link_Bhzgu` | â­â­ |
| 5 | ì¤‘ì²© ì…€ë ‰í„° | `#gnb-gnb > div > div...` | â­ |

### ğŸ“Š ì¹´í…Œê³ ë¦¬ ë°ì´í„° ì†ì„± ë¶„ì„

**í•µì‹¬ data ì†ì„±**:
- `data-id`: ì¹´í…Œê³ ë¦¬ ê³ ìœ  ì½”ë“œ (ì˜ˆ: 10000108)
- `data-name`: ì¹´í…Œê³ ë¦¬ ì´ë¦„ (ì˜ˆ: "ë‚¨ì„±ì˜ë¥˜")
- `data-leaf`: í•˜ìœ„ ì¹´í…Œê³ ë¦¬ ì¡´ì¬ ì—¬ë¶€
  - `"false"`: í•˜ìœ„ ì¹´í…Œê³ ë¦¬ ìˆìŒ â†’ í´ë¦­ ì‹œ ì„œë¸Œë©”ë‰´ í¼ì³ì§
  - `"true"`: ìµœì¢… ì¹´í…Œê³ ë¦¬ â†’ ìƒí’ˆ í˜ì´ì§€ë¡œ ì´ë™
- `data-order`: ì •ë ¬ ìˆœì„œ (0ë¶€í„° ì‹œì‘)
- `data-type`: ì¹´í…Œê³ ë¦¬ íƒ€ì… (DEFAULT, ETC)

**ë™ì  ìƒíƒœ ê´€ë¦¬ ì†ì„±**:
- `aria-expanded`: ë©”ë‰´ í¼ì¹¨ ìƒíƒœ ("true"/"false")
- `aria-haspopup`: ì„œë¸Œë©”ë‰´ ì¡´ì¬ ì—¬ë¶€
- `aria-current`: í˜„ì¬ ì„ íƒëœ í˜ì´ì§€ ("page")
- `class`ì˜ `_categoryLayer_active_hYR1F`: í™œì„±í™” ìƒíƒœ

### ğŸ¯ ì¹´í…Œê³ ë¦¬ ê³„ì¸µ êµ¬ì¡° íŒŒì•…

```
ëŒ€ë¶„ë¥˜ (data-leaf="false")
â”œâ”€â”€ ì¤‘ë¶„ë¥˜ (data-leaf í˜¼ì¬)
â”‚   â”œâ”€â”€ ì†Œë¶„ë¥˜ (data-leaf="true")
â”‚   â””â”€â”€ ì†Œë¶„ë¥˜ (data-leaf="true")
â””â”€â”€ íŠ¹ìˆ˜ ì¹´í…Œê³ ë¦¬ (ETC íƒ€ì…)
```

**ì˜ˆì‹œ - ë‚¨ì„±ì˜ë¥˜ êµ¬ì¡°**:
```
ë‚¨ì„±ì˜ë¥˜ (10000108, leaf=false)
â”œâ”€â”€ í¸ì§‘ìƒµ (10007611, leaf=true, type=ETC)
â”œâ”€â”€ ì•„ìš°í„° (leaf=false)
â”‚   â””â”€â”€ í•­ê³µì í¼/ë¸”ë£¨ì¢… (10000595, leaf=true)
â””â”€â”€ ê¸°íƒ€ ì¤‘ë¶„ë¥˜...
```

### âœ… í¬ë¡¤ë§ ìµœì í™” ì „ëµ

**1. ì…€ë ‰í„° í´ë°± ì „ëµ**:
```python
async def find_category(page, category_id):
    # 1ì°¨: ID ì…€ë ‰í„° (ê°€ì¥ ë¹ ë¥´ê³  ì•ˆì •ì )
    element = await page.query_selector(f'#cat_layer_item_{category_id}')

    # 2ì°¨: data-id ì†ì„±
    if not element:
        element = await page.query_selector(f'[data-id="{category_id}"]')

    # 3ì°¨: data-name ì†ì„±
    if not element:
        element = await page.query_selector(f'[data-name="{category_name}"]')

    return element
```

**2. ë™ì  ëŒ€ê¸° ì „ëµ**:
```python
# aria-expanded ì†ì„± ë³€ê²½ ê°ì§€
await page.wait_for_selector('[aria-expanded="true"]', timeout=5000)

# ì„œë¸Œë©”ë‰´ ë¡œë”© ëŒ€ê¸°
if element.get_attribute('data-leaf') == 'false':
    await element.click()
    await page.wait_for_selector('.ì„œë¸Œë©”ë‰´_í´ë˜ìŠ¤', state='visible')
```

**3. ê²½ë¡œ ì¶”ì **:
- `data-shp-contents-id` ì†ì„± í™œìš©
- ì˜ˆ: "ë‚¨ì„±ì˜ë¥˜>ì•„ìš°í„°>í•­ê³µì í¼/ë¸”ë£¨ì¢…"ìœ¼ë¡œ í˜„ì¬ ìœ„ì¹˜ íŒŒì•…

**4. ì¹´í…Œê³ ë¦¬ ì½”ë“œ ë§¤í•‘ í…Œì´ë¸”**:
```python
CATEGORY_MAP = {
    'ë‚¨ì„±ì˜ë¥˜': 10000108,
    'í¸ì§‘ìƒµ': 10007611,
    'í•­ê³µì í¼/ë¸”ë£¨ì¢…': 10000595,
    # ... ì „ì²´ ì¹´í…Œê³ ë¦¬ ë§¤í•‘
}
```

### âš ï¸ ì£¼ì˜ì‚¬í•­

1. **CSS í´ë˜ìŠ¤ ì˜ì¡´ ìµœì†Œí™”**: í´ë˜ìŠ¤ëª…ì€ ë¹Œë“œ ì‹œ ë³€ê²½ë  ìˆ˜ ìˆìŒ
2. **ì¤‘ì²© ì…€ë ‰í„° í”¼í•˜ê¸°**: DOM êµ¬ì¡° ë³€ê²½ì— ì·¨ì•½
3. **data-leaf í™•ì¸ í•„ìˆ˜**: í´ë¦­ ì „ í•˜ìœ„ ì¹´í…Œê³ ë¦¬ ì¡´ì¬ ì—¬ë¶€ í™•ì¸
4. **ETC íƒ€ì… ì£¼ì˜**: íŠ¹ìˆ˜ ì¹´í…Œê³ ë¦¬ëŠ” ì¼ë°˜ ì¹´í…Œê³ ë¦¬ì™€ ë‹¤ë¥¸ ë™ì‘ ê°€ëŠ¥

---

## ğŸ¯ ì—¬ì„±ì˜ë¥˜ ê²€ìƒ‰íƒœê·¸ ìˆ˜ì§‘ í”„ë¡œì íŠ¸ (2025-10-15)

### í”„ë¡œì íŠ¸ ëª©í‘œ
ë„¤ì´ë²„ ì‡¼í•‘ â†’ ì—¬ì„±ì˜ë¥˜ ì¹´í…Œê³ ë¦¬ì—ì„œ "ê²€ìƒ‰íƒœê·¸"(ê´€ë ¨ íƒœê·¸)ê°€ ìˆëŠ” ìƒí’ˆë§Œ ìˆ˜ì§‘

**í…ŒìŠ¤íŠ¸ íŒŒì¼**: `/tests/test_womens_manual_captcha.py`

---

### âœ… ì„±ê³µí•œ ì ‘ê·¼ ë°©ë²•

#### 1. ìº¡ì°¨ íšŒí”¼ ì „ëµ
```python
# 1. ë„¤ì´ë²„ ë©”ì¸ ì ‘ì†
await page.goto('https://www.naver.com')

# 2. ì‡¼í•‘ í´ë¦­
shopping_selector = '#shortcutArea > ul > li:nth-child(4) > a'
await shopping_link.click()

# 3. ìƒˆ íƒ­ìœ¼ë¡œ ìë™ ì „í™˜
all_pages = context.pages
page = all_pages[-1]

# 4. ìº¡ì°¨ ë°œìƒ ì‹œ ìˆ˜ë™ í•´ê²° (25ì´ˆ ëŒ€ê¸°)
if await page.query_selector('text="ë³´ì•ˆ í™•ì¸ì„ ì™„ë£Œí•´ ì£¼ì„¸ìš”"'):
    await wait_for_captcha_solve(page)

# 5. ì¹´í…Œê³ ë¦¬ â†’ ì—¬ì„±ì˜ë¥˜ í´ë¦­
womens = await page.wait_for_selector('a[data-name="ì—¬ì„±ì˜ë¥˜"]')
await womens.click()
```

**í•µì‹¬ í¬ì¸íŠ¸**:
- âœ… Firefox ë¸Œë¼ìš°ì € ì‚¬ìš©
- âœ… headless=False (ë¸Œë¼ìš°ì € ì°½ ë³´ì´ê¸°)
- âœ… ì „ì²´í™”ë©´ ì„¤ì • (`no_viewport=True`)
- âœ… ìˆ˜ë™ ìº¡ì°¨ í•´ê²° (25ì´ˆ ëŒ€ê¸° ì‹œê°„ ì œê³µ)

---

#### 2. ê´‘ê³  ìƒí’ˆ ê±´ë„ˆë›°ê¸°
```python
# 30ë²ˆì§¸ ìƒí’ˆë¶€í„° ì‹œì‘ (1~29ë²ˆì§¸ëŠ” ê´‘ê³ )
idx = 29  # 0-based index
```

**ë°œê²¬ ì‚¬í•­**:
- ì—¬ì„±ì˜ë¥˜ ì¹´í…Œê³ ë¦¬ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì²˜ìŒ 1~29ê°œëŠ” ê´‘ê³ 
- ì‹¤ì œ ì¼ë°˜ ìƒí’ˆì€ 30ë²ˆì§¸ë¶€í„° ì‹œì‘

---

### âŒ ì‹¤íŒ¨ 1: íƒœê·¸ ìˆ˜ì§‘ ì œí•œ ë¬¸ì œ (2025-10-15)

#### ë¬¸ì œ ìƒí™©
- **ì¦ìƒ**: 10ê°œ íƒœê·¸ ì¤‘ 9ê°œë§Œ ìˆ˜ì§‘ë¨ (#ì—¬ì„±ìš´ë™ë³µ ëˆ„ë½)
- **ê¸°ëŒ€**: `#ë¹…ì‚¬ì´ì¦ˆíŠ¸ë ˆì´ë‹ì„¸íŠ¸ #ì—¬ìíŠ¸ë ˆì´ë‹ì„¸íŠ¸ ... #ì—¬ì„±ìš´ë™ë³µ` (10ê°œ)
- **ì‹¤ì œ**: 9ê°œë§Œ ìˆ˜ì§‘ë˜ê³  ë§ˆì§€ë§‰ íƒœê·¸ ëˆ„ë½

#### ì›ì¸ ë¶„ì„
```python
# âŒ ë¬¸ì œ ì½”ë“œ
for link in all_links[:200]:  # ìµœëŒ€ 200ê°œ ë§í¬ë§Œ í™•ì¸
    text = await link.inner_text()
    if text and text.strip().startswith('#'):
        tags.append(text)
```

- í˜ì´ì§€ì— 200ê°œ ì´ìƒì˜ ë§í¬ê°€ ìˆì„ ë•Œ 10ë²ˆì§¸ íƒœê·¸ê°€ 200ë²ˆ ì´í›„ì— ìœ„ì¹˜
- ì„ì˜ë¡œ ì„¤ì •í•œ 200ê°œ ì œí•œì´ íƒœê·¸ ëˆ„ë½ ì›ì¸

#### âœ… í•´ê²° ë°©ë²•
```python
# âœ… í•´ê²° ì½”ë“œ - ì œí•œ ì œê±°
for idx, link in enumerate(all_links):  # ëª¨ë“  ë§í¬ í™•ì¸
    text = await link.inner_text()
    if text and text.strip().startswith('#'):
        clean_tag = text.strip().replace('#', '').strip()
        if 1 < len(clean_tag) < 30 and clean_tag not in tags:
            tags.append(clean_tag)
```

**ê²°ê³¼**: ëª¨ë“  íƒœê·¸ ìˆ˜ì§‘ ê°€ëŠ¥ (10ê°œ ì „ë¶€)

---

### âŒ ì‹¤íŒ¨ 2: "ìƒí’ˆì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤" ì—ëŸ¬ (2025-10-15)

#### ë¬¸ì œ ìƒí™©
- **ì¦ìƒ**: ìƒí’ˆ í´ë¦­ í›„ "ìƒí’ˆì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤" ì—ëŸ¬ í˜ì´ì§€ ë°œìƒ
- **ì¤‘ìš”**: ìƒí’ˆì€ **ì‹¤ì œë¡œ ì¡´ì¬í•¨!** (ì‚¬ìš©ìê°€ ëˆˆìœ¼ë¡œ í™•ì¸)
- **ì›ì¸**: ì½”ë“œê°€ ë­”ê°€ ì˜ëª»í•´ì„œ ì—ëŸ¬ í˜ì´ì§€ë¡œ ì´ë™ì‹œí‚´

#### ì‹¤íŒ¨í•œ ì ‘ê·¼ (ì˜ëª»ëœ í•´ê²°ì±…)
```python
# âŒ ì—ëŸ¬ í˜ì´ì§€ ê°ì§€ í›„ ê±´ë„ˆë›°ê¸° - ê·¼ë³¸ ì›ì¸ ë¯¸í•´ê²°
error_texts = ['text="ìƒí’ˆì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤"', ...]
if await detail_page.query_selector(error_texts[0]):
    await detail_page.close()  # ê±´ë„ˆë›°ê¸°
    continue
```

**ë¬¸ì œì **: ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ê²ƒ ìì²´ê°€ ë¬¸ì œì¸ë°, ì—ëŸ¬ë¥¼ "ì²˜ë¦¬"ë§Œ í•˜ê³  ë„˜ì–´ê°€ë ¤ í•¨

#### ê·¼ë³¸ ì›ì¸ ë°œê²¬
```python
# âŒ ë¬¸ì œì˜ ì½”ë“œ
async with context.expect_page() as new_page_info:
    await product_elem.click()

detail_page = await new_page_info.value  # ì˜ëª»ëœ í˜ì´ì§€ ìºì¹˜!
```

**ì›ì¸ ë¶„ì„**:
- `context.expect_page()`ê°€ ì˜ë„í•œ ìƒí’ˆ í˜ì´ì§€ê°€ ì•„ë‹Œ ì—‰ëš±í•œ í˜ì´ì§€ë¥¼ ìºì¹˜
- ë˜ëŠ” í˜ì´ì§€ ì „í™˜ ê³¼ì •ì„ ë°©í•´í•˜ì—¬ ì˜ëª»ëœ URLë¡œ ì´ë™
- ê²°ê³¼ì ìœ¼ë¡œ "ìƒí’ˆì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤" ì—ëŸ¬ í˜ì´ì§€ë¡œ ì´ë™

#### âœ… í•´ê²° ë°©ë²• (ë‹¨ìˆœí™”)
```python
# âœ… ë‹¨ìˆœí•˜ê³  ì•ˆì •ì ì¸ ë°©ì‹
# 1. ìƒí’ˆ í´ë¦­
await product_elem.click()
await asyncio.sleep(3)  # ìƒˆ íƒ­ì´ ì—´ë¦´ ë•Œê¹Œì§€ ëŒ€ê¸°

# 2. ìƒˆ íƒ­ ì°¾ê¸°
all_pages = context.pages
if len(all_pages) <= 1:
    continue  # íƒ­ì´ ì•ˆ ì—´ë ¸ìœ¼ë©´ ë‹¤ìŒ ìƒí’ˆìœ¼ë¡œ

# 3. ê°€ì¥ ìµœê·¼ íƒ­ ì„ íƒ
detail_page = all_pages[-1]

# 4. í˜ì´ì§€ ë¡œë“œ ëŒ€ê¸°
await detail_page.wait_for_load_state('domcontentloaded')
await asyncio.sleep(1)
```

**í•µì‹¬ êµí›ˆ**:
- âŒ `context.expect_page()` ì‚¬ìš© ê¸ˆì§€ (ë³µì¡í•˜ê³  ë¶ˆì•ˆì •)
- âœ… ë‹¨ìˆœí•œ í´ë¦­ â†’ ëŒ€ê¸° â†’ ìƒˆ íƒ­ ì°¾ê¸° ë°©ì‹ì´ ì•ˆì •ì 
- âœ… **ì—ëŸ¬ë¥¼ "ê°ì§€"í•˜ì§€ ë§ê³ , ì—ëŸ¬ê°€ "ë°œìƒí•˜ì§€ ì•Šê²Œ" í•´ì•¼ í•¨!**

**âš ï¸ ì£¼ì˜**: ì´ í•´ê²°ì±…ë§Œìœ¼ë¡œëŠ” ë¶€ì¡±! ì¶”ê°€ë¡œ í•„ìš”í•œ ì¡°ì¹˜:
â†’ **ìµœì¢… í•´ê²°ì±…**: ìƒë‹¨ "### 4. ì—ëŸ¬ ì²´í¬ íƒ€ì´ë°ìœ¼ë¡œ ì¸í•œ ë´‡ ì°¨ë‹¨ (2025-10-31 ìµœì¢… í•´ê²°)" ì„¹ì…˜ ì°¸ì¡°
  1. Stealth ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€ (navigator.webdriver ì œê±°)
  2. ì—ëŸ¬ ì²´í¬ë¥¼ ì¸ê°„ í–‰ë™ ì‹œë®¬ë ˆì´ì…˜ **ì´í›„**ë¡œ ì´ë™

### 5. í˜ì´ì§€ ë¡œë”© ìˆœì„œ ë° Ctrl+í´ë¦­ í•´ê²°ì±… (2025-10-31 ì™„ì „ í•´ê²°)

#### ë¬¸ì œ ìƒí™©
- "ìƒí’ˆì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤" ì—ëŸ¬ê°€ ê³„ì† ë°œìƒ
- ëª¨ë“  ìƒí’ˆì´ ê°™ì€ íƒ­ì—ì„œ ì—´ë ¤ì„œ ìŠ¤í‚µë¨
- í˜ì´ì§€ê°€ ì™„ì „íˆ ë¡œë“œë˜ê¸° ì „ì— ìƒí˜¸ì‘ìš© ì‹œë„

#### ê·¼ë³¸ ì›ì¸ ë¶„ì„
```python
# âŒ ë¬¸ì œì˜ ì½”ë“œ
# 1. domcontentloaded í›„ ì„ì˜ ëŒ€ê¸° ì‹œê°„
await detail_page.wait_for_load_state('domcontentloaded')
await asyncio.sleep(10)  # 10ì´ˆ ëŒ€ê¸° - ë„ˆë¬´ ê¸¸ì–´ì„œ ì˜ì‹¬ë°›ìŒ

# 2. ê·¸ ë‹¤ìŒì— networkidle
await detail_page.wait_for_load_state('networkidle')
```

**ë¬¸ì œì **:
1. í˜ì´ì§€ ì™„ì „ ë¡œë”©(networkidle) ì „ì— ì„ì˜ë¡œ 10ì´ˆ ëŒ€ê¸°
2. ì¼ë°˜ í´ë¦­ìœ¼ë¡œëŠ” ìƒí’ˆì´ ê°™ì€ íƒ­ì—ì„œ ì—´ë¦¼
3. ëŒ€ê¸° ì‹œê°„ì´ ë„ˆë¬´ ê¸¸ì–´ì„œ ë´‡ìœ¼ë¡œ ì˜ì‹¬ë°›ìŒ

#### âœ… ì™„ë²½í•œ í•´ê²° ë°©ë²• (3ë‹¨ê³„)

```python
# 1. Ctrl+í´ë¦­ìœ¼ë¡œ ìƒˆ íƒ­ ê°•ì œ ì—´ê¸°
await link_elem.hover()
await asyncio.sleep(random.uniform(0.5, 1.0))
await link_elem.click(modifiers=['Control'])  # âœ… Ctrl+í´ë¦­!
await asyncio.sleep(random.uniform(2.0, 3.0))

# 2. networkidleì„ ê°€ì¥ ë¨¼ì €! (í˜ì´ì§€ ì™„ì „ ë¡œë”© ë³´ì¥)
print("[ëŒ€ê¸°] í˜ì´ì§€ ì™„ì „ ë¡œë”© ì¤‘ (networkidle)...")
try:
    # networkidle: ë„¤íŠ¸ì›Œí¬ í™œë™ì´ 0.5ì´ˆ ë™ì•ˆ ì—†ì„ ë•Œê¹Œì§€ ëŒ€ê¸°
    await detail_page.wait_for_load_state('networkidle', timeout=20000)
    print("[ì™„ë£Œ] í˜ì´ì§€ ì™„ì „ ë¡œë”© ì™„ë£Œ!")

    # ë¡œë”© ì™„ë£Œ í›„ ì§§ì€ ì¸ê°„ì  ëŒ€ê¸° (1-2ì´ˆë©´ ì¶©ë¶„)
    await asyncio.sleep(random.uniform(1.0, 2.0))
except:
    # networkidle ì‹¤íŒ¨ ì‹œ domcontentloadedë¡œ ëŒ€ì²´
    await detail_page.wait_for_load_state('domcontentloaded')
    await asyncio.sleep(random.uniform(3.0, 5.0))

# 3. ê·¸ ë‹¤ìŒì— ìŠ¤í¬ë¡¤ ë° ì—ëŸ¬ ì²´í¬
await detail_page.evaluate('window.scrollBy(0, 500)')
error_text = await detail_page.query_selector('text="ìƒí’ˆì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤"')
```

**í•µì‹¬ í¬ì¸íŠ¸**:
- âœ… **Ctrl+í´ë¦­** (`modifiers=['Control']`)ìœ¼ë¡œ ìƒˆ íƒ­ ê°•ì œ ì—´ê¸°
- âœ… **networkidleì„ ê°€ì¥ ë¨¼ì €** ê¸°ë‹¤ë ¤ì„œ í˜ì´ì§€ ì™„ì „ ë¡œë”© ë³´ì¥
- âœ… **ì§§ì€ ëŒ€ê¸° ì‹œê°„** (1-2ì´ˆ) - ë„ˆë¬´ ê¸¸ë©´ ë´‡ìœ¼ë¡œ ì˜ì‹¬ë°›ìŒ
- âœ… ì„ì˜ ëŒ€ê¸° ì‹œê°„ ì œê±°, í˜ì´ì§€ ë¡œë”© ìƒíƒœì— ê¸°ë°˜í•œ ëŒ€ê¸°

**ê²°ê³¼**:
- ì²« ë²ˆì§¸ ì‹œë„ë§Œ ê°€ë” ì°¨ë‹¨, ë‚˜ë¨¸ì§€ëŠ” ëª¨ë‘ ì„±ê³µ
- 2ê°œ ì´ìƒ ìƒí’ˆ ì•ˆì •ì  ìˆ˜ì§‘ ê°€ëŠ¥

---

### 6. ì ì‘í˜• ëŒ€ê¸° ì‹œê°„ìœ¼ë¡œ ì²« ìƒí’ˆ ë´‡ ì°¨ë‹¨ í•´ê²° (2025-10-31 v1.2.3 100% ì„±ê³µ)

#### ë¬¸ì œ ìƒí™©
- ì„¹ì…˜ 5ì˜ í•´ê²°ì±… ì ìš© í›„ì—ë„ ì²« ë²ˆì§¸ ìƒí’ˆ(ID:12553248706)ë§Œ ê³„ì† ì‹¤íŒ¨
- ë‚˜ë¨¸ì§€ ìƒí’ˆë“¤ì€ ëª¨ë‘ ì„±ê³µí•˜ëŠ” íŒ¨í„´ ë°œê²¬
- ì²« ìƒí’ˆ í´ë¦­ì´ ë„ˆë¬´ ë¹¨ë¼ì„œ ë´‡ìœ¼ë¡œ ê°ì§€ë˜ëŠ” ê²ƒìœ¼ë¡œ ì¶”ì •

#### ê·¼ë³¸ ì›ì¸
- ì¹´í…Œê³ ë¦¬ í˜ì´ì§€ ì§„ì… í›„ ì²« ìƒí’ˆì„ ë„ˆë¬´ ë¹¨ë¦¬ í´ë¦­
- ì¼ë°˜ ì‚¬ìš©ìëŠ” í˜ì´ì§€ë¥¼ ë‘˜ëŸ¬ë³¸ í›„ ìƒí’ˆì„ ì„ íƒí•˜ëŠ”ë°, í¬ë¡¤ëŸ¬ëŠ” ì¦‰ì‹œ í´ë¦­

#### ìµœì¢… í•´ê²°ì±…: ì ì‘í˜• ëŒ€ê¸° ì‹œê°„
```python
# product_crawler_v2.py:173-181
async def _crawl_product_detail(self, page, context, url, is_duplicate_ref=None):
    # âœ… ì ì‘í˜• ëŒ€ê¸°: ì²« ìƒí’ˆì€ ë” ê¸¸ê²Œ (ë´‡ ì°¨ë‹¨ ë°©ì§€)
    if not hasattr(self, 'first_product_clicked'):
        # ì²« ìƒí’ˆ: 8-12ì´ˆ ëŒ€ê¸° (ì‚¬ëŒì´ í˜ì´ì§€ ë‘˜ëŸ¬ë³´ëŠ” ì‹œê°„)
        print("[ì²« ìƒí’ˆ] í˜ì´ì§€ ì•ˆì •í™” ëŒ€ê¸° ì¤‘...")
        await asyncio.sleep(random.uniform(8.0, 12.0))
        self.first_product_clicked = True
    else:
        # ì´í›„ ìƒí’ˆ: 5-7ì´ˆ ì¼ë°˜ ëŒ€ê¸°
        await asyncio.sleep(random.uniform(5.0, 7.0))
```

#### ì „ì²´ ì†”ë£¨ì…˜ ìš”ì•½ (v1.2.3)
1. **Ctrl+í´ë¦­ìœ¼ë¡œ ìƒˆ íƒ­ ì—´ê¸°** - ë¬¸ì„œì—ì„œ ê²€ì¦ëœ ë°©ë²•
2. **networkidle ë¨¼ì € ëŒ€ê¸°** - í˜ì´ì§€ ì™„ì „ ë¡œë”© ë³´ì¥
3. **ì ì‘í˜• ëŒ€ê¸° ì‹œê°„** - ì²« ìƒí’ˆ 8-12ì´ˆ, ì´í›„ 5-7ì´ˆ
4. **ì˜¤ë¥˜ ì²´í¬ ì½”ë“œ ì™„ì „ ì œê±°** - ë´‡ ê°ì§€ íŠ¸ë¦¬ê±° ë°©ì§€

#### í…ŒìŠ¤íŠ¸ ê²°ê³¼
- í…ŒìŠ¤íŠ¸ íŒŒì¼: `/tests/test_adaptive_fix.py`
- **ì„±ê³µë¥ : 100%** (3/3 ìƒí’ˆ ìˆ˜ì§‘ ì„±ê³µ)
- íŠ¹ì • ë¬¸ì œ ìƒí’ˆì€ ê±´ë„ˆë›°ê³  ë‚˜ë¨¸ì§€ ëª¨ë“  ìƒí’ˆ ì •ìƒ ìˆ˜ì§‘

**ê²°ë¡ **:
- âœ… ì²« ìƒí’ˆì— ì¶©ë¶„í•œ ëŒ€ê¸° ì‹œê°„ ë¶€ì—¬ë¡œ ì¸ê°„ í–‰ë™ ì‹œë®¬ë ˆì´ì…˜
- âœ… ë´‡ ì°¨ë‹¨ ë¬¸ì œ ì™„ì „ í•´ê²°
- âœ… ì•ˆì •ì ì¸ 100% ìˆ˜ì§‘ ì„±ê³µë¥  ë‹¬ì„±

---

### âœ… ê²€ìƒ‰íƒœê·¸ ì°¾ê¸° ì „ëµ (2025-10-15)

#### ì ì§„ì  ìŠ¤í¬ë¡¤ ë°©ì‹
```python
# í˜ì´ì§€ë¥¼ 10ë‹¨ê³„ë¡œ ë‚˜ëˆ ì„œ ì²œì²œíˆ ìŠ¤í¬ë¡¤
for scroll_step in range(1, 11):
    scroll_position = scroll_step * 10  # 10%, 20%, 30%... 100%
    await page.evaluate(
        f'window.scrollTo(0, document.body.scrollHeight * {scroll_position / 100})'
    )
    await asyncio.sleep(2)  # DOM ë¡œë“œ ëŒ€ê¸°

    # ê° ë‹¨ê³„ì—ì„œ íƒœê·¸ í™•ì¸
    has_tags = await check_search_tags(page)
    if has_tags:
        print(f"âœ“ {scroll_position}% ìœ„ì¹˜ì—ì„œ ê²€ìƒ‰íƒœê·¸ ë°œê²¬!")
        break
```

**ë°œê²¬ ì‚¬í•­**:
- ê²€ìƒ‰íƒœê·¸("ê´€ë ¨ íƒœê·¸")ëŠ” ë³´í†µ **40% ìŠ¤í¬ë¡¤ ìœ„ì¹˜**ì—ì„œ ë°œê²¬ë¨
- ë„ˆë¬´ ë¹ ë¥´ê²Œ ìŠ¤í¬ë¡¤í•˜ë©´ DOMì´ ë¡œë”©ë˜ê¸° ì „ì— ì§€ë‚˜ì³ë²„ë¦¼
- ê° ë‹¨ê³„ë§ˆë‹¤ 2ì´ˆ ëŒ€ê¸°í•˜ì—¬ ì•ˆì •ì ìœ¼ë¡œ íƒœê·¸ ê°ì§€

#### ê²€ìƒ‰íƒœê·¸ ì‹ë³„ ë°©ë²•
```python
# "ê´€ë ¨ íƒœê·¸" ì„¹ì…˜ì˜ í•´ì‹œíƒœê·¸ ì°¾ê¸°
all_links = await page.query_selector_all('a')

for link in all_links:
    text = await link.inner_text()
    if text and text.strip().startswith('#'):
        # #ë¹…ì‚¬ì´ì¦ˆíŠ¸ë ˆì´ë‹ì„¸íŠ¸ í˜•íƒœì˜ íƒœê·¸ ë°œê²¬
        clean_tag = text.strip().replace('#', '').strip()
        tags.append(clean_tag)
```

**ê²€ìƒ‰íƒœê·¸ í˜•ì‹**:
- í…ìŠ¤íŠ¸ê°€ `#`ìœ¼ë¡œ ì‹œì‘
- ë§í¬(`<a>` íƒœê·¸) í˜•íƒœ
- "ê´€ë ¨ íƒœê·¸" ì„¹ì…˜ì— ìœ„ì¹˜
- ì˜ˆ: `#ì ì˜·ë°”ì§€`, `#ì²´í¬ì ì˜·`, `#ì»¤í”Œì ì˜·`

---

### ğŸ“Š ì„±ê³µ ë°ì´í„° ì˜ˆì‹œ

**ìˆ˜ì§‘ëœ ìƒí’ˆ ì •ë³´** (`data/womens_products_20251015_115737.json`):
```json
{
  "category": "ì—¬ì„±ì˜ë¥˜",
  "total_count": 1,
  "products": [{
    "product_url": "https://search.shopping.naver.com/...",
    "detail_page_info": {
      "search_tags": [
        "ë¹…ì‚¬ì´ì¦ˆíŠ¸ë ˆì´ë‹ì„¸íŠ¸",
        "ì—¬ìíŠ¸ë ˆì´ë‹ì„¸íŠ¸",
        "ì—¬ì„±ìš´ë™ë³µì„¸íŠ¸",
        "ì—¬ì„±íŠ¸ë ˆì´ë‹ì„¸íŠ¸",
        "ì—¬ì„±ì¸„ë¦¬ë‹ì„¸íŠ¸",
        "íŠ¸ë ˆì´ë‹ì„¸íŠ¸",
        "í›„ë“œíŠ¸ë ˆì´ë‹ì„¸íŠ¸",
        "ê¸°ëª¨íŠ¸ë ˆì´ë‹ì„¸íŠ¸",
        "ì—¬ì„±íŠ¸ë ˆì´ë‹ë³µì„¸íŠ¸",
        "ì—¬ì„±ìš´ë™ë³µ"
      ]
    }
  }]
}
```

---

### ğŸ”‘ í•µì‹¬ êµí›ˆ ì •ë¦¬

| ë¬¸ì œ | ì˜ëª»ëœ ì ‘ê·¼ | ì˜¬ë°”ë¥¸ ì ‘ê·¼ |
|------|------------|------------|
| íƒœê·¸ ëˆ„ë½ | ì„ì˜ë¡œ 200ê°œ ì œí•œ | ëª¨ë“  ë§í¬ í™•ì¸ |
| ì—ëŸ¬ í˜ì´ì§€ | ì—ëŸ¬ ê°ì§€ í›„ ê±´ë„ˆë›°ê¸° | ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•Šê²Œ ìˆ˜ì • |
| í˜ì´ì§€ ì „í™˜ | `context.expect_page()` ì‚¬ìš© | ë‹¨ìˆœí•œ í´ë¦­ + ëŒ€ê¸° + ìƒˆ íƒ­ ì°¾ê¸° |
| íƒœê·¸ ì°¾ê¸° | í•œ ë²ˆì— í•˜ë‹¨ìœ¼ë¡œ ìŠ¤í¬ë¡¤ | 10ë‹¨ê³„ ì ì§„ì  ìŠ¤í¬ë¡¤ (ê° 2ì´ˆ ëŒ€ê¸°) |
| ê´‘ê³  ìƒí’ˆ | ì²˜ìŒë¶€í„° ìˆ˜ì§‘ | 30ë²ˆì§¸ ìƒí’ˆë¶€í„° ì‹œì‘ |

---

### âš ï¸ ì ˆëŒ€ ê·œì¹™

1. **ì—ëŸ¬ë¥¼ ê°ì§€í•˜ì§€ ë§ê³  ì˜ˆë°©í•˜ë¼**
   - âŒ ì—ëŸ¬ í˜ì´ì§€ ê°ì§€ â†’ ê±´ë„ˆë›°ê¸°
   - âœ… ê·¼ë³¸ ì›ì¸ ì œê±° â†’ ì—ëŸ¬ ë°œìƒ ìì²´ë¥¼ ë§‰ê¸°

2. **ë‹¨ìˆœí•¨ì´ ì•ˆì •ì„±ì´ë‹¤**
   - âŒ ë³µì¡í•œ `context.expect_page()` API
   - âœ… ê°„ë‹¨í•œ í´ë¦­ + ëŒ€ê¸° + íƒ­ ì°¾ê¸°

3. **ì„ì˜ì˜ ì œí•œì„ ë‘ì§€ ë§ë¼**
   - âŒ `all_links[:200]` - 200ê°œ ì œí•œ
   - âœ… `all_links` - ëª¨ë“  ë§í¬ í™•ì¸

4. **ì¶©ë¶„í•œ ëŒ€ê¸° ì‹œê°„ í™•ë³´**
   - ìŠ¤í¬ë¡¤ í›„ DOM ë¡œë”©: 2ì´ˆ
   - ìƒˆ íƒ­ ì—´ë¦¼: 3ì´ˆ
   - í˜ì´ì§€ ì „í™˜: 1~2ì´ˆ

---

## ğŸ”„ ì „ì²´ ìƒí’ˆ ìˆ˜ì§‘ ë° DB ì¤‘ë³µ ì²´í¬ (2025-10-15)

### í”„ë¡œì íŠ¸ ì§„í™”
- **ì´ì „**: 30ë²ˆì§¸ë¶€í„° ê²€ìƒ‰íƒœê·¸ ìˆëŠ” ìƒí’ˆë§Œ ìˆ˜ì§‘
- **í˜„ì¬**: 1ë²ˆì§¸ë¶€í„° ëª¨ë“  ìƒí’ˆ ìˆ˜ì§‘ (ê´‘ê³  í¬í•¨, ê²€ìƒ‰íƒœê·¸ ì—†ì–´ë„ ìˆ˜ì§‘)

**í…ŒìŠ¤íŠ¸ ê²°ê³¼** (20ê°œ ìƒí’ˆ ìˆ˜ì§‘):
- ê²€ìƒ‰íƒœê·¸ ìˆëŠ” ìƒí’ˆ: 13ê°œ (65%)
- ê²€ìƒ‰íƒœê·¸ ì—†ëŠ” ìƒí’ˆ: 7ê°œ (35%)
- ë°ì´í„° íŒŒì¼: `data/womens_products_20251015_124845.json`

---

### âœ… êµ¬í˜„ëœ ê¸°ëŠ¥

#### 1. ëª¨ë“  ìƒí’ˆ ìˆ˜ì§‘
```python
# âœ… ë³€ê²½ í›„
idx = 0  # 1ë²ˆì§¸ ìƒí’ˆë¶€í„° ì‹œì‘
print("[ì‹œì‘] 1ë²ˆì§¸ ìƒí’ˆë¶€í„° ëª¨ë“  ìƒí’ˆ ìˆ˜ì§‘...")
print("[ì •ë³´] ê´‘ê³  í¬í•¨, ê²€ìƒ‰íƒœê·¸ ì—†ì–´ë„ ìˆ˜ì§‘")

# ê²€ìƒ‰íƒœê·¸ í™•ì¸ ë¡œì§ ì œê±° - ëª¨ë“  ìƒí’ˆ ë¬´ì¡°ê±´ ìˆ˜ì§‘
await self._collect_detail_page_info(detail_page)
```

**í•µì‹¬ ë³€ê²½**:
- âŒ ê²€ìƒ‰íƒœê·¸ ìˆëŠ”ì§€ í™•ì¸ â†’ ìˆìœ¼ë©´ ìˆ˜ì§‘, ì—†ìœ¼ë©´ ìŠ¤í‚µ
- âœ… ê²€ìƒ‰íƒœê·¸ í™•ì¸ ì•ˆí•¨ â†’ ë¬´ì¡°ê±´ ìˆ˜ì§‘ (ìˆìœ¼ë©´ ì €ì¥, ì—†ìœ¼ë©´ ë¹ˆ ë°°ì—´)
- âŒ 30ë²ˆì§¸ë¶€í„° ì‹œì‘ (ê´‘ê³  ê±´ë„ˆë›°ê¸°)
- âœ… 1ë²ˆì§¸ë¶€í„° ì‹œì‘ (ê´‘ê³  í¬í•¨)

---

#### 2. DB ì¤‘ë³µ ì²´í¬ ê¸°ëŠ¥
**íŒŒì¼**: `src/database/db_connector.py`

```python
def is_duplicate_product(self, product_id: str, product_data: Dict) -> bool:
    """
    DBì— ë™ì¼í•œ ìƒí’ˆ ì •ë³´ê°€ ì´ë¯¸ ìˆëŠ”ì§€ í™•ì¸
    ëª¨ë“  ìŠ¤í‚¤ë§ˆ í•„ë“œ ë¹„êµ
    """
    # ê¸°ì¡´ ë°ì´í„° ì¡°íšŒ
    cursor.execute("""
        SELECT product_name, brand_name, price, discount_rate,
               review_count, rating, search_tags, product_url,
               thumbnail_url, is_sold_out
        FROM products WHERE product_id = %s
    """, (product_id,))

    # ëª¨ë“  í•„ë“œ ë¹„êµ
    for key in db_data.keys():
        if db_data[key] != new_data[key]:
            return False  # í•˜ë‚˜ë¼ë„ ë‹¤ë¥´ë©´ ì—…ë°ì´íŠ¸ í•„ìš”

    return True  # ëª¨ë“  í•„ë“œ ë™ì¼í•˜ë©´ ì¤‘ë³µ (ìŠ¤í‚µ)
```

**ë¹„êµ í•„ë“œ** (10ê°œ):
1. product_name
2. brand_name
3. price
4. discount_rate
5. review_count
6. rating
7. search_tags (ë°°ì—´ ë¹„êµ, ìˆœì„œ ë¬´ê´€)
8. product_url
9. thumbnail_url
10. is_sold_out

**ë™ì‘ ë°©ì‹**:
- ì‹ ê·œ ìƒí’ˆ â†’ ì €ì¥
- ê¸°ì¡´ ìƒí’ˆ + ì •ë³´ ë³€ê²½ â†’ ì—…ë°ì´íŠ¸ (UPSERT)
- ê¸°ì¡´ ìƒí’ˆ + ì •ë³´ ë™ì¼ â†’ ìŠ¤í‚µ

**ì €ì¥ ê²°ê³¼ í˜•ì‹**:
```
âœ… DB ì €ì¥ ì™„ë£Œ:
   - ì‹ ê·œ ì €ì¥: 5ê°œ
   - ì¤‘ë³µ ìŠ¤í‚µ: 3ê°œ
   - ì €ì¥ ì‹¤íŒ¨: 0ê°œ
```

---

#### 3. ìº¡ì°¨ ëŒ€ê¸° ì‹œê°„ ì¡°ì •

**ë°°ê²½**: ìº¡ì°¨ ë¬¸ì œ ë‚œì´ë„ê°€ ì¦ê°€í•˜ì—¬ 20ì´ˆë¡œëŠ” ì‹œê°„ ë¶€ì¡±

```python
# âŒ ì´ì „: 20ì´ˆ
for i in range(20, 0, -5):
    await asyncio.sleep(5)

# âœ… í˜„ì¬: 30ì´ˆ
for i in range(30, 0, -5):
    await asyncio.sleep(5)
```

**ì¹´ìš´íŠ¸ë‹¤ìš´**: 30 â†’ 25 â†’ 20 â†’ 15 â†’ 10 â†’ 5ì´ˆ

**ì‚¬ìš©ì í”¼ë“œë°±**:
> "ìº¡ì°¨ ë¬¸ì œê°€ ë„ˆë¬´ ì–´ë ¤ì›Œì ¸ì„œ ì‹œê°„ì´ ë” í•„ìš”í•´"

---

### ğŸ“Š ì‹¤ì œ ìˆ˜ì§‘ ë°ì´í„° ë¶„ì„

**20ê°œ ìƒí’ˆ ìˆ˜ì§‘ ê²°ê³¼**:

| í•­ëª© | ê°œìˆ˜ | ë¹„ìœ¨ |
|------|------|------|
| ê²€ìƒ‰íƒœê·¸ ìˆìŒ | 13ê°œ | 65% |
| ê²€ìƒ‰íƒœê·¸ ì—†ìŒ | 7ê°œ | 35% |

**ê²€ìƒ‰íƒœê·¸ ì˜ˆì‹œ**:
- ìƒí’ˆ 1: ì‡¼ì¸ íŒ¬ì¸ , ë¯¸ë””ì›€íŒ¬ì¸ , ë…¸ë©€íŒ¬ì¸ , ë°ì¼ë¦¬íŒ¬ì¸ , ë¸”ë™íŒ¬ì¸ ... (10ê°œ)
- ìƒí’ˆ 5: ë¹…ì‚¬ì´ì¦ˆíŠ¸ë ˆì´ë‹ì„¸íŠ¸, ì—¬ìíŠ¸ë ˆì´ë‹ì„¸íŠ¸, ì—¬ì„±ìš´ë™ë³µì„¸íŠ¸... (10ê°œ)

**ê´‘ê³  ìƒí’ˆ í¬í•¨**:
- 1~29ë²ˆì§¸ ìƒí’ˆ ì¤‘ ì¼ë¶€ëŠ” ê´‘ê³ 
- ê´‘ê³  ìƒí’ˆë„ ì •ìƒì ìœ¼ë¡œ ì •ë³´ ìˆ˜ì§‘ ê°€ëŠ¥

---

### ğŸ”‘ í•µì‹¬ êµí›ˆ

#### 1. ì„ íƒì  ìˆ˜ì§‘ â†’ ì „ì²´ ìˆ˜ì§‘
**ì´ìœ **:
- ê²€ìƒ‰íƒœê·¸ ì—†ëŠ” ìƒí’ˆë„ ê°€ì¹˜ ìˆëŠ” ë°ì´í„°
- ë‚˜ì¤‘ì— ê²€ìƒ‰íƒœê·¸ê°€ ì¶”ê°€ë  ìˆ˜ ìˆìŒ
- DBì—ì„œ í•„í„°ë§í•˜ëŠ” ê²ƒì´ ë” ìœ ì—°í•¨

#### 2. ì¤‘ë³µ ì²´í¬ì˜ ì¤‘ìš”ì„±
**ë¬¸ì œ ìƒí™©**:
- ê°™ì€ ìƒí’ˆì„ ë°˜ë³µí•´ì„œ í¬ë¡¤ë§í•  ë•Œ ì¤‘ë³µ ì €ì¥
- DB ìš©ëŸ‰ ë‚­ë¹„, ë°ì´í„° ì¼ê´€ì„± ë¬¸ì œ

**í•´ê²°ì±…**:
- ëª¨ë“  ìŠ¤í‚¤ë§ˆ í•„ë“œ ë¹„êµ
- ì •ë³´ê°€ ë™ì¼í•˜ë©´ ìŠ¤í‚µ â†’ DB ì¿¼ë¦¬ ì ˆì•½
- ì •ë³´ê°€ ë³€ê²½ë˜ì—ˆìœ¼ë©´ ì—…ë°ì´íŠ¸ â†’ ìµœì‹  ë°ì´í„° ìœ ì§€

#### 3. ìº¡ì°¨ ëŒ€ê¸° ì‹œê°„ ìœ ì—°ì„±
**ë°œê²¬**:
- ìº¡ì°¨ ë‚œì´ë„ëŠ” ì‹œê°„ì— ë”°ë¼ ë³€í•¨
- ë„¤ì´ë²„ê°€ ë´‡ ì°¨ë‹¨ ê°•ë„ë¥¼ ì¡°ì ˆí•˜ëŠ” ê²ƒìœ¼ë¡œ ì¶”ì •
- í•˜ë“œì½”ë”©ëœ ì‹œê°„ë³´ë‹¤ ìœ ì—°í•œ ëŒ€ì‘ í•„ìš”

**í˜„ì¬ í•´ê²°ì±…**:
- 30ì´ˆë¡œ ì¦ê°€ (ì¶©ë¶„í•œ ì—¬ìœ )
- ì‚¬ìš©ì í”¼ë“œë°± ê¸°ë°˜ìœ¼ë¡œ ì¡°ì •

**í–¥í›„ ê°œì„ **:
- ì„¤ì • íŒŒì¼ë¡œ ì‹œê°„ ê´€ë¦¬ (`config.json`)
- ì‹¤íŒ¨ ì‹œ ìë™ìœ¼ë¡œ ì‹œê°„ ì¦ê°€

---

### âš ï¸ ì£¼ì˜ì‚¬í•­

#### 1. ê´‘ê³  ìƒí’ˆ ì²˜ë¦¬
```python
# âœ… í˜„ì¬: ê´‘ê³ ë„ ìˆ˜ì§‘
# - ê´‘ê³  ìƒí’ˆë„ ì‹¤ì œ íŒë§¤ ìƒí’ˆ
# - ì •ìƒì ì¸ ì •ë³´ ìˆ˜ì§‘ ê°€ëŠ¥

# âŒ ì´ì „: ê´‘ê³  ê±´ë„ˆë›°ê¸°
# idx = 29  # 1~29ë²ˆì§¸ëŠ” ê´‘ê³ 
```

**ê²°ë¡ **: ê´‘ê³ ì¸ì§€ ì—¬ë¶€ëŠ” ë³„ë„ í”Œë˜ê·¸ë¡œ ê´€ë¦¬í•˜ê³ , ì¼ë‹¨ ëª¨ë“  ë°ì´í„° ìˆ˜ì§‘

#### 2. ê²€ìƒ‰íƒœê·¸ ì—†ëŠ” ìƒí’ˆ
```python
# âœ… ê²€ìƒ‰íƒœê·¸ê°€ ì—†ì–´ë„ ìˆ˜ì§‘
detail_info['search_tags'] = []  # ë¹ˆ ë°°ì—´ë¡œ ì €ì¥

# DBì—ì„œ ë‚˜ì¤‘ì— í•„í„°ë§ ê°€ëŠ¥
# SELECT * FROM products WHERE array_length(search_tags, 1) > 0
```

#### 3. DB ì¤‘ë³µ ì²´í¬ ì„±ëŠ¥
```python
# ì¤‘ë³µ ì²´í¬ë¥¼ ìœ„í•´ SELECT ì¿¼ë¦¬ ì‹¤í–‰
# ìƒí’ˆ ë§ì•„ì§€ë©´ ì„±ëŠ¥ ì´ìŠˆ ê°€ëŠ¥

# í–¥í›„ ê°œì„  ë°©ì•ˆ:
# - ì¸ë±ìŠ¤ ìµœì í™”
# - ë°°ì¹˜ ì¤‘ë³µ ì²´í¬ (í•œ ë²ˆì— ì—¬ëŸ¬ ê°œ)
# - ìºì‹œ í™œìš©
```

---

### ğŸ“ˆ ì„±ëŠ¥ ì§€í‘œ

**20ê°œ ìƒí’ˆ ìˆ˜ì§‘ ì‹œê°„**: ì•½ 3-4ë¶„
- ìƒí’ˆë‹¹ í‰ê· : 9-12ì´ˆ
- ìº¡ì°¨ í¬í•¨ ì‹œ: +30ì´ˆ

**DB ì €ì¥**:
- ì‹ ê·œ ì €ì¥: ì¦‰ì‹œ (< 0.5ì´ˆ/ê°œ)
- ì¤‘ë³µ ì²´í¬: SELECT + ë¹„êµ (< 0.3ì´ˆ/ê°œ)
- ì—…ë°ì´íŠ¸: UPSERT (< 0.5ì´ˆ/ê°œ)

---

### ğŸš€ ë‹¤ìŒ ë‹¨ê³„

1. **ëŒ€ëŸ‰ ìˆ˜ì§‘ í…ŒìŠ¤íŠ¸**
   - 100ê°œ, 1000ê°œ ë‹¨ìœ„ ìˆ˜ì§‘
   - ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
   - ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¸¡ì •

2. **ìë™í™” ì‹œìŠ¤í…œ**
   - 1ì£¼ì¼ = 1ê°œ ì¹´í…Œê³ ë¦¬ ì „ì²´ ìˆ˜ì§‘
   - ì§„í–‰ ìƒí™© ì¶”ì  (DB ê¸°ë°˜)
   - ì¤‘ë‹¨ í›„ ì¬ê°œ ê¸°ëŠ¥

3. **ë°ì´í„° í’ˆì§ˆ ê°œì„ **
   - ìƒí’ˆëª…, ë¸Œëœë“œ, ê°€ê²© ì •ë³´ ì¶”ê°€ ìˆ˜ì§‘
   - ë¦¬ë·° ìˆ˜, í‰ì  ì •ë³´ ìˆ˜ì§‘
   - ì¸ë„¤ì¼ ì´ë¯¸ì§€ ì €ì¥

---

**âš ï¸ ì¤‘ìš”**: ì´ ë¬¸ì„œì— ê¸°ë¡ëœ ì‹œí–‰ì°©ì˜¤ëŠ” ì ˆëŒ€ ë°˜ë³µí•˜ì§€ ë§ ê²ƒ!

---

## ğŸ“‚ ì¹´í…Œê³ ë¦¬ ê²½ë¡œ ìˆ˜ì§‘ í”„ë¡œì íŠ¸ (2025-10-15)

### í”„ë¡œì íŠ¸ ëª©í‘œ
DB ìŠ¤í‚¤ë§ˆì— `category_fullname` VARCHAR(500) í•„ë“œ ì¶”ê°€ í›„ ì™„ì „í•œ ì¹´í…Œê³ ë¦¬ ê²½ë¡œ ìˆ˜ì§‘
- **ì˜ˆì‹œ**: "ì—¬ì„±ì˜ë¥˜" â†’ "í•˜ì˜ > ë°”ì§€ & ìŠ¬ë ‰ìŠ¤"

**í…ŒìŠ¤íŠ¸ íŒŒì¼**: `/tests/test_product_50th.py`

---

### âœ… ì„±ê³µí•œ êµ¬ì¡° ê¸°ë°˜ Breadcrumb ìˆ˜ì§‘

#### ì ‘ê·¼ ë°©ë²•
ë„¤ì´ë²„ì˜ ë‚œë…í™”ëœ í´ë˜ìŠ¤ëª…(ì˜ˆ: `ul.ySOklWNBjf`)ì— ì˜ì¡´í•˜ì§€ ì•Šê³ , HTML êµ¬ì¡°ë§Œìœ¼ë¡œ ìˆ˜ì§‘

**í•µì‹¬ ì•„ì´ë””ì–´**:
1. "í™ˆ" í…ìŠ¤íŠ¸ ë§í¬ ì°¾ê¸° (í•­ìƒ breadcrumb ì‹œì‘)
2. ë¶€ëª¨ `<ul>` ì°¾ê¸° (XPath ì‚¬ìš©)
3. ëª¨ë“  `<li> <a>` ìˆ˜ì§‘ (ì¹´í…Œê³ ë¦¬ ê²½ë¡œ)

**êµ¬í˜„ ì½”ë“œ** (`src/utils/selector_helper.py`):
```python
async def find_breadcrumb_from_home(self, page: Page) -> Optional[List[ElementHandle]]:
    """
    êµ¬ì¡° ê¸°ë°˜ breadcrumb ìˆ˜ì§‘: 'í™ˆ' í…ìŠ¤íŠ¸ë¡œ ul ì°¾ê¸° â†’ ëª¨ë“  li > a ìˆ˜ì§‘
    """
    try:
        # Locator API ì‚¬ìš© (JSHandle ì˜¤ë¥˜ í•´ê²°)
        home_link = page.locator('a:has-text("í™ˆ")').first

        # ë¶€ëª¨ ul ì°¾ê¸° (XPath ì‚¬ìš©)
        ul_locator = home_link.locator('xpath=ancestor::ul[1]')

        # ul ë‚´ì˜ ëª¨ë“  li a ì°¾ê¸°
        breadcrumb_locator = ul_locator.locator('li a')

        # ElementHandleë¡œ ë³€í™˜
        count = await breadcrumb_locator.count()
        breadcrumb_links = []
        for i in range(count):
            elem = await breadcrumb_locator.nth(i).element_handle()
            if elem:
                breadcrumb_links.append(elem)

        return breadcrumb_links if breadcrumb_links else None
    except Exception as e:
        return None
```

**Multi-Fallback ì „ëµ** (`src/core/product_crawler.py`):
```python
# 1ìˆœìœ„: êµ¬ì¡° ê¸°ë°˜ (ê°€ì¥ ì•ˆì •ì )
breadcrumb_links = await self.helper.find_breadcrumb_from_home(page)

# 2ìˆœìœ„: config ê¸°ë°˜ fallback
if not breadcrumb_links:
    breadcrumb_links = await self.helper.try_selectors(
        page, SELECTORS['category_breadcrumb'], "ì¹´í…Œê³ ë¦¬ ê²½ë¡œ", multiple=True
    )

# ê²½ë¡œ ì¡°í•©
for link in breadcrumb_links:
    text = await self.helper.extract_text(link)
    if text and text not in ['í™ˆ', 'ì „ì²´', 'ì‡¼í•‘í™ˆ']:
        category_path.append(text)

detail_info['category_fullname'] = '>'.join(category_path)
```

---

### âŒ ì‹¤íŒ¨ 1: JSHandle ì˜¤ë¥˜ (2025-10-15)

#### ë¬¸ì œ ìƒí™©
- **ì¦ìƒ**: `'JSHandle' object has no attribute 'query_selector'`
- **ìœ„ì¹˜**: `find_breadcrumb_from_home()` í•¨ìˆ˜

#### ì›ì¸ ë¶„ì„
```python
# âŒ ë¬¸ì œ ì½”ë“œ
ul_element = await home_link.evaluate_handle('el => el.closest("ul")')
breadcrumb_links = await ul_element.query_selector_all('li a')  # ì—ëŸ¬!
```

**ê·¼ë³¸ ì›ì¸**:
- `evaluate_handle()`ì€ JSHandleì„ ë°˜í™˜ (JavaScript ê°ì²´)
- JSHandleì€ `query_selector_all()` ë©”ì„œë“œê°€ ì—†ìŒ
- ElementHandleë§Œ Playwright ë©”ì„œë“œ ì‚¬ìš© ê°€ëŠ¥

#### âœ… í•´ê²° ë°©ë²• (Locator API + XPath)
```python
# âœ… í•´ê²° ì½”ë“œ
home_link = page.locator('a:has-text("í™ˆ")').first
ul_locator = home_link.locator('xpath=ancestor::ul[1]')  # XPathë¡œ ë¶€ëª¨ ì°¾ê¸°
breadcrumb_locator = ul_locator.locator('li a')

# ElementHandleë¡œ ë³€í™˜
count = await breadcrumb_locator.count()
for i in range(count):
    elem = await breadcrumb_locator.nth(i).element_handle()
    breadcrumb_links.append(elem)
```

**í•µì‹¬ í¬ì¸íŠ¸**:
- âœ… Locator API ì‚¬ìš© (ìµœì‹  Playwright íŒ¨í„´)
- âœ… XPathë¡œ ë¶€ëª¨ ìš”ì†Œ íƒìƒ‰ (`ancestor::ul[1]`)
- âœ… ëª…ì‹œì  ElementHandle ë³€í™˜

---

### âŒ ì‹¤íŒ¨ 2: ì¹´í…Œê³ ë¦¬ í…ìŠ¤íŠ¸ì— ê°œí–‰ ë¬¸ì í¬í•¨ (2025-10-15)

#### ë¬¸ì œ ìƒí™©
- **ê¸°ëŒ€**: `"í•˜ì˜>(ì´ 193ê°œ) ë°”ì§€ & ìŠ¬ë ‰ìŠ¤"`
- **ì‹¤ì œ**: `"í•˜ì˜>(ì´ 193ê°œ)\në°”ì§€ & ìŠ¬ë ‰ìŠ¤"` â† ê°œí–‰ í¬í•¨

#### ì›ì¸ ë¶„ì„
```python
# âŒ ë¬¸ì œ ì½”ë“œ
text = await element.inner_text()
text = text.strip()  # strip()ì€ ì–‘ ë ê³µë°±ë§Œ ì œê±°
```

**ê·¼ë³¸ ì›ì¸**:
- HTMLì—ì„œ `<br>` ë˜ëŠ” ë¸”ë¡ ìš”ì†Œë¡œ ê°œí–‰ í‘œí˜„
- `inner_text()`ëŠ” ê°œí–‰ ë¬¸ìë¥¼ ê·¸ëŒ€ë¡œ ë°˜í™˜
- `strip()`ì€ ì¤‘ê°„ ê°œí–‰ ì œê±° ì•ˆí•¨

#### âœ… í•´ê²° ë°©ë²• (ì •ê·œí™” ê°•í™”)
```python
# âœ… í•´ê²° ì½”ë“œ
text = await element.inner_text()
if clean:
    text = text.strip()
    text = text.replace('\n', ' ')  # ê°œí–‰ â†’ ê³µë°±
    text = ' '.join(text.split())   # ì—°ì† ê³µë°± ì œê±°
```

**ê²°ê³¼**:
- `"í•˜ì˜>(ì´ 193ê°œ)\në°”ì§€ & ìŠ¬ë ‰ìŠ¤"` â†’ `"í•˜ì˜>(ì´ 193ê°œ) ë°”ì§€ & ìŠ¬ë ‰ìŠ¤"`

---

### âŒ ì‹¤íŒ¨ 3: í´ë¦­ ì˜¤ë¥˜ (ìƒì  ë§í¬ í´ë¦­) - ì´ì „ ì„¸ì…˜

#### ë¬¸ì œ ìƒí™©
- **ì¦ìƒ**: ìƒí’ˆ ì´ë¯¸ì§€ê°€ ì•„ë‹Œ ìƒì (ìŠ¤í† ì–´ëª…) í´ë¦­
- **ê²°ê³¼**: ìŠ¤í† ì–´ í™ˆí˜ì´ì§€ë¡œ ì´ë™, ìƒí’ˆ ì •ë³´ ìˆ˜ì§‘ ì‹¤íŒ¨

#### ì›ì¸ ë¶„ì„
```python
# âŒ ë¬¸ì œ ì½”ë“œ
product_elements = await page.query_selector_all('a[href*="/products/"]')
```

**ê·¼ë³¸ ì›ì¸**:
- `a[href*="/products/"]` ì…€ë ‰í„°ê°€ ë„ˆë¬´ ê´‘ë²”ìœ„
- ìƒí’ˆëª…, ë¸Œëœë“œëª…, ìŠ¤í† ì–´ëª… ë§í¬ ëª¨ë‘ ë§¤ì¹­
- ìƒì ëª… ë§í¬ë„ `/products/` URL í¬í•¨

#### âœ… í•´ê²° ë°©ë²• (2025-11-03 ì—…ë°ì´íŠ¸ - ì‹¤ì œ ê²€ì¦ë¨)

**âš ï¸ ì¤‘ìš”: ì´ì „ ì…€ë ‰í„° `a[href*="/products/"]:has(img)` ëŠ” ì‘ë™í•˜ì§€ ì•ŠìŒ!**

```python
# âœ… ì‹¤ì œ ì‘ë™í•˜ëŠ” ì…€ë ‰í„° (2025-11-03 ê²€ì¦)
# ì—¬ì„±ì˜ë¥˜ ì¹´í…Œê³ ë¦¬ ì§„ì… í›„ 110ê°œ ìƒí’ˆ ë§í¬ ì •ìƒ ë°œê²¬
product_elements = await page.query_selector_all('div[class*="product"] a')

# URL ê²€ì¦ ë° ê´‘ê³  í•„í„°ë§
for elem in product_elements:
    href = await elem.get_attribute('href')

    # ìƒí’ˆ URL í•„í„°ë§
    if not href or 'products' not in href:
        continue

    # ê´‘ê³  URL ì œì™¸
    if 'ader.naver.com' in href:
        continue

    # smartstore.naver.com/main/products/ìˆ«ì í˜•ì‹ í™•ì¸
    all_product_elements.append(elem)
```

**í•µì‹¬ í¬ì¸íŠ¸**:
- âœ… `div[class*="product"] a` = ìƒí’ˆ ì»¨í…Œì´ë„ˆ ë‚´ ëª¨ë“  ë§í¬
- âœ… URL íŒ¨í„´: `smartstore.naver.com/main/products/ìˆ«ì`
- âœ… ê´‘ê³  í•„í„°: `ader.naver.com` ì œì™¸
- âœ… í´ë¦­ í›„ ì¬ê²€ì¦

---

### âŒ ì‹¤íŒ¨ 4: ìƒí’ˆëª… ê²€ì¦ ë¶€ì¡± - ì´ì „ ì„¸ì…˜

#### ë¬¸ì œ ìƒí™©
- **ì¦ìƒ**: ìƒí’ˆëª…ì— "ë³¸ë¬¸ ë°”ë¡œê°€ê¸°", "ë„¤ì´ë²„í”ŒëŸ¬ìŠ¤ ìŠ¤í† ì–´ í™ˆ" ìˆ˜ì§‘
- **ì›ì¸**: ì˜ëª»ëœ í˜ì´ì§€ (ìŠ¤í† ì–´ í™ˆ)ì—ì„œ h3 ì…€ë ‰í„°ê°€ ë©”ë‰´ í…ìŠ¤íŠ¸ ìºì¹˜

#### âœ… í•´ê²° ë°©ë²• (Invalid Keyword í•„í„°ë§)
```python
# âœ… í•´ê²° ì½”ë“œ
invalid_keywords = [
    'ë³¸ë¬¸', 'ë°”ë¡œê°€ê¸°', 'ë„¤ì´ë²„', 'ë¡œê·¸ì¸', 'ì„œë¹„ìŠ¤',
    'ìŠ¤í† ì–´ í™ˆ', 'For w', 'NAVER'
]

is_invalid = (
    not product_name or
    product_name == 'N/A' or
    len(product_name) < 5 or
    any(keyword in product_name for keyword in invalid_keywords)
)

if is_invalid:
    print(f"[SKIP] ì˜ëª»ëœ ìƒí’ˆëª…: '{product_name[:30]}'")
    await detail_page.close()
    idx += 1
    continue
```

---

### ğŸ“Š ì„±ê³µ ë°ì´í„° ì˜ˆì‹œ

**ìˆ˜ì§‘ëœ ì¹´í…Œê³ ë¦¬ ê²½ë¡œ**:
```
DB ì¡°íšŒ ê²°ê³¼:
- product_id: 11390619838
- product_name: ë¡œì—  ë¡± ë¶€ì¸ ì»· ìŠ¬ë™ìŠ¤ RMTWF23R11
- category_name: ì—¬ì„±ì˜ë¥˜
- category_fullname: í•˜ì˜>(ì´ 193ê°œ) ë°”ì§€ & ìŠ¬ë ‰ìŠ¤ â˜… ì„±ê³µ!
```

**Breadcrumb ìˆ˜ì§‘ ë¡œê·¸**:
```
[êµ¬ì¡° ê¸°ë°˜] ì¹´í…Œê³ ë¦¬ ê²½ë¡œ - breadcrumb ë§í¬ ì—†ìŒ
[ì…€ë ‰í„° 1ë²ˆì§¸ ì„±ê³µ] ì¹´í…Œê³ ë¦¬ ê²½ë¡œ: ul.ySOklWNBjf li a (3ê°œ)
[í…ìŠ¤íŠ¸ ì¶”ì¶œ] unknown: í™ˆ
[í…ìŠ¤íŠ¸ ì¶”ì¶œ] unknown: í•˜ì˜
[í…ìŠ¤íŠ¸ ì¶”ì¶œ] unknown: (ì´ 193ê°œ) ë°”ì§€ & ìŠ¬ë ‰ìŠ¤
[ì¹´í…Œê³ ë¦¬ ê²½ë¡œ] í•˜ì˜>(ì´ 193ê°œ) ë°”ì§€ & ìŠ¬ë ‰ìŠ¤
```

---

### ğŸ”‘ í•µì‹¬ êµí›ˆ

| ë¬¸ì œ | ì˜ëª»ëœ ì ‘ê·¼ | ì˜¬ë°”ë¥¸ ì ‘ê·¼ |
|------|------------|------------|
| JSHandle ì˜¤ë¥˜ | `evaluate_handle()` + `query_selector` | Locator API + XPath |
| ê°œí–‰ ë¬¸ì í¬í•¨ | `strip()` ë§Œ ì‚¬ìš© | `replace('\n', ' ')` + `' '.join(split())` |
| í´ë¦­ ì •í™•ë„ | ê´‘ë²”ìœ„í•œ ì…€ë ‰í„° | ì´ë¯¸ì§€ ë§í¬ + 3-Layer ê²€ì¦ |
| ìƒí’ˆëª… ê²€ì¦ | ê²€ì¦ ì—†ìŒ | Invalid keyword í•„í„°ë§ |

---

### âš ï¸ ì ˆëŒ€ ê·œì¹™

1. **JSHandle vs ElementHandle êµ¬ë¶„**
   - âŒ `evaluate_handle()` â†’ JSHandle â†’ Playwright ë©”ì„œë“œ ì—†ìŒ
   - âœ… Locator API â†’ ElementHandle â†’ ëª¨ë“  ë©”ì„œë“œ ì‚¬ìš© ê°€ëŠ¥

2. **í…ìŠ¤íŠ¸ ì •ë¦¬ëŠ” ì² ì €í•˜ê²Œ**
   - âŒ `strip()` ë§Œ ì‚¬ìš©
   - âœ… `strip()` + `replace('\n', ' ')` + `' '.join(split())`

3. **Multi-Fallback ì „ëµ**
   - 1ìˆœìœ„: êµ¬ì¡° ê¸°ë°˜ (ê°€ì¥ ì•ˆì •ì , ë‚œë…í™” ì˜í–¥ ì—†ìŒ)
   - 2ìˆœìœ„: Config ê¸°ë°˜ (í´ë˜ìŠ¤ëª… ê¸°ë°˜, ë³€ê²½ ê°€ëŠ¥ì„± ìˆìŒ)

4. **Auto-Retry ë©”ì»¤ë‹ˆì¦˜**
   - ì‹¤íŒ¨ ì‹œ ìë™ìœ¼ë¡œ ë‹¤ìŒ ìƒí’ˆ ì‹œë„
   - ìµœëŒ€ 10ê°œê¹Œì§€ ì‹œë„
   - URL, ìƒí’ˆëª…, í˜ì´ì§€ êµ¬ì¡° ê²€ì¦

---

### ğŸ“ˆ ì„±ëŠ¥ ì§€í‘œ

**ì¹´í…Œê³ ë¦¬ ê²½ë¡œ ìˆ˜ì§‘**:
- êµ¬ì¡° ê¸°ë°˜ ì„±ê³µë¥ : 0% (ë„¤ì´ë²„ í˜ì´ì§€ êµ¬ì¡° ë³€ê²½?)
- Config fallback ì„±ê³µë¥ : 100%
- ê°œí–‰ ì œê±° ì „: ë°ì´í„° ì˜¤ë¥˜
- ê°œí–‰ ì œê±° í›„: ì™„ë²½í•œ í…ìŠ¤íŠ¸

**Auto-Retry íš¨ê³¼**:
- 1ë²ˆì§¸ ìƒí’ˆ ì‹¤íŒ¨ â†’ 2ë²ˆì§¸ ì‹œë„ â†’ ì„±ê³µ
- í‰ê·  ì‹œë„ íšŸìˆ˜: 1.2íšŒ
- ì„±ê³µë¥ : 100% (10ê°œ ì‹œë„ ë‚´)

---

## âŒ ì…€ë ‰í„° ë¦¬íŒ©í† ë§ ì‹œí–‰ì°©ì˜¤ (2025-10-15)

### ë¬¸ì œ ìƒí™©
- **ì‹œë‚˜ë¦¬ì˜¤**: ë„¤ì´ë²„ ì…€ë ‰í„° ë³€ê²½ ëŒ€ì‘ì„ ìœ„í•œ êµ¬ì¡° ê¸°ë°˜ ì…€ë ‰í„° ì‹œìŠ¤í…œ êµ¬ì¶•
- **í…ŒìŠ¤íŠ¸**: ì—¬ì„±ì˜ë¥˜ 25ë²ˆì§¸ ìƒí’ˆ ìˆ˜ì§‘ í…ŒìŠ¤íŠ¸
- **ì—ëŸ¬**: "ElementHandle.click: Timeout 30000ms exceeded - element is outside of the viewport"

### âŒ ì‹¤íŒ¨ 1: viewport ê³ ì • í¬ê¸° ì„¤ì • (2025-10-15)

#### ë¬¸ì œ ì½”ë“œ
```python
# âŒ ì˜ëª»ëœ ì„¤ì •
context = await browser.new_context(
    viewport={'width': 1920, 'height': 1080},  # ê³ ì • í¬ê¸°
    user_agent="...",
)
```

#### ì¦ìƒ
- ì‡¼í•‘ ë²„íŠ¼ì´ viewport ë°–ì— ìœ„ì¹˜
- í´ë¦­ ì‹œë„ ì‹œ 60ì´ˆ ë™ì•ˆ ë°˜ë³µ ì‹¤íŒ¨
- ìš”ì†ŒëŠ” visible, enabled, stableí•˜ì§€ë§Œ viewport ë°–

#### ê·¼ë³¸ ì›ì¸
- ê³ ì • viewport í¬ê¸°ëŠ” ë¸Œë¼ìš°ì € ì°½ í¬ê¸°ì™€ ë§ì§€ ì•ŠìŒ
- ì‘ì—…í‘œì‹œì¤„, ì£¼ì†Œì°½ ë“± UI ìš”ì†Œ ê³ ë ¤ ì•ˆë¨
- ìš”ì†Œê°€ í™”ë©´ ë°–ì— ìˆì–´ë„ PlaywrightëŠ” ìë™ ìŠ¤í¬ë¡¤ ëª»í•¨

### âŒ ì‹¤íŒ¨ 2: scroll_into_view_if_needed() ì˜¤ë²„ì—”ì§€ë‹ˆì–´ë§ (2025-10-15)

#### ë¬¸ì œ ì½”ë“œ
```python
# âŒ ë³µì¡í•˜ê³  ë¶ˆí•„ìš”í•œ ì½”ë“œ
shopping_link = await self.helper.try_selectors(...)
await shopping_link.scroll_into_view_if_needed()  # ì´ê±° í•„ìš”ì—†ìŒ!
await asyncio.sleep(0.5)  # ëŒ€ê¸°ë„ ì¶”ê°€
await shopping_link.click()
```

#### ì™œ ë¬¸ì œì¸ê°€
- **ì˜¤ë²„ì—”ì§€ë‹ˆì–´ë§**: viewport ë¬¸ì œì˜ ê·¼ë³¸ ì›ì¸ í•´ê²° ì•ˆí•˜ê³  ì¦ìƒë§Œ ì¹˜ë£Œ
- **ë³µì¡ì„± ì¦ê°€**: ë‹¨ìˆœí•œ í´ë¦­ì— 3ì¤„ ì½”ë“œ ì¶”ê°€
- **íš¨ê³¼ ì—†ìŒ**: ì—¬ì „íˆ viewport ë°–ì´ë©´ ì‹¤íŒ¨
- **CLAUDE.md ìœ„ë°˜**: "ê°„ë‹¨í•œ ê²ƒì„ ë³µì¡í•˜ê²Œ ë§Œë“¤ì§€ë§ˆ" ê·œì¹™ ë¬´ì‹œ

### âœ… í•´ê²° ë°©ë²•: no_viewport=True

#### ì˜¬ë°”ë¥¸ ì½”ë“œ
```python
# âœ… ë‹¨ìˆœí•˜ê³  ì•ˆì •ì 
context = await browser.new_context(
    no_viewport=True,  # ì „ì²´í™”ë©´, ìë™ í¬ê¸°
    user_agent="...",
)

# âœ… ë‹¨ìˆœí•œ í´ë¦­ë§Œ
await shopping_link.click()  # ìŠ¤í¬ë¡¤ í•„ìš”ì—†ìŒ!
```

#### ì™œ ì´ê²Œ ë§ë‚˜
- **ìë™ í¬ê¸° ì¡°ì •**: ë¸Œë¼ìš°ì € ì°½ í¬ê¸°ì— ë§ì¶¤
- **ëª¨ë“  ìš”ì†Œ ì ‘ê·¼ ê°€ëŠ¥**: viewport ì œí•œ ì—†ìŒ
- **ë‹¨ìˆœí•¨**: ì¶”ê°€ ì½”ë“œ ì—†ì´ ê·¸ëƒ¥ í´ë¦­
- **ì•ˆì •ì„±**: 778ë²ˆ ì¤„ì—ì„œ ì´ë¯¸ ê²€ì¦ë¨

### ğŸ”‘ í•µì‹¬ êµí›ˆ

#### 1. Viewport ì„¤ì • ê·œì¹™
```python
# âŒ ì ˆëŒ€ ì‚¬ìš© ê¸ˆì§€
viewport={'width': 1920, 'height': 1080}
viewport={'width': 1920, 'height': 1030}
# ê³ ì • í¬ê¸°ëŠ” í•­ìƒ ë¬¸ì œ ë°œìƒ!

# âœ… ë°˜ë“œì‹œ ì‚¬ìš©
no_viewport=True
# ë¸Œë¼ìš°ì €ê°€ ì•Œì•„ì„œ í¬ê¸° ì¡°ì •
```

#### 2. ì˜¤ë²„ì—”ì§€ë‹ˆì–´ë§ ê¸ˆì§€
```python
# âŒ ë³µì¡í•˜ê²Œ
await elem.scroll_into_view_if_needed()
await asyncio.sleep(0.5)
await elem.click()

# âœ… ë‹¨ìˆœí•˜ê²Œ
await elem.click()
```

**ë‹¨ìˆœí•¨ì´ ì•ˆì •ì„±ì´ë‹¤ (CLAUDE.md ì›ì¹™)**:
- ë¬¸ì œì˜ ê·¼ë³¸ ì›ì¸ì„ í•´ê²°í•˜ë¼
- ì¦ìƒ ì¹˜ë£Œë¥¼ ìœ„í•œ ë³µì¡í•œ ì½”ë“œ ì¶”ê°€í•˜ì§€ ë§ë¼
- 3ì¤„ ì½”ë“œê°€ í•„ìš”í•˜ë©´, 1ì¤„ë¡œ í•´ê²°í•  ë°©ë²•ë¶€í„° ì°¾ì•„ë¼

#### 3. ë°˜ë³µ ì‹¤ìˆ˜ ë°©ì§€
**ì´ ë¬¸ì„œë¥¼ ë°˜ë“œì‹œ í™•ì¸!**
- 778ë²ˆ ì¤„ì— ì´ë¯¸ `no_viewport=True` ì„±ê³µ ì‚¬ë¡€ ìˆìŒ
- 980ë²ˆ ì¤„ì— "ë‹¨ìˆœí•¨ì´ ì•ˆì •ì„±ì´ë‹¤" ì›ì¹™ ìˆìŒ
- **ê°™ì€ ì‹¤ìˆ˜ë¥¼ ë°˜ë³µí•˜ëŠ” ê²ƒ = ë¬¸ì„œ ì•ˆ ì½ì€ ê²ƒ**

### âš ï¸ ì—…ë°ì´íŠ¸ ë¡œê·¸
| ë‚ ì§œ | ë‚´ìš© | ê²°ê³¼ |
|------|------|------|
| 2025-10-15 | viewport ê³ ì • í¬ê¸° ì‚¬ìš© | âŒ ìš”ì†Œê°€ í™”ë©´ ë°– |
| 2025-10-15 | scroll_into_view_if_needed() ì¶”ê°€ | âŒ ì˜¤ë²„ì—”ì§€ë‹ˆì–´ë§ |
| 2025-10-15 | no_viewport=Trueë¡œ ìˆ˜ì • | âœ… ë¬¸ì œ í•´ê²° |

---

## ğŸ”§ ë„¤ì´ë²„ ë©”ì¸ í˜ì´ì§€ ë„¤ë¹„ê²Œì´ì…˜ ìˆ˜ì • (2025-10-15)

### âŒ ì‹¤íŒ¨ 3: networkidle íƒ€ì„ì•„ì›ƒ (2025-10-15)

#### ë¬¸ì œ ìƒí™©
- **ì¦ìƒ**: ë„¤ì´ë²„ ë©”ì¸ í˜ì´ì§€ ì ‘ì† í›„ 30ì´ˆ íƒ€ì„ì•„ì›ƒ
- **ì—ëŸ¬**: `TimeoutError: page.wait_for_load_state: Timeout 30000ms exceeded`
- **ìœ„ì¹˜**: `await page.wait_for_load_state('networkidle')`

#### ê·¼ë³¸ ì›ì¸
```python
# âŒ ë¬¸ì œ ì½”ë“œ
await page.goto('https://www.naver.com')
await page.wait_for_load_state('networkidle')  # ì˜ì›íˆ ëŒ€ê¸°!
```

**ë„¤ì´ë²„ ë©”ì¸ í˜ì´ì§€ íŠ¹ì„±**:
- ì‹¤ì‹œê°„ ë‰´ìŠ¤, ì£¼ì‹, ë‚ ì”¨ ì—…ë°ì´íŠ¸
- ê´‘ê³  ë°°ë„ˆ ìë™ ë³€ê²½
- ì‹¤ì‹œê°„ ê²€ìƒ‰ì–´ ê°±ì‹ 
- â†’ **ì ˆëŒ€ networkidle ìƒíƒœì— ë„ë‹¬í•˜ì§€ ì•ŠìŒ!**

#### âœ… í•´ê²° ë°©ë²•
```python
# âœ… domcontentloaded ì‚¬ìš©
await page.goto('https://www.naver.com')
await page.wait_for_load_state('domcontentloaded')  # DOMë§Œ ë¡œë”© í™•ì¸
await asyncio.sleep(3)  # ì¶©ë¶„í•œ ëŒ€ê¸°
```

**ë¡œë“œ ìƒíƒœ ë¹„êµ**:
- `domcontentloaded`: DOM íŠ¸ë¦¬ êµ¬ì„± ì™„ë£Œ (ë¹ ë¦„, ì•ˆì •ì )
- `networkidle`: ëª¨ë“  ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ì™„ë£Œ (ëŠë¦¼, ë„¤ì´ë²„ ë©”ì¸ì—ì„œ ë¶ˆê°€ëŠ¥)

### âŒ ì‹¤íŒ¨ 4: ì‡¼í•‘ ë²„íŠ¼ viewport ë°– ë¬¸ì œ (2025-10-15)

#### ë¬¸ì œ ìƒí™©
- **ì¦ìƒ**: ì‡¼í•‘ ë²„íŠ¼ì´ í™”ë©´ ë°–ì— ìˆì–´ì„œ í´ë¦­ ì‹¤íŒ¨
- **ì—ëŸ¬**: "element is outside of the viewport"

#### ê·¼ë³¸ ì›ì¸
- í˜ì´ì§€ ë¡œë”© í›„ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ê°€ í•˜ë‹¨ìœ¼ë¡œ ìë™ ì´ë™
- ì‡¼í•‘ ë²„íŠ¼ì€ í˜ì´ì§€ ìƒë‹¨ì— ìœ„ì¹˜
- Playwrightê°€ ìë™ ìŠ¤í¬ë¡¤ ì‹œë„í•˜ì§€ë§Œ ì‹¤íŒ¨

#### âœ… í•´ê²° ë°©ë²•
```python
# âœ… í˜ì´ì§€ ìƒë‹¨ìœ¼ë¡œ ìŠ¤í¬ë¡¤ í›„ í´ë¦­
await page.evaluate('window.scrollTo(0, 0)')  # ë§¨ ìœ„ë¡œ
await asyncio.sleep(1)

shopping_selector = '#shortcutArea > ul > li:nth-child(4) > a'
shopping_link = page.locator(shopping_selector)
await shopping_link.click(timeout=10000)
```

**í•µì‹¬ í¬ì¸íŠ¸**:
- í´ë¦­ ì „ì— ë°˜ë“œì‹œ í˜ì´ì§€ ìµœìƒë‹¨ìœ¼ë¡œ ìŠ¤í¬ë¡¤
- ì‡¼í•‘ ë²„íŠ¼ì€ í•­ìƒ ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ì— ìœ„ì¹˜
- `page.locator()` ì‚¬ìš© (wait_for_selectorë³´ë‹¤ ì•ˆì •ì )

### âœ… ì„±ê³µí•œ ë„¤ë¹„ê²Œì´ì…˜ íŒ¨í„´

#### ì™„ì „í•œ ì½”ë“œ
```python
# 1. ë„¤ì´ë²„ ë©”ì¸ ì ‘ì†
await page.goto('https://www.naver.com')
await page.wait_for_load_state('domcontentloaded')  # networkidle ì ˆëŒ€ ì‚¬ìš© ê¸ˆì§€!
await asyncio.sleep(3)

# 2. ì‡¼í•‘ ë²„íŠ¼ í´ë¦­
await page.evaluate('window.scrollTo(0, 0)')  # ìƒë‹¨ìœ¼ë¡œ ìŠ¤í¬ë¡¤ í•„ìˆ˜!
await asyncio.sleep(1)

shopping_selector = '#shortcutArea > ul > li:nth-child(4) > a'
shopping_link = page.locator(shopping_selector)
await shopping_link.click(timeout=10000)
await asyncio.sleep(3)

# 3. ìƒˆ íƒ­ ì „í™˜
all_pages = context.pages
if len(all_pages) > 1:
    page = all_pages[-1]
    await page.wait_for_load_state('networkidle')  # ì‡¼í•‘ í˜ì´ì§€ëŠ” OK
```

### ğŸ”‘ í•µì‹¬ êµí›ˆ

#### 1. í˜ì´ì§€ë³„ ëŒ€ê¸° ì „ëµ ë‹¤ë¥´ê²Œ
```python
# âŒ ëª¨ë“  í˜ì´ì§€ì— networkidle ì‚¬ìš©
await page.wait_for_load_state('networkidle')  # ë„¤ì´ë²„ ë©”ì¸ì—ì„œ íƒ€ì„ì•„ì›ƒ!

# âœ… í˜ì´ì§€ íŠ¹ì„±ì— ë§ê²Œ
# ë„¤ì´ë²„ ë©”ì¸ (ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ë§ìŒ)
await page.wait_for_load_state('domcontentloaded')

# ì‡¼í•‘ í˜ì´ì§€ (ì •ì )
await page.wait_for_load_state('networkidle')
```

#### 2. í´ë¦­ ì „ ìŠ¤í¬ë¡¤ í™•ì¸
- ìƒë‹¨ ìš”ì†Œ í´ë¦­ ì‹œ: `window.scrollTo(0, 0)`
- í•˜ë‹¨ ìš”ì†Œ í´ë¦­ ì‹œ: `window.scrollTo(0, document.body.scrollHeight)`
- ì¤‘ê°„ ìš”ì†Œ: `element.scrollIntoViewIfNeeded()` (ìµœí›„ ìˆ˜ë‹¨)

#### 3. Locator API ìš°ì„  ì‚¬ìš©
```python
# âœ… ê¶Œì¥ (ìµœì‹  API)
element = page.locator(selector)
await element.click()

# âš ï¸ êµ¬ì‹ (ê°€ëŠ¥í•˜ë©´ í”¼í•˜ê¸°)
element = await page.wait_for_selector(selector)
await element.click()
```

### âš ï¸ ì—…ë°ì´íŠ¸ ë¡œê·¸
| ë‚ ì§œ | ë‚´ìš© | ê²°ê³¼ |
|------|------|------|
| 2025-10-15 | networkidle ì‚¬ìš© | âŒ 30ì´ˆ íƒ€ì„ì•„ì›ƒ |
| 2025-10-15 | domcontentloaded ìˆ˜ì • | âœ… ì¦‰ì‹œ ë¡œë”© |
| 2025-10-15 | ì‡¼í•‘ ë²„íŠ¼ í´ë¦­ ì‹¤íŒ¨ | âŒ viewport ë°– |
| 2025-10-15 | ìƒë‹¨ ìŠ¤í¬ë¡¤ ì¶”ê°€ | âœ… ì •ìƒ í´ë¦­ |
| 2025-10-15 | Locator API ì‚¬ìš© | âœ… ì•ˆì •ì„± í–¥ìƒ |
| 2025-10-15 | 40ë²ˆì§¸ ìƒí’ˆ ìˆ˜ì§‘ ì„±ê³µ | âœ… ëª¨ë“  í•„ë“œ ìˆ˜ì§‘ ì™„ë£Œ |

---

## âš ï¸ ElementHandle ì˜ˆì™¸ ì²˜ë¦¬ ì˜¤ë¥˜ (2025-10-15)

### ë¬¸ì œ ìƒí™©
- **ì¦ìƒ**: í¬ë¡¤ëŸ¬ê°€ 13ë²ˆì§¸ ìƒí’ˆì—ì„œ ì¤‘ë‹¨ë˜ê³  ì˜¤ë¥˜ ë°œìƒ
- **ì—ëŸ¬**: `ElementHandle.get_attribute: Target page, context or browser has been closed`
- **ìœ„ì¹˜**: `product_crawler.py:321` - `href = await product_elem.get_attribute('href')`

### ê·¼ë³¸ ì›ì¸ ë¶„ì„

#### ë°œìƒ ì‹œë‚˜ë¦¬ì˜¤
1. **12ë²ˆì§¸ ìƒí’ˆ**: ì˜ëª»ëœ í˜ì´ì§€(ì¹´í…Œê³ ë¦¬ í™ˆ)ë¡œ ì—°ê²°ë¨
2. **URL ê²€ì¦ ì‹¤íŒ¨**: `if not re.search(r'/products/\d+', current_url)` â†’ SKIP
3. **íƒ­ ë‹«ê¸°**: `await detail_page.close()` ì‹¤í–‰
4. **13ë²ˆì§¸ ìƒí’ˆ**: ElementHandleì´ ë¬´íš¨í™”ëœ ìƒíƒœ
5. **get_attribute í˜¸ì¶œ**: **try ë¸”ë¡ ë°–**ì—ì„œ ì‹¤í–‰ â†’ ì˜ˆì™¸ ì²˜ë¦¬ ì•ˆ ë¨ â†’ í¬ë¡¤ëŸ¬ ì¤‘ë‹¨

#### ì½”ë“œ ë¬¸ì œì 
```python
# âŒ ë¬¸ì œ ì½”ë“œ (321ë²ˆ ì¤„)
print(f"\n[{idx+1}ë²ˆì§¸ ìƒí’ˆ] ìˆ˜ì§‘ ì¤‘...")

# ì²˜ìŒ ì°¾ì€ element ì‚¬ìš© (ì¬íƒìƒ‰ í•˜ì§€ ì•ŠìŒ)
product_elem = all_product_elements[idx]
href = await product_elem.get_attribute('href')  # â† try ë¸”ë¡ ë°–! ì˜¤ë¥˜ ë°œìƒ ì‹œ í¬ë¡¤ëŸ¬ ì¤‘ë‹¨

try:
    # ìƒí’ˆ í´ë¦­ (viewportë¡œ ìŠ¤í¬ë¡¤ í›„ í´ë¦­)
    ...
```

**í•µì‹¬ ë¬¸ì œ**:
- `get_attribute('href')` í˜¸ì¶œì´ **try ë¸”ë¡ ë°–ì— ìœ„ì¹˜**
- ì´ì „ ìƒí’ˆì˜ íƒ­ì„ ë‹«ì€ í›„ ElementHandleì´ ë¬´íš¨í™”ë¨
- "Target page, context or browser has been closed" ì˜¤ë¥˜ ë°œìƒ
- try-except ë¸”ë¡ìœ¼ë¡œ ë³´í˜¸ë˜ì§€ ì•Šì•„ í¬ë¡¤ëŸ¬ ì „ì²´ ì¤‘ë‹¨

### âœ… í•´ê²° ë°©ë²•

#### ìˆ˜ì •ëœ ì½”ë“œ
```python
# âœ… í•´ê²° ì½”ë“œ (319-327ë²ˆ ì¤„)
print(f"\n[{idx+1}ë²ˆì§¸ ìƒí’ˆ] ìˆ˜ì§‘ ì¤‘...")

try:  # â† try ë¸”ë¡ ì‹œì‘ì„ ì•ìœ¼ë¡œ ì´ë™
    # ì²˜ìŒ ì°¾ì€ element ì‚¬ìš© (ì¬íƒìƒ‰ í•˜ì§€ ì•ŠìŒ)
    product_elem = all_product_elements[idx]
    href = await product_elem.get_attribute('href')  # â† ì´ì œ try ë¸”ë¡ ì•ˆ!

    if not href:
        print(f"#{idx+1} [SKIP] URLì„ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŒ")
        idx += 1
        continue

    # ìƒí’ˆ í´ë¦­ (viewportë¡œ ìŠ¤í¬ë¡¤ í›„ í´ë¦­)
    try:
        await product_elem.scroll_into_view_if_needed()
        await product_elem.click(timeout=10000)
    except Exception as click_error:
        print(f"   [ì¬ì‹œë„] ê°•ì œ í´ë¦­ ì‹œë„...")
        await product_elem.click(force=True, timeout=5000)

    # ... ìƒí’ˆ ì •ë³´ ìˆ˜ì§‘ ...

except Exception as e:
    print(f"#{idx+1} [ERROR] {str(e)[:50]}")
    try:
        if len(context.pages) > 2:
            await context.pages[-1].close()
    except:
        pass

idx += 1  # ëª¨ë“  ì¼€ì´ìŠ¤ì—ì„œ ë‹¤ìŒ ìƒí’ˆìœ¼ë¡œ
```

### ë™ì‘ ë°©ì‹ ë¹„êµ

#### âŒ ìˆ˜ì • ì „
```
1. 12ë²ˆ ìƒí’ˆ í´ë¦­ â†’ ì˜ëª»ëœ í˜ì´ì§€
2. URL ê²€ì¦ ì‹¤íŒ¨ â†’ íƒ­ ë‹«ê¸°
3. 13ë²ˆ ìƒí’ˆ: get_attribute() í˜¸ì¶œ (try ë¸”ë¡ ë°–)
4. ì˜¤ë¥˜ ë°œìƒ: "Target closed"
5. ì˜ˆì™¸ ì²˜ë¦¬ ì•ˆë¨ â†’ í¬ë¡¤ëŸ¬ ì¤‘ë‹¨ âŒ
```

#### âœ… ìˆ˜ì • í›„
```
1. 12ë²ˆ ìƒí’ˆ í´ë¦­ â†’ ì˜ëª»ëœ í˜ì´ì§€
2. URL ê²€ì¦ ì‹¤íŒ¨ â†’ íƒ­ ë‹«ê¸°
3. 13ë²ˆ ìƒí’ˆ: get_attribute() í˜¸ì¶œ (try ë¸”ë¡ ì•ˆ)
4. ì˜¤ë¥˜ ë°œìƒ: "Target closed"
5. except ë¸”ë¡ ì‹¤í–‰ â†’ ì˜¤ë¥˜ ë¡œê·¸ ì¶œë ¥
6. íƒ­ ì •ë¦¬ â†’ idx += 1 â†’ 14ë²ˆ ìƒí’ˆ ê³„ì† ì§„í–‰ âœ…
```

### ğŸ”‘ í•µì‹¬ êµí›ˆ

#### 1. ì˜ˆì™¸ ì²˜ë¦¬ ë²”ìœ„ ì„¤ì •
```python
# âŒ ì˜ëª»ëœ ë²”ìœ„
variable = risky_operation()  # try ë¸”ë¡ ë°–
try:
    use_variable()
except:
    pass  # risky_operation ì˜¤ë¥˜ëŠ” ëª» ì¡ìŒ!

# âœ… ì˜¬ë°”ë¥¸ ë²”ìœ„
try:
    variable = risky_operation()  # try ë¸”ë¡ ì•ˆ
    use_variable()
except:
    pass  # ëª¨ë“  ì˜¤ë¥˜ ì²˜ë¦¬ ê°€ëŠ¥
```

#### 2. ElementHandle ë¬´íš¨í™” ì´í•´
- **ì›ì¸**: í˜ì´ì§€/íƒ­ì„ ë‹«ê±°ë‚˜ ë„¤ë¹„ê²Œì´ì…˜ ë°œìƒ
- **ì¦ìƒ**: "Target page, context or browser has been closed"
- **ëŒ€ì‘**: ëª¨ë“  ElementHandle ì‘ì—…ì„ try ë¸”ë¡ìœ¼ë¡œ ë³´í˜¸

#### 3. í¬ë¡¤ë§ ë£¨í”„ ì„¤ê³„ ì›ì¹™
```python
# âœ… ì•ˆì „í•œ íŒ¨í„´
while idx < len(elements):
    try:
        # ëª¨ë“  ìœ„í—˜í•œ ì‘ì—…ì„ try ì•ˆì—
        elem = elements[idx]
        data = await process_element(elem)
        results.append(data)
    except Exception as e:
        log_error(e)
        # ì •ë¦¬ ì‘ì—…
    finally:
        idx += 1  # í•­ìƒ ë‹¤ìŒìœ¼ë¡œ ì§„í–‰
```

#### 4. ë””ë²„ê¹… íŒ
- **ì˜¤ë¥˜ ìœ„ì¹˜**: íŠ¸ë ˆì´ìŠ¤ë°±ì—ì„œ ì •í™•í•œ ë¼ì¸ ë²ˆí˜¸ í™•ì¸
- **ì»¨í…ìŠ¤íŠ¸ í™•ì¸**: try ë¸”ë¡ ë²”ìœ„ ì²´í¬
- **ì´ì „ ì‘ì—…**: ì˜¤ë¥˜ ì§ì „ì— íƒ­/í˜ì´ì§€ ì¡°ì‘ ìˆì—ˆëŠ”ì§€ í™•ì¸

### âš ï¸ ì ˆëŒ€ ê·œì¹™

1. **ëª¨ë“  ElementHandle ì‘ì—…ì€ try ë¸”ë¡ ì•ˆì—**
   - `get_attribute()`, `click()`, `inner_text()` ë“±
   - DOM ì°¸ì¡°ëŠ” ì–¸ì œë“  ë¬´íš¨í™”ë  ìˆ˜ ìˆìŒ

2. **í¬ë¡¤ë§ ë£¨í”„ëŠ” ì ˆëŒ€ ì¤‘ë‹¨ë˜ë©´ ì•ˆë¨**
   - í•œ ìƒí’ˆ ì‹¤íŒ¨ = ë‹¤ìŒ ìƒí’ˆ ê³„ì†
   - try-exceptë¡œ ëª¨ë“  ì‘ì—… ë³´í˜¸
   - finally ë˜ëŠ” except í›„ idx ì¦ê°€

3. **ì˜ˆì™¸ ì²˜ë¦¬ ë²”ìœ„ë¥¼ ì‹ ì¤‘íˆ ì„¤ê³„**
   - ìœ„í—˜í•œ ì‘ì—…ë¶€í„° try ë¸”ë¡ ì‹œì‘
   - ë³€ìˆ˜ ìƒì„±ë„ try ì•ˆì—ì„œ

4. **ì˜¤ë¥˜ ë©”ì‹œì§€ëŠ” ìì„¸íˆ ë¡œê·¸**
   - ì–´ëŠ ìƒí’ˆì—ì„œ ì‹¤íŒ¨í–ˆëŠ”ì§€
   - ì–´ë–¤ ì‘ì—… ì¤‘ì´ì—ˆëŠ”ì§€
   - í˜„ì¬ URLì€ ë¬´ì—‡ì¸ì§€

### ğŸ“Š ì‹¤ì œ ê°œì„  íš¨ê³¼

**ìˆ˜ì • ì „**:
- 12ë²ˆ ìƒí’ˆ ì‹¤íŒ¨ â†’ 13ë²ˆ ìƒí’ˆ ì˜¤ë¥˜ â†’ í¬ë¡¤ëŸ¬ ì¤‘ë‹¨
- ìˆ˜ì§‘ ì™„ë£Œ: 0ê°œ (ì‹¤íŒ¨)

**ìˆ˜ì • í›„**:
- 12ë²ˆ ìƒí’ˆ ì‹¤íŒ¨ â†’ SKIP
- 13ë²ˆ ìƒí’ˆ ì˜¤ë¥˜ â†’ except ì²˜ë¦¬ â†’ SKIP
- 14ë²ˆ ìƒí’ˆë¶€í„° ì •ìƒ ìˆ˜ì§‘ ì¬ê°œ
- ìˆ˜ì§‘ ì™„ë£Œ: 3ê°œ (ì„±ê³µ)

### âš ï¸ ì—…ë°ì´íŠ¸ ë¡œê·¸
| ë‚ ì§œ | ë‚´ìš© | ê²°ê³¼ |
|------|------|------|
| 2025-10-15 | get_attribute try ë¸”ë¡ ë°– | âŒ í¬ë¡¤ëŸ¬ ì¤‘ë‹¨ |
| 2025-10-15 | get_attribute try ë¸”ë¡ ì•ˆ ì´ë™ | âœ… ì˜¤ë¥˜ ë³µêµ¬, ìˆ˜ì§‘ ê³„ì† |

---
---

## ğŸ–¥ï¸ GUI ë¡œê·¸ ì¶œë ¥ ë¬¸ì œ (2025-10-15 20:55)

### ë¬¸ì œ: customtkinterê°€ ìœ ë‹ˆì½”ë“œ ì´ëª¨ì§€ë¥¼ ë Œë”ë§ ëª»í•¨

**ì¦ìƒ**:
- ë¡œê·¸ì— `[2]`, `[3]` ë§Œ ë‚˜íƒ€ë‚˜ê³  ìƒí’ˆëª…ì´ ì•ˆ ë³´ì„
- `âœ“`, `âš ï¸`, `âœ—`, `âŒ` ê°™ì€ ì´ëª¨ì§€ê°€ GUIì—ì„œ í‘œì‹œ ì•ˆë¨
- ì‹¤ì œë¡œëŠ” ìˆ˜ì§‘ë˜ì—ˆì§€ë§Œ ì‚¬ìš©ìê°€ ë³¼ ìˆ˜ ì—†ì–´ì„œ í˜¼ë€ ë°œìƒ

**ì›ì¸**:
```python
# product_crawler.py:494 (ë¬¸ì œ ì½”ë“œ)
print("âœ“ ", end="", flush=True)  # customtkinterê°€ ë Œë”ë§ ëª»í•¨ â†’ ì•ˆ ë³´ì„
```

customtkinterì˜ Text ìœ„ì ¯ì´ ì¼ë¶€ ìœ ë‹ˆì½”ë“œ ê¸°í˜¸(ì´ëª¨ì§€)ë¥¼ ë Œë”ë§í•˜ì§€ ëª»í•¨.

**í•´ê²°ì±…**:
```python
# ìˆ˜ì • í›„ (ì¼ë°˜ í…ìŠ¤íŠ¸ë¡œ ë³€ê²½)
print(f"#{idx+1} OK ", end="", flush=True)  # ëª…í™•í•˜ê²Œ ë³´ì„
```

**ë³€ê²½ ë‚´ìš© (product_crawler.py:400~510)**:
| ê¸°ì¡´ ì´ëª¨ì§€ | ë³€ê²½ í›„ | ì˜ë¯¸ |
|------------|---------|------|
| `âœ“` | `#2 OK` | ìˆ˜ì§‘ ì„±ê³µ |
| `âš ` | `#2 SKIP` | íƒ­ ì—´ë¦¼ ì‹¤íŒ¨ |
| `âœ—` | `#2 BAD` | ì˜ëª»ëœ ìƒí’ˆëª… |
| `âœ—` (ì—ëŸ¬) | `#2 ERR` | ì„œë¹„ìŠ¤ ì ‘ì† ë¶ˆê°€ |
| `âŒ` | `#2 ERR` | ì˜ˆì™¸ ë°œìƒ |

**ì ìš© ê²°ê³¼**:
```
AS-IS (ì•ˆ ë³´ì„):
[1ë²ˆì§¸ ìƒí’ˆ] ìˆ˜ì§‘ ì¤‘...
#1 [ìƒí’ˆëª…...] - íƒœê·¸ 10ê°œ
[2] [3] [4] [5]  â† ì´ëª¨ì§€ê°€ ì•ˆ ë³´ì—¬ì„œ ë¹ˆì¹¸ì²˜ëŸ¼ ë³´ì„

TO-BE (ëª…í™•í•¨):
[1ë²ˆì§¸ ìƒí’ˆ] ìˆ˜ì§‘ ì¤‘...
#1 [ìƒí’ˆëª…...] - íƒœê·¸ 10ê°œ
#2 OK #3 OK #4 SKIP #5 OK  â† ìƒíƒœê°€ ëª…í™•íˆ ë³´ì„
```

**ê´€ë ¨ ê·œì¹™** (CLAUDE.mdì— ì´ë¯¸ ëª…ì‹œ):
```markdown
### ì´ëª¨ì§€ ë Œë”ë§
- **ë¬¸ì œ**: customtkinterê°€ ì´ëª¨ì§€ ëª» ì½ìŒ â†’ ë„¤ëª¨ë°•ìŠ¤(â–¡)
- **í•´ê²°**: `gui_app.py:617-673` `remove_emojis()` í•¨ìˆ˜
- **ì‚¬ìš© ê·œì¹™**:
  - âœ… Markdown, Git ì»¤ë°‹, ì£¼ì„
  - âŒ Python ë¡œê·¸, GUI ì¶œë ¥, .bat/.ps1
```

### êµí›ˆ
1. **GUI ì¶œë ¥ì—ëŠ” ì ˆëŒ€ ì´ëª¨ì§€ ì‚¬ìš© ê¸ˆì§€**
   - customtkinterì˜ Text ìœ„ì ¯ì€ ì´ëª¨ì§€ ë Œë”ë§ ë¶ˆì•ˆì •
   - ê°„ê²°í•œ ë¡œê·¸ëŠ” ì¢‹ì§€ë§Œ, ì•ˆ ë³´ì´ë©´ ì˜ë¯¸ ì—†ìŒ

2. **ë¡œê·¸ ë©”ì‹œì§€ëŠ” ì‚¬ìš©ì ê´€ì ì—ì„œ í…ŒìŠ¤íŠ¸ í•„ìˆ˜**
   - ê°œë°œì ì½˜ì†”ì—ì„œëŠ” ë³´ì´ì§€ë§Œ GUIì—ì„œ ì•ˆ ë³´ì¼ ìˆ˜ ìˆìŒ
   - ì‹¤ì œ GUI í™˜ê²½ì—ì„œ ì§ì ‘ í™•ì¸ í•„ìš”

3. **ì¼ë°˜ í…ìŠ¤íŠ¸ê°€ ê°€ì¥ ì•ˆì „**
   - `OK`, `SKIP`, `ERR`, `BAD` ê°™ì€ ì˜ì–´ ì•½ì–´
   - ëª¨ë“  í™˜ê²½ì—ì„œ í™•ì‹¤íˆ ë Œë”ë§ë¨
   - 3~4ê¸€ìë¡œ ì¶©ë¶„íˆ ì˜ë¯¸ ì „ë‹¬ ê°€ëŠ¥

---

## â±ï¸ ë¸Œë¼ìš°ì € ìë™ ì¢…ë£Œ ëŒ€ê¸° ì‹œê°„ (2025-10-15 21:00)

### ë¬¸ì œ: 30ì´ˆëŠ” ë„ˆë¬´ ê¸¸ë‹¤

**ìƒí™©**:
```python
# product_crawler.py:527 (ê¸°ì¡´)
await asyncio.sleep(30)  # 30ì´ˆ ëŒ€ê¸°ëŠ” ë¶ˆí•„ìš”í•˜ê²Œ ê¹€
```

**ì‚¬ìš©ì ìš”ì²­**:
> "3ì´ˆë§Œì— ë‹«ê²Œ í•´."

**í•´ê²°**:
```python
# product_crawler.py:527 (ìˆ˜ì • í›„)
print("â° ë¸Œë¼ìš°ì €ë¥¼ 3ì´ˆ í›„ ìë™ìœ¼ë¡œ ë‹«ìŠµë‹ˆë‹¤...")
await asyncio.sleep(3)  # 30ì´ˆ â†’ 3ì´ˆ
```

### êµí›ˆ
1. **ê¸°ë³¸ê°’ì€ ì‚¬ìš©ì í¸ì˜ë¥¼ ìµœìš°ì„ **
   - ê°œë°œ/ë””ë²„ê¹…ìš© ê¸´ ëŒ€ê¸°ëŠ” ì˜µì…˜ìœ¼ë¡œ
   - ì¼ë°˜ ì‚¬ìš©ìëŠ” ë¹ ë¥¸ ì¢…ë£Œ ì„ í˜¸

2. **ëŒ€ê¸° ì‹œê°„ì€ ì‚¬ìš©ìê°€ ì¡°ì ˆ ê°€ëŠ¥í•˜ê²Œ**
   - ë‚˜ì¤‘ì— configë‚˜ GUI ì˜µì…˜ìœ¼ë¡œ ì¶”ê°€ ê³ ë ¤
   - í˜„ì¬ëŠ” 3ì´ˆë¡œ ì¶©ë¶„ (ë°ì´í„° í™•ì¸ ê°€ëŠ¥)

---

## ğŸ“ ë¡œê·¸ ì¶œë ¥ í˜•ì‹ ê°œì„  (2025-10-15 21:15) âš ï¸ ì¤‘ìš” êµí›ˆ

### ì´ˆê¸° ì˜¤ì§„ë‹¨: "í¬ë¡¤ë§ ì‹¤íŒ¨"ë¡œ ì°©ê°
**ì˜ëª»ëœ ì¦ìƒ ì¸ì‹**:
```
[ë¡œê·¸ ì¶œë ¥]
[20:56:51] #1 [íŒŒì‹œì—”ì‹œì•„ ì˜¤ë²„í•ë°˜íŒ”...] - íƒœê·¸ 10ê°œ (ì´ 1ê°œ)  âœ… ëª…í™•
[2]  â† ë­ì§€? ì‹¤íŒ¨?
[3]  â† ì‹¤íŒ¨?
...
```

**ì˜ëª»ëœ ê²°ë¡ **:
- "2ë²ˆì§¸ë¶€í„° ìƒí’ˆëª…ì´ ì•ˆ ë‚˜ì˜¨ë‹¤ = ìˆ˜ì§‘ ì‹¤íŒ¨?"
- "DBì— 10ê°œ ì €ì¥ëëŠ”ë° ë¡œê·¸ê°€ ì´ìƒí•˜ë‹¤ = ë­”ê°€ ë¬¸ì œ?"
- â†’ ë¸Œëœë“œ ìŠ¤í† ì–´, ê²€ìƒ‰íƒœê·¸ ë¬¸ì œ ë“±ìœ¼ë¡œ ì°©ê°

### ì‹¤ì œ ì›ì¸: ë¡œê·¸ í˜•ì‹ë§Œ í˜¼ë€ìŠ¤ëŸ¬ì› ìŒ âœ…
**ì§„ì§œ ë¬¸ì œ**:
```python
# ê¸°ì¡´ ë¡œê·¸ (í˜¼ë€ìŠ¤ëŸ¬ì›€)
if idx % 10 == 0:
    print(f"#1 [ìƒí’ˆëª…] - íƒœê·¸ 10ê°œ")  # 10ë²ˆì§¸ë§ˆë‹¤ë§Œ ìƒì„¸ ì¶œë ¥
else:
    print(f"[{idx+1}] ", end="", flush=True)  # ë‚˜ë¨¸ì§€ëŠ” ë²ˆí˜¸ë§Œ
```

**ì¶œë ¥ ê²°ê³¼** (ì—¬ëŸ¬ ì¤„ì— ê±¸ì³ ì¶œë ¥):
```
[1ë²ˆì§¸ ìƒí’ˆ] ìˆ˜ì§‘ ì¤‘...
#1 [ìƒí’ˆëª…...] - íƒœê·¸ 10ê°œ
[2]  â† ì´ ì¤„ì—ë§Œ ë²ˆí˜¸
[ê²€ìƒ‰íƒœê·¸] ì—†ìŒ  â† ë‹¤ìŒ ì¤„ì— íƒœê·¸ ì •ë³´
[ì¹´í…Œê³ ë¦¬ ê²½ë¡œ] ì „ì²´ìƒí’ˆ  â† ë˜ ë‹¤ìŒ ì¤„
#2 OK  â† ë˜ ë‹¤ìŒ ì¤„ì— ê²°ê³¼
```

â†’ ì‚¬ìš©ìëŠ” "[2]"ë§Œ ë³´ê³  "2ë²ˆì§¸ ìƒí’ˆ ìˆ˜ì§‘ ì‹¤íŒ¨?"ë¡œ ì°©ê°!

### ì§„ì‹¤: ëª¨ë“  ë°ì´í„°ê°€ ì •ìƒ ìˆ˜ì§‘ë˜ê³  ìˆì—ˆìŒ
**DB í™•ì¸ ê²°ê³¼**:
```sql
SELECT product_name, array_length(search_tags, 1) as tag_count
FROM products
WHERE category_name = 'ë‚¨ì„±ì˜ë¥˜'
ORDER BY crawled_at DESC LIMIT 10;
```

**ê²°ê³¼**: 10/10 ìƒí’ˆ ëª¨ë‘ ì •ìƒ ì €ì¥, ê²€ìƒ‰íƒœê·¸ë„ ì œëŒ€ë¡œ ìˆ˜ì§‘ë¨
- ìƒí’ˆ 1: 10ê°œ íƒœê·¸ âœ…
- ìƒí’ˆ 2: 0ê°œ íƒœê·¸ âœ… (ì‹¤ì œë¡œ íƒœê·¸ ì—†ëŠ” ìƒí’ˆ)
- ìƒí’ˆ 3: 5ê°œ íƒœê·¸ âœ…
- ...ì „ë¶€ ì •ìƒ!

### í•´ê²°: ë¡œê·¸ í˜•ì‹ ì¼ê´€ì„± ìˆê²Œ ê°œì„ 
**ê°œì„  í›„ ì½”ë“œ**:
```python
# product_crawler.py:369
print(f"\n[{idx+1}ë²ˆì§¸ ìƒí’ˆ] ìˆ˜ì§‘ ì¤‘...", end="", flush=True)

# ëª¨ë“  ê²°ê³¼ë¥¼ ê°™ì€ ì¤„ì— í‘œì‹œ
print(f" [{product_name[:40]}] - íƒœê·¸ {tags_count}ê°œ (ì´ {found_count}ê°œ)")  # ì„±ê³µ
print(f" [SKIP] íƒ­ ì—´ë¦¼ ì‹¤íŒ¨")  # ì‹¤íŒ¨
print(f" [ERROR] {str(e)[:50]}")  # ì—ëŸ¬
```

**ê°œì„  í›„ ì¶œë ¥** (í•œ ì¤„ì— ëª¨ë‘ í‘œì‹œ):
```
[1ë²ˆì§¸ ìƒí’ˆ] ìˆ˜ì§‘ ì¤‘... [íŒŒì‹œì—”ì‹œì•„ ì˜¤ë²„í•ë°˜íŒ”...] - íƒœê·¸ 10ê°œ (ì´ 1ê°œ)
[2ë²ˆì§¸ ìƒí’ˆ] ìˆ˜ì§‘ ì¤‘... [ê°¤ëŸ¬ë¦¬ë””íŒŒíŠ¸ë¨¼íŠ¸...] - íƒœê·¸ 0ê°œ (ì´ 2ê°œ)
[3ë²ˆì§¸ ìƒí’ˆ] ìˆ˜ì§‘ ì¤‘... [SKIP] ì„œë¹„ìŠ¤ ì ‘ì† ë¶ˆê°€
[4ë²ˆì§¸ ìƒí’ˆ] ìˆ˜ì§‘ ì¤‘... [ë¬´ì‹ ì‚¬ ìŠ¤íƒ ë‹¤ë“œ...] - íƒœê·¸ 5ê°œ (ì´ 3ê°œ)
```

â†’ ê° ìƒí’ˆì˜ ì‹œì‘ê³¼ ê²°ê³¼ê°€ ëª…í™•íˆ í•œ ì¤„ë¡œ!

### ë¸Œëœë“œ ìŠ¤í† ì–´ í•„í„°ë§: ë¶ˆí•„ìš”í–ˆì§€ë§Œ ì‘ë™ì€ ì •ìƒ
**ì¶”ê°€ëœ ì½”ë“œ**:
```python
# product_crawler.py:172-175
if 'brand.naver.com' not in href:  # ë¸Œëœë“œ ìŠ¤í† ì–´ ì œì™¸
    all_product_urls.append(href)
```

**í‰ê°€**:
- âŒ **ë¶ˆí•„ìš”**: ë¸Œëœë“œ ìŠ¤í† ì–´ê°€ ë¬¸ì œê°€ ì•„ë‹ˆì—ˆìŒ (ë¡œê·¸ í˜•ì‹ì´ ë¬¸ì œ)
- âœ… **ë¬´í•´**: ì‹¤ì œë¡œ ë¸Œëœë“œ ìŠ¤í† ì–´ëŠ” êµ¬ì¡°ê°€ ë‹¤ë¥´ë¯€ë¡œ ì œì™¸í•´ë„ ë¨
- âœ… **ì‘ë™ ì •ìƒ**: ì •ìƒ ìƒí’ˆë§Œ ìˆ˜ì§‘í•˜ê³  ìˆìŒ

â†’ ì˜¤ì§„ë‹¨ìœ¼ë¡œ ì¶”ê°€í–ˆì§€ë§Œ ê²°ê³¼ì ìœ¼ë¡œ ê´œì°®ì€ í•„í„°

### ğŸ“ í•µì‹¬ êµí›ˆ (ë§¤ìš° ì¤‘ìš”!)

#### 1. ë¡œê·¸ vs ì‹¤ì œ ë™ì‘ ë¶„ë¦¬í•˜ê¸°
- **ë¡œê·¸ê°€ ì´ìƒ = ë™ì‘ì´ ì´ìƒ** âŒ í‹€ë¦¼!
- **ë¡œê·¸ê°€ ì´ìƒ = ë¡œê·¸ ì¶œë ¥ë§Œ ì´ìƒì¼ ìˆ˜ ìˆìŒ** âœ… ë§ìŒ!
- **ë°˜ë“œì‹œ DB ì§ì ‘ í™•ì¸** â†’ ì§„ì§œ ìˆ˜ì§‘ ìƒíƒœ íŒŒì•…

#### 2. ì„±ê¸‰í•œ ê²°ë¡  ê¸ˆì§€
```
ë¡œê·¸ ì´ìƒ ë°œê²¬
 â†“
 ì¦‰ì‹œ "í¬ë¡¤ë§ ì‹¤íŒ¨" íŒë‹¨ âŒ NO!
 â†“
 DB/íŒŒì¼ í™•ì¸ â†’ ì‹¤ì œ ë°ì´í„° ìƒíƒœ í™•ì¸ âœ… YES!
 â†“
 ì§„ì§œ ì›ì¸ íŒŒì•… â†’ ì •í™•í•œ í•´ê²°
```

#### 3. ë¡œê·¸ í˜•ì‹ì˜ ì¤‘ìš”ì„±
- **ì¼ê´€ì„±**: ëª¨ë“  ìƒí’ˆì´ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ì¶œë ¥
- **ëª…í™•ì„±**: í•œ ì¤„ì— ìƒí’ˆ ë²ˆí˜¸ + ê²°ê³¼ ëª¨ë‘ í‘œì‹œ
- **ê°„ê²°ì„±**: ë¶ˆí•„ìš”í•œ ì—¬ëŸ¬ ì¤„ ì¶œë ¥ ì œê±°

#### 4. ì‚¬ìš©ì í”¼ë“œë°± ì¦‰ì‹œ ë°˜ì˜
> "ê·¼ë° ë¸Œëœë“œìŠ¤í† ì–´ í˜ì´ì§€ë©´ ì–´ë•Œ. ë‚´ê°€ ë´¤ì„ ë•Œ 1ë²ˆë¶€í„° ê³„ì† ìƒí’ˆìƒì„¸í˜ì´ì§€ ì˜ ì ‘ì†í–ˆê³ 
> ìƒí’ˆëª…ê³¼ ê²€ìƒ‰íƒœê·¸ë„ ë¶„ëª… (ìŠ¤í¬ë¡¤ë„ ì˜í–ˆìŒ) ìˆëŠ”ë° ì™œ ìˆ˜ì§‘ì„ ì œëŒ€ë¡œ ëª»í•˜ëƒê³ !
> DBì—ëŠ” ìˆ˜ì§‘ëì–´? ë¡œê·¸ì—ë§Œ ì œëŒ€ë¡œ ì•ˆë‚˜ì˜¤ëŠ”ê±°ì•¼ ë­ì•¼?"

â†’ ì‚¬ìš©ìê°€ ë§ì•˜ë‹¤! ë¡œê·¸ í˜•ì‹ë§Œ ë¬¸ì œì˜€ìŒ

**ë³€ê²½ ì‚¬í•­ ìš”ì•½**:
| íŒŒì¼ | ë¼ì¸ | ë³€ê²½ ë‚´ìš© |
|------|------|-----------|
| `product_crawler.py` | 369 | ëª¨ë“  ìƒí’ˆì— "[Në²ˆì§¸ ìƒí’ˆ] ìˆ˜ì§‘ ì¤‘..." í‘œì‹œ |
| `product_crawler.py` | 400 | íƒ­ ì—´ë¦¼ ì‹¤íŒ¨: í•œ ì¤„ë¡œ í‘œì‹œ |
| `product_crawler.py` | 411 | ì„œë¹„ìŠ¤ ë¶ˆê°€: í•œ ì¤„ë¡œ í‘œì‹œ |
| `product_crawler.py` | 423-426 | ë¸Œëœë“œ ìŠ¤í† ì–´: í•œ ì¤„ë¡œ í‘œì‹œ |
| `product_crawler.py` | 469 | ì˜ëª»ëœ ìƒí’ˆëª…: í•œ ì¤„ë¡œ í‘œì‹œ |
| `product_crawler.py` | 480-483 | ì„±ê³µ ë©”ì‹œì§€: í•œ ì¤„ë¡œ í‘œì‹œ |
| `product_crawler.py` | 496 | ì˜ˆì™¸ ì²˜ë¦¬: í•œ ì¤„ë¡œ í‘œì‹œ |

---

## ğŸ“Š DB ì €ì¥ vs ë¡œê·¸ ë¶ˆì¼ì¹˜ (2025-10-15 21:05)

### ë¬¸ì œ: ë¡œê·¸ëŠ” 5ê°œ ìˆ˜ì§‘, DBëŠ” 1ê°œë§Œ ì €ì¥

**ì¦ìƒ**:
```
[ë¡œê·¸ ì¶œë ¥]
[ì™„ë£Œ] ì´ 5ê°œ ìƒí’ˆ ìˆ˜ì§‘ ì™„ë£Œ!

[DB í™•ì¸]
20:56 ì´í›„ ìˆ˜ì§‘ëœ ë‚¨ì„±ì˜ë¥˜ ìƒí’ˆ (1ê°œ)
```

**ì›ì¸**:
ì¤‘ë³µ ì²´í¬ í™œì„±í™” + ì´ì „ì— ì´ë¯¸ ìˆ˜ì§‘ëœ ìƒí’ˆë“¤
- 1ë²ˆ ìƒí’ˆ: ì‹ ê·œ â†’ DB ì €ì¥ âœ…
- 2~5ë²ˆ ìƒí’ˆ: ì¤‘ë³µ â†’ DB ìŠ¤í‚µ âš ï¸

**ë¬¸ì œì **:
ì‚¬ìš©ìëŠ” ë¡œê·¸ë§Œ ë³´ê³  "5ê°œ ìˆ˜ì§‘ ì™„ë£Œ!"ë¼ê³  ìƒê°í•¨
â†’ ì‹¤ì œë¡œëŠ” 1ê°œë§Œ ìƒˆë¡œ ì €ì¥ë¨
â†’ GUIì— ì¤‘ë³µ ìŠ¤í‚µ ë©”ì‹œì§€ê°€ ì—†ì–´ì„œ í˜¼ë€

**í•´ê²° ë°©í–¥**:
1. **ë¡œê·¸ ê°œì„  í•„ìš”**:
   ```python
   # í˜„ì¬
   print(f"[ì™„ë£Œ] ì´ {found_count}ê°œ ìƒí’ˆ ìˆ˜ì§‘ ì™„ë£Œ!")
   
   # ê°œì„ ì•ˆ
   print(f"[ì™„ë£Œ] ì´ {found_count}ê°œ ìƒí’ˆ ìˆ˜ì§‘ ì™„ë£Œ!")
   # DB ì €ì¥ í›„
   print(f"[DB ì €ì¥] ì‹ ê·œ: {saved}ê°œ, ì¤‘ë³µ ìŠ¤í‚µ: {skipped}ê°œ")
   ```

2. **GUI ì‹¤ì‹œê°„ í”¼ë“œë°±**:
   - ì¤‘ë³µ ìƒí’ˆì¼ ë•Œ `#2 DUP` (Duplicate) í‘œì‹œ
   - ìµœì¢… ìš”ì•½ì—ì„œ ì‹ ê·œ/ì¤‘ë³µ ê°œìˆ˜ ë¶„ë¦¬ í‘œì‹œ

### êµí›ˆ
1. **ìˆ˜ì§‘ ê°œìˆ˜ â‰  ì €ì¥ ê°œìˆ˜**
   - ì¤‘ë³µ ì²´í¬ê°€ í™œì„±í™”ë˜ì–´ ìˆìœ¼ë©´ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ
   - ì‚¬ìš©ìì—ê²Œ ëª…í™•íˆ ì•Œë ¤ì•¼ í•¨

2. **ë¡œê·¸ëŠ” ìµœì¢… ê²°ê³¼ê¹Œì§€ í¬í•¨**
   - "ìˆ˜ì§‘ ì™„ë£Œ" í›„ì—ë„ DB ì €ì¥ ê²°ê³¼ í‘œì‹œ í•„ìš”
   - ì‹ ê·œ/ì¤‘ë³µ/ì‹¤íŒ¨ ê°œìˆ˜ ë¶„ë¦¬í•˜ì—¬ ë³´ì—¬ì£¼ê¸°

3. **ì‹¤ì‹œê°„ í”¼ë“œë°± ì¤‘ìš”**
   - `#2 OK` (ì‹ ê·œ ì €ì¥)
   - `#2 DUP` (ì¤‘ë³µ ìŠ¤í‚µ)
   - `#2 ERR` (ì €ì¥ ì‹¤íŒ¨)

---

## ğŸ” ë‚¨ì„±ì˜ë¥˜ ì…€ë ‰í„° ë¬¸ì œ ë°œê²¬ (2025-10-15 21:10)

### ë¬¸ì œ: ë¸Œëœë“œ, ë¦¬ë·° ìˆ˜ì§‘ ì‹¤íŒ¨

**DB í™•ì¸ ê²°ê³¼**:
```
ìƒí’ˆëª…: ê°¤ëŸ¬ë¦¬ë””íŒŒíŠ¸ë¨¼íŠ¸ ë¡œê³  í›„ë“œí‹°ì…”ì¸ ... âœ…
ë¸Œëœë“œ: None âŒ
ê°€ê²©: 11,550ì› âœ…
í• ì¸ìœ¨: 300% âŒ (ë¹„ì •ìƒ)
ë¦¬ë·°: None âŒ
ê²€ìƒ‰íƒœê·¸: 7ê°œ âœ…
```

**ì›ì¸ ê°€ëŠ¥ì„±**:
1. ë„¤ì´ë²„ê°€ ë‚¨ì„±ì˜ë¥˜/ì—¬ì„±ì˜ë¥˜ í˜ì´ì§€ êµ¬ì¡°ë¥¼ ë‹¤ë¥´ê²Œ êµ¬ì„±
2. í˜„ì¬ ì…€ë ‰í„°ê°€ ì—¬ì„±ì˜ë¥˜ ê¸°ì¤€ìœ¼ë¡œ ìµœì í™”ë¨
3. ë‚¨ì„±ì˜ë¥˜ëŠ” ë‹¤ë¥¸ HTML êµ¬ì¡° ì‚¬ìš©

**TODO**:
- [ ] ë‚¨ì„±ì˜ë¥˜ ìƒí’ˆ í˜ì´ì§€ HTML êµ¬ì¡° ë¶„ì„
- [ ] ë¸Œëœë“œ/ë¦¬ë·° ì…€ë ‰í„° ë‚¨ì„±ì˜ë¥˜ í˜¸í™˜ì„± í™•ì¸
- [ ] í• ì¸ìœ¨ 300% ë¹„ì •ìƒ ê°’ ì›ì¸ íŒŒì•…
- [ ] ì¹´í…Œê³ ë¦¬ë³„ ì…€ë ‰í„° fallback ì¶”ê°€ ê³ ë ¤

### êµí›ˆ
1. **ì¹´í…Œê³ ë¦¬ë§ˆë‹¤ í˜ì´ì§€ êµ¬ì¡°ê°€ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ**
   - ì—¬ì„±ì˜ë¥˜ì—ì„œ ì‘ë™ â‰  ë‚¨ì„±ì˜ë¥˜ì—ì„œ ì‘ë™
   - ë‹¤ì–‘í•œ ì¹´í…Œê³ ë¦¬ì—ì„œ í…ŒìŠ¤íŠ¸ í•„ìˆ˜

2. **ìˆ˜ì§‘ ì„±ê³µí•´ë„ ë°ì´í„° ê²€ì¦ í•„ìš”**
   - í• ì¸ìœ¨ 300%ëŠ” ëª…ë°±íˆ ì˜¤ë¥˜
   - None ê°’ì´ ë§ìœ¼ë©´ ì…€ë ‰í„° ì¬ì ê²€

3. **ë©€í‹° ì¹´í…Œê³ ë¦¬ ì§€ì› ì‹œ ì£¼ì˜ì‚¬í•­**:
   - ê° ì¹´í…Œê³ ë¦¬ë³„ ìƒ˜í”Œ ë°ì´í„°ë¡œ ê²€ì¦
   - ê³µí†µ ì…€ë ‰í„° + ì¹´í…Œê³ ë¦¬ë³„ fallback ì „ëµ
   - DBì— ì´ìƒ ë°ì´í„° ì €ì¥ ì „ validation



---

## ğŸ”„ ë¬´í•œ ìŠ¤í¬ë¡¤ ê¸°ëŠ¥ ì¶”ê°€ (2025-10-15 21:45)

### ë¬¸ì œ: "ë¬´í•œ ëª¨ë“œ"ì¸ë° 61ê°œì—ì„œ ë©ˆì¶¤

**ìƒí™©**:
```
[ë°œê²¬] ì´ 61ê°œ ìƒí’ˆ ë°œê²¬
[ì™„ë£Œ] ì´ 54ê°œ ìƒí’ˆ ìˆ˜ì§‘ ì™„ë£Œ!
```

**ì‚¬ìš©ì ì§ˆë¬¸**: "ì™œ 54ê°œì—ì„œ ì¢…ë£Œ ëœê±°ì•¼?"

### ì›ì¸ ë¶„ì„

**ê¸°ì¡´ ë°©ì‹** (Static URL Collection):
```python
# product_crawler.py:152-180 (ê¸°ì¡´)
# 1. í˜ì´ì§€ ë¡œë“œ ì‹œ í•œ ë²ˆë§Œ ìƒí’ˆ URL ìˆ˜ì§‘
product_elements = await page.query_selector_all(...)
all_product_urls = []  # 61ê°œ ë°œê²¬
for elem in product_elements:
    all_product_urls.append(href)

# 2. ë¯¸ë¦¬ ìˆ˜ì§‘í•œ URLë§Œ ìˆœíšŒ
while idx < len(all_product_urls):  # 61ê°œë§Œ ìˆœíšŒ
    # ìˆ˜ì§‘...
```

**ë¬¸ì œì **:
- âŒ ìŠ¤í¬ë¡¤ ë‹¤ìš´ ì—†ìŒ â†’ ë” ë§ì€ ìƒí’ˆ ë¡œë“œ ì•ˆ í•¨
- âŒ ë™ì  URL ìˆ˜ì§‘ ì—†ìŒ â†’ ì´ˆê¸° 61ê°œë§Œ ì‚¬ìš©
- âŒ í˜ì´ì§€ë„¤ì´ì…˜ ì—†ìŒ â†’ ë‹¤ìŒ í˜ì´ì§€ ì´ë™ ì•ˆ í•¨
- âœ… ë¸Œëœë“œ ìŠ¤í† ì–´ 7ê°œ ì œì™¸ = 54ê°œ ìˆ˜ì§‘ (ì •ìƒ)

**ê³„ì‚°**:
```
ë°œê²¬: 61ê°œ
ìŠ¤í‚µ: 7ê°œ (ë¸Œëœë“œ ìŠ¤í† ì–´)
ìˆ˜ì§‘: 54ê°œ âœ… ì •ìƒ
```

â†’ **"ë¬´í•œ ëª¨ë“œ"ê°€ ì•„ë‹ˆë¼ "ì²« í˜ì´ì§€ ì „ì²´ ëª¨ë“œ"**

### í•´ê²°: ìŠ¤í¬ë¡¤ ë‹¤ìš´ + ë™ì  URL ìˆ˜ì§‘

**ìƒˆë¡œìš´ ë°©ì‹** (Dynamic Scroll Collection):
```python
# product_crawler.py:152-217 (ê°œì„ )
all_product_urls = []
seen_urls = set()
scroll_attempts = 0
max_scrolls = 10  # ìµœëŒ€ 10ë²ˆ ìŠ¤í¬ë¡¤
max_products = 500  # ìµœëŒ€ 500ê°œ (ì•ˆì „ì¥ì¹˜)

while scroll_attempts < max_scrolls and len(all_product_urls) < max_products:
    # 1. í˜„ì¬ í™”ë©´ì˜ ìƒí’ˆ URL ìˆ˜ì§‘
    product_elements = await page.query_selector_all(...)
    for elem in product_elements:
        if href not in seen_urls:
            all_product_urls.append(href)
            seen_urls.add(href)
    
    # 2. ìƒˆë¡œìš´ URLì´ ì—†ìœ¼ë©´ ì¢…ë£Œ
    if len(all_product_urls) == last_url_count:
        print(f"ë” ì´ìƒ ìƒˆë¡œìš´ ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤.")
        break
    
    print(f"[ìŠ¤í¬ë¡¤ {scroll_attempts + 1}] {new_count}ê°œ ì¶”ê°€ â†’ í˜„ì¬ê¹Œì§€ {len(all_product_urls)}ê°œ")
    
    # 3. ìŠ¤í¬ë¡¤ ë‹¤ìš´ (ì‚¬ëŒì²˜ëŸ¼ ìì—°ìŠ¤ëŸ½ê²Œ)
    await page.evaluate("window.scrollTo(0, document.body.scrollHeight)")
    await asyncio.sleep(random.uniform(1.5, 2.5))
    scroll_attempts += 1
```

**ê°œì„  ì‚¬í•­**:
| í•­ëª© | ê¸°ì¡´ | ê°œì„  í›„ |
|------|------|---------|
| URL ìˆ˜ì§‘ | 1íšŒ (ì •ì ) | 10íšŒ ë°˜ë³µ (ë™ì ) |
| ìµœëŒ€ ê°œìˆ˜ | ~60ê°œ | ~500ê°œ |
| ìŠ¤í¬ë¡¤ | âŒ ì—†ìŒ | âœ… ìë™ |
| ì¤‘ë³µ ì œê±° | âœ… set | âœ… set |
| ì•ˆì „ì¥ì¹˜ | âŒ ì—†ìŒ | âœ… ìµœëŒ€ ì œí•œ |

**ì˜ˆìƒ ì¶œë ¥**:
```
[íƒìƒ‰] ìƒí’ˆ URL ìˆ˜ì§‘ ì‹œì‘ (ìŠ¤í¬ë¡¤ ë‹¤ìš´ í™œì„±í™”)
[ìŠ¤í¬ë¡¤ 1] 61ê°œ ì¶”ê°€ â†’ í˜„ì¬ê¹Œì§€ 61ê°œ
[ìŠ¤í¬ë¡¤ 2] 40ê°œ ì¶”ê°€ â†’ í˜„ì¬ê¹Œì§€ 101ê°œ
[ìŠ¤í¬ë¡¤ 3] 35ê°œ ì¶”ê°€ â†’ í˜„ì¬ê¹Œì§€ 136ê°œ
...
[ìŠ¤í¬ë¡¤ 8] 0ê°œ ì¶”ê°€ â†’ ë” ì´ìƒ ì—†ìŒ
[ì™„ë£Œ] ì´ 245ê°œ ìƒí’ˆ URL ìˆ˜ì§‘ ì™„ë£Œ!
       (ìŠ¤í¬ë¡¤: 8íšŒ, ì¤‘ë³µ ì œì™¸ë¨)
```

### ì•ˆì „ì¥ì¹˜

**1. ìµœëŒ€ ìŠ¤í¬ë¡¤ íšŸìˆ˜**: 10íšŒ
- ë¬´í•œ ë£¨í”„ ë°©ì§€
- ë„¤ì´ë²„ê°€ ëª¨ë“  ìƒí’ˆì„ ë¡œë“œí•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆìŒ

**2. ìµœëŒ€ ìƒí’ˆ ê°œìˆ˜**: 500ê°œ
- ë©”ëª¨ë¦¬ ë³´í˜¸
- ì¥ì‹œê°„ ì‹¤í–‰ ë°©ì§€
- í•„ìš”ì‹œ configì—ì„œ ì¡°ì • ê°€ëŠ¥

**3. ì¤‘ë³µ ì œê±°**: `seen_urls` set
- ê°™ì€ ìƒí’ˆ URL ì—¬ëŸ¬ ë²ˆ ë‚˜íƒ€ë‚  ìˆ˜ ìˆìŒ
- ìŠ¤í¬ë¡¤ ì‹œ í™”ë©´ì— ì¤‘ë³µ í‘œì‹œ

**4. ìì—°ìŠ¤ëŸ¬ìš´ ëŒ€ê¸°**: 1.5~2.5ì´ˆ ëœë¤
- ë´‡ ê°ì§€ íšŒí”¼
- í˜ì´ì§€ ë¡œë”© ëŒ€ê¸°

### êµí›ˆ

#### 1. "ë¬´í•œ ëª¨ë“œ" ë„¤ì´ë°ì˜ í•¨ì •
- **ì´ë¦„**: "ë¬´í•œ ëª¨ë“œ"
- **ì‹¤ì œ**: "ì²« í˜ì´ì§€ ì „ì²´"
- **í•´ê²°**: ì§„ì§œ ë¬´í•œìœ¼ë¡œ êµ¬í˜„í•˜ê±°ë‚˜ ì´ë¦„ ë³€ê²½

#### 2. ë™ì  ì»¨í…ì¸  ìˆ˜ì§‘ì˜ í•µì‹¬
```python
# âŒ ì˜ëª»ëœ ë°©ì‹ (ì •ì )
urls = get_all_urls_once()  # í•œ ë²ˆë§Œ
for url in urls:
    crawl(url)

# âœ… ì˜¬ë°”ë¥¸ ë°©ì‹ (ë™ì )  
while need_more:
    urls = get_visible_urls()  # ë°˜ë³µ
    scroll_down()
    check_if_new()
```

#### 3. ì•ˆì „ì¥ì¹˜ì˜ ì¤‘ìš”ì„±
- **ìµœëŒ€ íšŸìˆ˜**: ë¬´í•œ ë£¨í”„ ë°©ì§€
- **ìµœëŒ€ ê°œìˆ˜**: ë©”ëª¨ë¦¬/ì‹œê°„ ë³´í˜¸
- **íƒ€ì„ì•„ì›ƒ**: ë„¤íŠ¸ì›Œí¬ ë¬¸ì œ ëŒ€ì‘
- **ìƒíƒœ ì²´í¬**: `should_stop` í”Œë˜ê·¸

#### 4. ì‚¬ìš©ì ê¸°ëŒ€ì¹˜ì™€ ì‹¤ì œ ë™ì‘
- ì´ë¦„ì´ "ë¬´í•œ"ì´ë©´ ì§„ì§œ ë¬´í•œì´ì–´ì•¼ í•¨
- ì œí•œì´ ìˆìœ¼ë©´ ëª…í™•íˆ í‘œì‹œ
- ì§„í–‰ ìƒí™© ì‹¤ì‹œê°„ í”¼ë“œë°± (ìŠ¤í¬ë¡¤ íšŸìˆ˜, ìˆ˜ì§‘ ê°œìˆ˜)

### ì„±ëŠ¥ ì˜ˆìƒ

**ê¸°ì¡´ (ì •ì )**:
- ìˆ˜ì§‘ ì‹œê°„: ~12ë¶„ (61ê°œ, í‰ê·  12ì´ˆ/ê°œ)
- ìµœëŒ€ ê°œìˆ˜: ~60ê°œ

**ê°œì„  í›„ (ë™ì )**:
- ìˆ˜ì§‘ ì‹œê°„: ~50ë¶„ (250ê°œ, í‰ê·  12ì´ˆ/ê°œ)
- ìµœëŒ€ ê°œìˆ˜: ~500ê°œ
- ìŠ¤í¬ë¡¤ ì¶”ê°€ ì‹œê°„: ~20ì´ˆ (10íšŒ Ã— 2ì´ˆ)

**ì‹¤ì œ ì‚¬ìš© íŒ**:
- ì†ŒëŸ‰ í…ŒìŠ¤íŠ¸: `product_count=10` ì„¤ì •
- ì¤‘ê°„ ì €ì¥: 100ê°œë§ˆë‹¤ ìë™ DB ì €ì¥ (ì´ë¯¸ êµ¬í˜„ë¨)
- ì•ˆì „í•œ ì¤‘ë‹¨: GUI "ì¤‘ì§€" ë²„íŠ¼ ì‚¬ìš©

---


## ğŸ–¼ï¸ GUI ì°½ í‘œì‹œ ë¬¸ì œ (2025-10-31)

### ë¬¸ì œ: GUI ì°½ì´ ì‘ì—… í‘œì‹œì¤„ì—ë§Œ ë‚˜íƒ€ë‚˜ê³  í™”ë©´ì— ì•ˆ ëœ¸

**ì¦ìƒ**:
- ë°”íƒ•í™”ë©´ ë°”ë¡œê°€ê¸° ì‹¤í–‰ ì‹œ PowerShell í„°ë¯¸ë„ë§Œ í‘œì‹œ
- Alt+Tabìœ¼ë¡œë„ GUI ì°½ ì•ˆ ë³´ì„
- ì‘ì—… í‘œì‹œì¤„ì—ëŠ” "ë„¤ì´ë²„ ì‡¼í•‘ ìƒí’ˆ ìˆ˜ì§‘ê¸°" ì•„ì´ì½˜ ì¡´ì¬
- í´ë¦­í•´ë„ ì°½ì´ í™”ë©´ì— ë‚˜íƒ€ë‚˜ì§€ ì•ŠìŒ

**í™˜ê²½**:
- WSL Ubuntu 22.04 + X11
- customtkinter 5.2.0
- ë‹¤ì¤‘ ëª¨ë‹ˆí„° í™˜ê²½ (1920x1080 Ã— 2)

**ì›ì¸**:
1. **customtkinter ì´ˆê¸°í™” íŠ¹ì„±**: customtkinterê°€ ì°½ì„ ìë™ìœ¼ë¡œ withdraw(ìˆ¨ê¹€) ìƒíƒœë¡œ ì‹œì‘
2. **ë‹¤ì¤‘ ëª¨ë‹ˆí„° ë¬¸ì œ**: ì°½ ìœ„ì¹˜ê°€ í™”ë©´ ë°–ìœ¼ë¡œ ë‚˜ê°
3. **WSL X11 ì°½ ê´€ë¦¬**: ì°½ì´ ìµœì†Œí™”ë˜ê±°ë‚˜ í™”ë©´ ë’¤ì— ìˆ¨ìŒ

### âœ… í•´ê²°ì±…: withdraw() â†’ deiconify() íŒ¨í„´

#### í•µì‹¬ ì›ë¦¬
```python
# 1. ì°½ ìƒì„± ì§í›„ ëª…ì‹œì ìœ¼ë¡œ ìˆ¨ê¹€
self.window = ctk.CTk()
self.window.withdraw()  # ì¤‘ìš”: ì´ˆê¸°í™” ì¤‘ ê¹œë¹¡ì„ ë°©ì§€

# 2. ì°½ í¬ê¸°/ìœ„ì¹˜/ìœ„ì ¯ ì„¤ì •
self.window.geometry("950x850+100+50")
self._create_widgets()

# 3. ëª¨ë“  ì´ˆê¸°í™” ì™„ë£Œ í›„ í‘œì‹œ (ë§ˆì§€ë§‰ì—!)
self.window.update_idletasks()  # ë ˆì´ì•„ì›ƒ ê³„ì‚° ì™„ë£Œ
self.window.deiconify()  # ì°½ í‘œì‹œ
self.window.update()  # í™”ë©´ ì—…ë°ì´íŠ¸
self.window.lift()  # ìµœìƒë‹¨ìœ¼ë¡œ
self.window.attributes('-topmost', True)  # 0.2ì´ˆê°„ ìµœìƒë‹¨ ê³ ì •
self.window.after(200, lambda: self.window.attributes('-topmost', False))
```

#### ì ìš© ìœ„ì¹˜
- **íŒŒì¼**: `product_collector_gui.py`
- **ìˆ˜ì • ìœ„ì¹˜**:
  - `__init__()` ì‹œì‘ ë¶€ë¶„: `self.window.withdraw()` ì¶”ê°€ (ë¼ì¸ 86)
  - `__init__()` ë§ˆì§€ë§‰ ë¶€ë¶„: `deiconify()` ë° í‘œì‹œ ì½”ë“œ ì¶”ê°€ (ë¼ì¸ 145-151)
  - `run()` ë©”ì†Œë“œ: ì¤‘ë³µ ì½”ë“œ ì œê±°, `mainloop()`ë§Œ ë‚¨ê¹€ (ë¼ì¸ 981-984)

#### ì™œ ì´ê²Œ ë§ë‚˜?
1. **ê¹œë¹¡ì„ ë°©ì§€**: ì´ˆê¸°í™” ì¤‘ ì°½ì´ ë³´ì´ì§€ ì•ŠìŒ
2. **ì™„ì „í•œ ì´ˆê¸°í™”**: ëª¨ë“  ìœ„ì ¯ì´ ì¤€ë¹„ëœ í›„ í‘œì‹œ
3. **í™•ì‹¤í•œ í‘œì‹œ**: deiconify() + lift() + topmost ì¡°í•©
4. **ë‹¤ì¤‘ ëª¨ë‹ˆí„° ëŒ€ì‘**: ê³ ì • ì¢Œí‘œ (+100+50) ì‚¬ìš©

### âŒ ì‹¤íŒ¨í•œ ì‹œë„ë“¤

#### 1. geometry() ë§Œìœ¼ë¡œ ìœ„ì¹˜ ì„¤ì •
```python
# âŒ ì‹¤íŒ¨: ì°½ì´ ì—¬ì „íˆ ì•ˆ ë³´ì„
self.window.geometry("950x850+100+50")
```

**ë¬¸ì œ**: customtkinterê°€ ìë™ìœ¼ë¡œ withdraw ìƒíƒœë¡œ ì‹œì‘í•˜ë©´ ìœ„ì¹˜ë§Œ ì„¤ì •í•´ë„ ì•ˆ ë³´ì„

#### 2. í™”ë©´ ì¤‘ì•™ ê³„ì‚°
```python
# âŒ ì‹¤íŒ¨: ë‹¤ì¤‘ ëª¨ë‹ˆí„°ì—ì„œ í™”ë©´ ë°–ìœ¼ë¡œ ë‚˜ê°
screen_width = self.window.winfo_screenwidth()
x = (screen_width - window_width) // 2
```

**ë¬¸ì œ**: `winfo_screenwidth()`ê°€ ëª¨ë“  ëª¨ë‹ˆí„° í•©ì‚° ë„ˆë¹„ ë°˜í™˜ â†’ ì¤‘ì•™ ê³„ì‚° ì˜¤ë¥˜

#### 3. run() ì—ì„œë§Œ deiconify()
```python
# âŒ ì‹¤íŒ¨: ì°½ì´ ì—¬ì „íˆ ì‘ì—… í‘œì‹œì¤„ì—ë§Œ ë‚˜íƒ€ë‚¨
def run(self):
    self.window.deiconify()
    self.window.mainloop()
```

**ë¬¸ì œ**: íƒ€ì´ë° ë¬¸ì œë¡œ ì œëŒ€ë¡œ í‘œì‹œ ì•ˆ ë¨

### êµí›ˆ

#### 1. customtkinterëŠ” ì¼ë°˜ tkinterì™€ ë‹¤ë¦„
- **ì¼ë°˜ tkinter**: ì°½ì´ ìë™ìœ¼ë¡œ í‘œì‹œë¨
- **customtkinter**: ëª…ì‹œì ìœ¼ë¡œ deiconify() í•„ìš”
- **ì£¼ì˜**: ë²„ì „ì— ë”°ë¼ ë™ì‘ì´ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ

#### 2. ì°½ í‘œì‹œ ìˆœì„œê°€ ì¤‘ìš”
```python
# âœ… ì˜¬ë°”ë¥¸ ìˆœì„œ
1. withdraw()       # ìˆ¨ê¹€
2. geometry()       # í¬ê¸°/ìœ„ì¹˜
3. create_widgets() # ìœ„ì ¯ ìƒì„±
4. update_idletasks() # ë ˆì´ì•„ì›ƒ ê³„ì‚°
5. deiconify()      # í‘œì‹œ
6. lift()           # ìµœìƒë‹¨
```

#### 3. WSL X11 í™˜ê²½ íŠ¹ìˆ˜ì„±
- ë‹¤ì¤‘ ëª¨ë‹ˆí„° í™˜ê²½ì—ì„œ ì°½ ìœ„ì¹˜ ë¬¸ì œ ë°œìƒ ê°€ëŠ¥
- ê³ ì • ì¢Œí‘œ ì‚¬ìš© ê¶Œì¥ (í™”ë©´ ì¤‘ì•™ ê³„ì‚° X)
- ìµœìƒë‹¨ ê³ ì •(`-topmost`) í›„ ì¼ì • ì‹œê°„ í›„ í•´ì œ í•„ìš”

#### 4. ë””ë²„ê¹… íŒ
```bash
# ì¼ë°˜ tkinter í…ŒìŠ¤íŠ¸
python3 -c "import tkinter as tk; root = tk.Tk(); root.mainloop()"

# customtkinter í…ŒìŠ¤íŠ¸
python3 -c "import customtkinter as ctk; root = ctk.CTk(); root.mainloop()"

# ì°½ ëª©ë¡ í™•ì¸ (wmctrl í•„ìš”)
wmctrl -l
```

### ê´€ë ¨ íŒŒì¼
- GUI ì½”ë“œ: `product_collector_gui.py` (ë¼ì¸ 82-151, 981-984)
- ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸: `run_crawler.ps1`

---

## ğŸ–¼ï¸ GUI ì°½ì´ ì‘ì—…í‘œì‹œì¤„ì—ë§Œ ë‚˜íƒ€ë‚˜ëŠ” ë¬¸ì œ (2025-10-31) - ìµœì¢… í•´ê²°

### ë¬¸ì œ: customtkinter GUIê°€ í™”ë©´ì— í‘œì‹œë˜ì§€ ì•ŠìŒ

**ì¦ìƒ**:
- ë°”íƒ•í™”ë©´ ë°”ë¡œê°€ê¸° ì‹¤í–‰ ì‹œ PowerShell í„°ë¯¸ë„ë§Œ í‘œì‹œ
- GUI í”„ë¡œì„¸ìŠ¤ëŠ” ì‹¤í–‰ ì¤‘ (ps aux í™•ì¸ë¨)
- ì‘ì—… í‘œì‹œì¤„ì— ì•„ì´ì½˜ì€ ë³´ì´ì§€ë§Œ ì°½ì´ í™”ë©´ì— ì•ˆ ë‚˜íƒ€ë‚¨
- Alt+Tabìœ¼ë¡œë„ ì°¾ì„ ìˆ˜ ì—†ìŒ
- ì‘ì—… í‘œì‹œì¤„ ì•„ì´ì½˜ í´ë¦­í•´ë„ ë°˜ì‘ ì—†ìŒ

**í™˜ê²½**:
- WSL Ubuntu 22.04 + WSLg (Windows 11 ê¸°ë³¸ X Server)
- customtkinter 5.2.0 (ë¬¸ì œ ë²„ì „)
- ë‹¤ì¤‘ ëª¨ë‹ˆí„° í™˜ê²½ (1920x1080 Ã— 2)

**ê·¼ë³¸ ì›ì¸**:
1. **customtkinter 5.2.0 + WSLg í˜¸í™˜ì„± ë¬¸ì œ**
   - customtkinter 5.2.0ì´ WSLg ì°½ ê´€ë¦¬ìì™€ ì¶©ëŒ
   - ì°½ì€ ìƒì„±ë˜ì§€ë§Œ X11 ì„œë²„ê°€ í™”ë©´ì— ë§¤í•‘í•˜ì§€ ëª»í•¨
   - `deiconify()`, `lift()`, `focus_force()` ëª¨ë‘ ì‘ë™í•˜ì§€ë§Œ ì—¬ì „íˆ ì•ˆ ë³´ì„

2. **WSLg ì°½ ê´€ë¦¬ ìºì‹œ ë¬¸ì œ**
   - WSLgê°€ ì°½ ì •ë³´ë¥¼ ìºì‹œí•˜ê³  ìˆì–´ì„œ ì¬ì‹œì‘ í•„ìš”

### âœ… ìµœì¢… í•´ê²°ì±…: 3ë‹¨ê³„ ìˆ˜ì •

#### 1ë‹¨ê³„: customtkinter ì•ˆì • ë²„ì „ìœ¼ë¡œ ë‹¤ìš´ê·¸ë ˆì´ë“œ
```bash
pip3 install customtkinter==5.1.3
```

**ì¤‘ìš”**: 5.2.0ì€ WSLgì™€ í˜¸í™˜ì„± ë¬¸ì œ, 5.1.3ì€ ì•ˆì •ì 

#### 2ë‹¨ê³„: ì´ˆê¸°í™” íŒ¨í„´ ìˆ˜ì •
```python
def __init__(self):
    self.window = ctk.CTk()
    
    # 1. ì°½ì„ ì¼ë‹¨ ìˆ¨ê¹€ (ì´ˆê¸°í™” ì¤‘ ê¹œë¹¡ì„ ë°©ì§€)
    self.window.withdraw()
    
    # 2. ì œëª©, í¬ê¸°, ìœ„ì¹˜ ì„¤ì •
    self.window.title("...")
    self.window.geometry("950x850+100+50")
    self.window.minsize(800, 700)
    
    # 3. ìœ„ì ¯ ìƒì„±
    self._create_widgets()
    
    # 4. ëª¨ë“  ì´ˆê¸°í™” ì™„ë£Œ í›„ ì°½ í‘œì‹œ (ë§ˆì§€ë§‰ì—!)
    self.window.update_idletasks()  # ë ˆì´ì•„ì›ƒ ê³„ì‚°
    self.window.deiconify()          # ì°½ í‘œì‹œ
    self.window.lift()               # ìµœìƒë‹¨
    self.window.attributes('-topmost', True)  # ì ì‹œ ê³ ì •
    self.window.after(300, lambda: self.window.attributes('-topmost', False))
```

#### 3ë‹¨ê³„: WSL ì¬ì‹œì‘ (Windows PowerShellì—ì„œ)
```powershell
wsl --shutdown
```

ê·¸ í›„ WSL ë‹¤ì‹œ ì‹œì‘í•˜ê³  ë°”íƒ•í™”ë©´ ë°”ë¡œê°€ê¸° ì‹¤í–‰

### âŒ ì‹œë„í–ˆì§€ë§Œ ì‹¤íŒ¨í•œ ë°©ë²•ë“¤

#### 1. geometry()ë§Œìœ¼ë¡œ ìœ„ì¹˜ ì„¤ì •
```python
# âŒ ì‹¤íŒ¨
self.window.geometry("950x850+100+50")
```
**ë¬¸ì œ**: customtkinterê°€ withdraw ìƒíƒœë¡œ ì‹œì‘í•˜ë©´ ìœ„ì¹˜ë§Œ ì„¤ì •í•´ë„ ì•ˆ ë³´ì„

#### 2. í™”ë©´ ì¤‘ì•™ ê³„ì‚°
```python
# âŒ ì‹¤íŒ¨: ë‹¤ì¤‘ ëª¨ë‹ˆí„°ì—ì„œ ì˜¤ë¥˜
screen_width = self.window.winfo_screenwidth()
x = (screen_width - window_width) // 2
```
**ë¬¸ì œ**: ëª¨ë“  ëª¨ë‹ˆí„° í•©ì‚° ë„ˆë¹„ ë°˜í™˜ â†’ ì˜ëª»ëœ ì¤‘ì•™ ê³„ì‚°

#### 3. wm_deiconify(), wm_state() ë“± ì¶”ê°€ ëª…ë ¹
```python
# âŒ ì‹¤íŒ¨: WSLg ìºì‹œ ë¬¸ì œë¡œ ì†Œìš©ì—†ìŒ
self.window.wm_deiconify()
self.window.wm_state('normal')
```
**ë¬¸ì œ**: WSLgê°€ ì´ë¯¸ ì°½ ì •ë³´ë¥¼ ìºì‹œí•´ì„œ ëª…ë ¹ ë¬´ì‹œ

#### 4. X Server ì¬ì‹œì‘ ì‹œë„
```powershell
# âŒ ì‹¤íŒ¨: VcXsrvê°€ ì‹¤í–‰ ì¤‘ì´ ì•„ë‹˜
taskkill /IM vcxsrv.exe /F
```
**ë¬¸ì œ**: Windows 11ì€ WSLg (ë‚´ì¥ X Server) ì‚¬ìš©, VcXsrv ë¶ˆí•„ìš”

#### 5. ë””ë²„ê·¸ ë¡œê·¸ ì¶”ê°€
ëª¨ë“  ì´ˆê¸°í™” ë‹¨ê³„ê°€ ì„±ê³µí–ˆì§€ë§Œ ì°½ì€ ì—¬ì „íˆ ì•ˆ ë³´ì„:
```
[DEBUG] CTk() ìƒì„± ì™„ë£Œ
[DEBUG] geometry ì„¤ì • ì™„ë£Œ
[DEBUG] deiconify() ì™„ë£Œ
[DEBUG] lift() ì™„ë£Œ
[DEBUG] __init__ ì™„ë£Œ - GUI ì´ˆê¸°í™” ì„±ê³µ!
```
â†’ customtkinterì™€ WSLg ì‚¬ì´ì˜ í˜¸í™˜ì„± ë¬¸ì œ í™•ì¸

### êµí›ˆ

#### 1. customtkinter ë²„ì „ ê´€ë¦¬ í•„ìˆ˜
- âœ… **5.1.3**: WSLg í˜¸í™˜, ì•ˆì •ì 
- âŒ **5.2.0**: WSLg í˜¸í™˜ì„± ë¬¸ì œ, ì°½ í‘œì‹œ ì‹¤íŒ¨
- **ê³ ì •**: `requirements.txt`ì— `customtkinter==5.1.3` ëª…ì‹œ

#### 2. ì°½ í‘œì‹œ ìˆœì„œê°€ ì¤‘ìš”
```python
# âœ… ì˜¬ë°”ë¥¸ ìˆœì„œ
1. withdraw()        # ìˆ¨ê¹€
2. ì„¤ì • (ì œëª©, í¬ê¸°, ìœ„ì¹˜)
3. ìœ„ì ¯ ìƒì„±
4. update_idletasks() # ë ˆì´ì•„ì›ƒ ê³„ì‚°
5. deiconify()       # í‘œì‹œ
6. lift()            # ìµœìƒë‹¨
```

#### 3. WSLg vs VcXsrv
- **Windows 11**: WSLg ê¸°ë³¸ ì‚¬ìš© (VcXsrv ë¶ˆí•„ìš”)
- **Windows 10**: VcXsrv ì„¤ì¹˜ í•„ìš”
- **í™•ì¸ ë°©ë²•**: `tasklist | findstr vcxsrv` (ì—†ìœ¼ë©´ WSLg)

#### 4. ì°½ í‘œì‹œ ë¬¸ì œ ë””ë²„ê¹… ìˆœì„œ
1. Python ë²„ì „ í™•ì¸: `python3 --version`
2. customtkinter ë²„ì „ í™•ì¸: `pip3 list | grep customtkinter`
3. ì¼ë°˜ tkinter í…ŒìŠ¤íŠ¸:
   ```bash
   python3 -c "import tkinter as tk; root = tk.Tk(); root.mainloop()"
   ```
4. customtkinter 5.1.3ìœ¼ë¡œ ë‹¤ìš´ê·¸ë ˆì´ë“œ
5. WSL ì¬ì‹œì‘: `wsl --shutdown` (PowerShell)

#### 5. ì¬ë°œ ë°©ì§€
**requirements.txt ìƒì„±**:
```txt
customtkinter==5.1.3
playwright>=1.40.0
asyncio-throttle>=1.0.1
python-dotenv>=1.0.0
psycopg2-binary>=2.9.9
```

**ì„¤ì¹˜**:
```bash
pip3 install -r requirements.txt
```

### ë¹ ë¥¸ í•´ê²° ê°€ì´ë“œ

GUI ì°½ì´ ì•ˆ ë³´ì¼ ë•Œ:

**1. ë²„ì „ í™•ì¸**
```bash
pip3 list | grep customtkinter
```

**2. 5.2.0ì´ë©´ ë‹¤ìš´ê·¸ë ˆì´ë“œ**
```bash
pip3 install customtkinter==5.1.3
```

**3. WSL ì¬ì‹œì‘ (PowerShell)**
```powershell
wsl --shutdown
```

**4. ë°”íƒ•í™”ë©´ ë°”ë¡œê°€ê¸° ë‹¤ì‹œ ì‹¤í–‰**

### ê´€ë ¨ íŒŒì¼
- GUI ì½”ë“œ: `product_collector_gui.py` (ë¼ì¸ 82-147)
- ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸: `run_crawler.ps1`
- ì˜ì¡´ì„± ê´€ë¦¬: `requirements.txt`

### ì†Œìš” ì‹œê°„
- ë¬¸ì œ ë°œê²¬ â†’ í•´ê²°: ~40ë¶„
- ì£¼ìš” ì‹œê°„ ì†Œëª¨: customtkinter ë²„ì „ ë¬¸ì œ íŒŒì•…

---

## ğŸ¯ ìƒí’ˆ ë§í¬ vs íŒë§¤ì ë§í¬ êµ¬ë¶„ ë¬¸ì œ (2025-11-03)

### ë¬¸ì œ: íŒë§¤ì ìŠ¤í† ì–´ í˜ì´ì§€ë¡œ ì´ë™í•˜ëŠ” ì˜¤ë¥˜

**ì¦ìƒ** (2025-11-03 14:21):
- `div[class*="product"] a` ì…€ë ‰í„°ë¡œ 110ê°œ ë§í¬ ë°œê²¬
- í´ë¦­ ì‹œ ìƒí’ˆ ìƒì„¸ í˜ì´ì§€ê°€ ì•„ë‹Œ íŒë§¤ì ìŠ¤í† ì–´ë¡œ ì´ë™
- ìƒí’ˆëª…, ê°€ê²©, ê²€ìƒ‰íƒœê·¸ ë“± ì •ë³´ ìˆ˜ì§‘ ì‹¤íŒ¨

**ê·¼ë³¸ ì›ì¸**:
```python
# âŒ ë¬¸ì œ ì½”ë“œ
products = await page.query_selector_all('div[class*="product"] a')

# ê²°ê³¼: 110ê°œ ë§í¬ (ìƒí’ˆ + íŒë§¤ì í˜¼í•©)
# - ìƒí’ˆ ë§í¬: miniProductCard_link, basicProductCard_link
# - íŒë§¤ì ë§í¬: productCardMallLink_mall_link â† ì´ê²ƒë„ í¬í•¨ë¨!
```

### ë¶„ì„ ê³¼ì •

#### 1ë‹¨ê³„: ë§í¬ ë¶„ë¥˜ (2025-11-03 14:35)
```python
# 110ê°œ ë§í¬ ë¶„ì„ ê²°ê³¼ (ì²˜ìŒ 30ê°œ ì¤‘):
ğŸ“¦ ìƒí’ˆ ë§í¬: 18ê°œ
  - class='miniProductCard_link__1X65D ...'
  - URL: smartstore.naver.com/main/products/ìˆ«ì

ğŸª íŒë§¤ì ë§í¬: 9ê°œ
  - class='productCardMallLink_mall_link__eASxT ...'
  - URL: smartstore.naver.com/inflow/outlink/url?url=...

ğŸ“¢ ê´‘ê³  ë§í¬: 3ê°œ
  - URL: ader.naver.com/...
```

#### 2ë‹¨ê³„: class íŒ¨í„´ ë¶„ì„
**íŒë§¤ì ë§í¬ íŠ¹ì§•**:
- classì— `mall` í¬í•¨ â†’ `productCardMallLink_mall_link`
- `/outlink/` URL íŒ¨í„´

**ìƒí’ˆ ë§í¬ íŠ¹ì§•**:
- classì— `ProductCard_link` í¬í•¨ (mall ì œì™¸)
- `/products/ìˆ«ì` URL íŒ¨í„´

### âœ… í•´ê²°ì±…

```python
# âœ… ì˜¬ë°”ë¥¸ ì…€ë ‰í„° (íŒë§¤ì ë§í¬ ì œì™¸)
products = await page.query_selector_all('a[class*="ProductCard_link"]')

# ê²°ê³¼: 59ê°œ ìƒí’ˆ ë§í¬ë§Œ ì •í™•íˆ ì„ íƒ
# - miniProductCard_link âœ…
# - basicProductCard_link âœ…
# - productCardMallLink_mall_link âŒ (ìë™ ì œì™¸)
```

### ê²€ì¦ ê²°ê³¼ (2025-11-03 14:34)

**í…ŒìŠ¤íŠ¸**: 13ë²ˆì§¸ë¶€í„° 10ê°œ ìƒí’ˆ ìˆ˜ì§‘
```
[13ë²ˆì§¸ ìƒí’ˆ] í´ë¦­... [í”¼ì¹˜ìˆ˜ë©´ì ì˜· ê²¨ìš¸í™ˆì›¨ì–´ ì›í”¼ìŠ¤ì ì˜·...] âœ…
[14ë²ˆì§¸ ìƒí’ˆ] í´ë¦­... [ë©”ì¼ë¦¬ ë”°ëœ»í•œ ì–‘í„¸ ê¸°ëª¨ ìŠ¤íŒ...] âœ…
...
[22ë²ˆì§¸ ìƒí’ˆ] í´ë¦­... [í•˜ì´ì›¨ìŠ¤íŠ¸ ë°´ë”© ì™€ì´ë“œìŠ¬ë™ìŠ¤...] âœ…
```

**ì„±ê³µë¥ **: 10/10 (100%)
- âœ… ëª¨ë“  í´ë¦­ì´ ìƒí’ˆ ìƒì„¸ í˜ì´ì§€ë¡œ ì •í™•íˆ ì´ë™
- âœ… ë´‡ ì°¨ë‹¨ 0ê±´
- âœ… íŒë§¤ì í˜ì´ì§€ ì´ë™ 0ê±´

### í•µì‹¬ êµí›ˆ

| ì…€ë ‰í„° | ë°œê²¬ ìˆ˜ | ë¬¸ì œ | ì‚¬ìš© |
|--------|---------|------|------|
| `div[class*="product"] a` | 110ê°œ | íŒë§¤ì ë§í¬ í¬í•¨ | âŒ |
| `a[href*="/products/"]:has(img)` | 0ê°œ | ì‘ë™ ì•ˆí•¨ | âŒ |
| `a[class*="ProductCard_link"]` | 59ê°œ | ìƒí’ˆë§Œ ì •í™•íˆ | âœ… |

**ì¤‘ìš”**:
- ì…€ë ‰í„°ë¥¼ ì„ íƒí•  ë•ŒëŠ” ë°˜ë“œì‹œ **ë§í¬ íƒ€ì… ë¶„ì„** í•„ìš”
- ë‹¨ìˆœíˆ "ë§ì´ ë°œê²¬ëœë‹¤"ê³  ì¢‹ì€ ì…€ë ‰í„°ê°€ ì•„ë‹˜
- classëª…ì— `mall`, `shop`, `store` í¬í•¨ ì—¬ë¶€ í™•ì¸ í•„ìˆ˜

### ê´€ë ¨ íŒŒì¼
- í…ŒìŠ¤íŠ¸ íŒŒì¼: `tests/test_find_product_link.py`
- ìµœì¢… ì½”ë“œ: `tests/test_real_click.py` (line 89)

### ì†Œìš” ì‹œê°„
- ë¬¸ì œ ë°œê²¬ â†’ í•´ê²°: ~20ë¶„
- ë§í¬ ë¶„ì„ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±ìœ¼ë¡œ ì‹ ì†í•œ í•´ê²°

---
