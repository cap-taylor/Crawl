# GUI 재설계 문서 (v1.3.0)
> Modern UI/UX Redesign - 2025-11-03

## 개요

네이버 쇼핑 상품 수집기 GUI를 현대적인 UI/UX 원칙에 따라 완전히 재설계했습니다.

## 주요 변경사항

### 1. 레이아웃 개선 (3단 구조)

**이전 (v1.2.0)**: 2단 레이아웃 (컨트롤 35% | 로그 65%)
```
┌─────────────────────────────────┐
│ 컨트롤 패널 | 로그 영역         │
└─────────────────────────────────┘
```

**현재 (v1.3.0)**: 3단 레이아웃 (헤더 + 왼쪽 패널 + 메인 콘텐츠)
```
┌─────────────────────────────────────────────────┐
│  헤더: 타이틀 + 버전 + 상태               (60px)│
├───────────┬─────────────────────────────────────┤
│ 컨트롤    │  메인 콘텐츠                        │
│ 패널      │  ┌───────────────────────────────┐  │
│ (280px)   │  │ 통계 대시보드 (4개 카드)      │  │
│           │  └───────────────────────────────┘  │
│ 카테고리  │  ┌───────────────────────────────┐  │
│ 모드      │  │ 상품 테이블 (최근 10개)       │  │
│ 버튼      │  └───────────────────────────────┘  │
│           │  ┌───────────────────────────────┐  │
│           │  │ 이벤트 로그 (에러/경고만)     │  │
│           │  └───────────────────────────────┘  │
└───────────┴─────────────────────────────────────┘
```

### 2. 통계 대시보드 (카드 기반)

**이전**: 수직 텍스트 리스트
```
수집: 127개
속도: 4.3개/분
최근: 여자 티셔츠...
```

**현재**: 4개의 시각적 카드
```
┌─────────────┬─────────────┬─────────────┬─────────────┐
│ 총 수집     │ DB 저장     │ 중복        │ 수집 속도   │
│ 127개       │ 95개 (74.8%)│ 32개 (25.2%)│ 4.3개/분    │
│             │             │             │ 29분 32초   │
└─────────────┴─────────────┴─────────────┴─────────────┘
```

**개선 효과**:
- 한눈에 파악 가능한 메트릭
- 색상 코딩으로 시각적 구분
- 백분율 표시로 직관적 이해

### 3. 상품 테이블 (실시간 업데이트)

**이전**: 텍스트 로그에 섞여서 표시
```
[14:23:15] 수집: 여자 티셔츠 - 26,980원
[14:23:18] DB 저장: 나이키 여자...
```

**현재**: 전용 테이블 위젯
```
┌──────────────────────────────────────────────────────┐
│ # │ 상품명 (30자)      │ 가격    │ 브랜드  │태그│상태│
├───┼───────────────────┼─────────┼────────┼────┼────┤
│ 1 │ 여자 티셔츠...     │ 26,980원│오이이이│10개│OK  │
│ 2 │ 나이키 여자...     │ 78,800원│나이키  │10개│OK  │
│ 3 │ 반팔 티셔츠...     │ 15,900원│무신사  │8개 │DUP │
└──────────────────────────────────────────────────────┘
```

**특징**:
- 최근 10개 상품만 표시 (메모리 효율)
- 최신 상품이 맨 위로 (역순 정렬)
- 상태 색상 코딩:
  - **OK** (초록): DB 저장 성공
  - **DUP** (노랑): 중복 상품
  - **ERR** (빨강): 저장 실패
- 교대 행 색상 (가독성)
- 자동 스크롤

### 4. 이벤트 로그 (간소화)

**이전**: 모든 상품 로그 표시 (100개 상품 = 100줄)
```
[14:23:15] 수집: 상품1
[14:23:16] DB 저장: 상품1
[14:23:17] 수집: 상품2
[14:23:18] DB 저장: 상품2
...
```

**현재**: 중요 이벤트만 표시
```
[14:23:00] ============================================
[14:23:00] 카테고리: 여성의류
[14:23:00] 수집 모드: 무한 (중지 버튼으로 멈춤)
[14:23:00] ============================================
[14:25:30] 경고: 캡차 감지됨
[14:27:00] 완료! 총 127개 상품 → DB 저장됨
```

**필터링 키워드**:
- 오류, 에러, 실패
- 경고
- 시작, 완료, 중지
- 카테고리, 모드
- `=` 구분선

### 5. 색상 팔레트 (프로페셔널 다크 테마)

```python
colors = {
    'bg_dark': '#1a1a1a',      # 메인 배경 (어두운 회색)
    'bg_card': '#2d2d2d',       # 카드 배경 (중간 회색)
    'bg_input': '#252525',      # 입력 필드 (짙은 회색)
    'accent_blue': '#3b82f6',   # 기본 강조 (파랑)
    'accent_green': '#10b981',  # 성공 (초록)
    'accent_red': '#ef4444',    # 에러 (빨강)
    'accent_yellow': '#f59e0b', # 경고 (노랑)
    'accent_orange': '#fb923c', # 중지 (주황)
    'text_primary': '#ffffff',  # 기본 텍스트 (흰색)
    'text_secondary': '#9ca3af',# 보조 텍스트 (회색)
    'border': '#404040',        # 테두리 (진한 회색)
}
```

### 6. 타이포그래피 (계층 구조)

```
헤더 타이틀:    Arial 20pt Bold (흰색)
헤더 서브:      Arial 10pt (회색)
헤더 상태:      Arial 14pt Bold (색상 코딩)

섹션 제목:      Arial 13pt Bold (흰색)
카드 타이틀:    Arial 11pt (회색)
카드 값:        Arial 18pt Bold (색상 코딩)

버튼 텍스트:    Arial 15pt Bold
입력 필드:      Arial 12pt
테이블 헤더:    Arial 10pt Bold (회색)
테이블 데이터:  Arial 9pt
로그:           Consolas 10pt (고정폭)
```

### 7. 인터랙티브 요소

**버튼**:
- 둥근 모서리 (8px)
- 호버 효과 (색상 변경)
- 48px 높이 (터치 친화적)
- 아이콘 사용:
  - `▶ 수집 시작` (파랑)
  - `■ 수집 중지` (주황)

**카드**:
- 테두리 (1px, #404040)
- 둥근 모서리 (8px)
- 패딩 (12px)
- 시각적 계층 구조

**테이블**:
- 교대 행 색상 (가독성)
- 고정 헤더
- 자동 스크롤

**입력 필드**:
- 테두리 강조 (포커스 시)
- 비활성화 상태 시각화
- 둥근 모서리 (6px)

## 사용자 경험 개선

### 1. 정보 밀도 최적화
- 중요 정보는 눈에 띄게 (대시보드 카드)
- 세부 정보는 접근 가능하게 (테이블, 로그)
- 불필요한 정보 제거 (개별 상품 로그)

### 2. 시각적 계층 구조
```
헤더 (상태 파악) → 대시보드 (메트릭) → 테이블 (상세) → 로그 (디버깅)
```

### 3. 실시간 피드백
- 헤더 상태: `● 대기 중` → `● 수집 중 (127개)` → `● 완료 (127개)`
- 대시보드: 1초마다 자동 업데이트
- 테이블: 새 상품 즉시 추가
- 로그: 중요 이벤트만 실시간 표시

### 4. 색상 코딩
- **파랑**: 진행 중 (수집 중)
- **초록**: 성공 (DB 저장 OK)
- **노랑**: 경고 (중복, 준비 중)
- **주황**: 중지 (사용자 요청)
- **빨강**: 에러 (실패)

## 기술 구현

### 1. 컴포넌트 분리
```python
_create_ui()              # 메인 진입점
├─ _create_header()       # 헤더 영역
├─ _create_control_panel() # 왼쪽 컨트롤
└─ _create_main_content()  # 메인 콘텐츠
   ├─ _create_stats_dashboard() # 통계 대시보드
   ├─ _create_product_table()   # 상품 테이블
   └─ _create_event_log()       # 이벤트 로그
```

### 2. 상태 관리
```python
self.stats = {
    'collected': 0,      # 총 수집 개수
    'saved': 0,          # DB 저장 성공
    'duplicates': 0,     # 중복 상품
    'errors': 0,         # 에러 발생
    'start_time': None,  # 시작 시간
}

self.recent_products = []  # 최근 10개 상품
```

### 3. 실시간 업데이트
```python
_update_stats()           # 1초마다 호출
├─ 크롤러 데이터 추출
├─ 통계 계산 (속도, 백분율)
├─ 대시보드 카드 업데이트
├─ 헤더 상태 업데이트
└─ 테이블 자동 추가
```

### 4. 메모리 효율
- 테이블: 최근 10개만 유지
- 로그: 1000줄 제한 (자동 삭제)
- 필터링: 중요 이벤트만 저장

## 성능 최적화

### 1. 렌더링 효율
- 테이블: 변경 시에만 다시 그리기
- 통계: 1초 간격 업데이트 (throttle)
- 로그: 100ms 간격 배치 업데이트

### 2. 이벤트 처리
- 비동기 크롤링 (별도 스레드)
- 큐 기반 로그 전달
- UI 블로킹 방지

## 호환성

### 환경
- WSL + WSLg (Windows 11)
- customtkinter 5.1.3 (고정)
- Python 3.8+

### 알려진 제약사항
- 이모지 사용 불가 (customtkinter 렌더링 문제)
- 유니코드 심볼 사용: `●` `▶` `■`
- 고정폭 폰트 (로그): Consolas, Courier

## 테스트 방법

### 1. 기본 테스트
```bash
cd /home/dino/MyProjects/Crawl
python3 test_gui.py
```

### 2. 실제 수집 테스트
```bash
# 바탕화면 바로가기 실행
# 또는
python3 product_collector_gui.py
```

### 3. 체크리스트
- [ ] 헤더 표시 확인
- [ ] 카테고리 드롭다운 동작
- [ ] 수집 모드 라디오 버튼
- [ ] 시작 버튼 클릭 → 상태 변경
- [ ] 대시보드 카드 업데이트
- [ ] 테이블에 상품 추가
- [ ] 로그에 중요 이벤트만 표시
- [ ] 중지 버튼 동작
- [ ] 완료 후 상태 업데이트

## 미래 개선 계획

### v1.4.0 (예정)
- [ ] 애니메이션 효과 (카드 등장, 테이블 행 추가)
- [ ] 차트 추가 (수집 속도 그래프)
- [ ] 다크/라이트 테마 전환
- [ ] 창 크기 조절 대응
- [ ] 키보드 단축키 (Ctrl+S: 시작, Ctrl+Q: 중지)

### v1.5.0 (예정)
- [ ] 여러 카테고리 동시 수집
- [ ] 수집 히스토리 그래프
- [ ] 상품 미리보기 (썸네일)
- [ ] 필터/정렬 기능
- [ ] 내보내기 (CSV, Excel)

## 버전 히스토리

### v1.3.0 (2025-11-03)
- ✅ 완전한 UI/UX 재설계
- ✅ 3단 레이아웃 구조
- ✅ 통계 대시보드 (4개 카드)
- ✅ 상품 테이블 위젯
- ✅ 이벤트 로그 간소화
- ✅ 현대적 색상 팔레트
- ✅ 프로페셔널 타이포그래피

### v1.2.0 (2025-11-03)
- 30개 카테고리 지원
- 무한 수집 모드
- DB 직접 저장
- SimpleCrawler 통합

### v1.1.0 (2025-11-02)
- 기본 GUI 구현
- 2단 레이아웃
- 실시간 로그

## 참고 자료

- customtkinter 문서: https://github.com/TomSchimansky/CustomTkinter
- UI/UX 원칙: Material Design, Apple HIG
- 색상 팔레트: Tailwind CSS
